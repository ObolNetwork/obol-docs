<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-v1.0.0 docs-doc-page docs-doc-id-advanced/deployment-best-practices" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Deployment Best Practices | Obol Network</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.obol.org/docs/advanced/deployment-best-practices"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:image" content="/img/obol_og_image.png"><meta data-rh="true" property="og:image:width" content="1200"><meta data-rh="true" property="og:image:height" content="630"><meta data-rh="true" name="docusaurus_version" content="v1.0.0"><meta data-rh="true" name="docusaurus_tag" content="docs-default-v1.0.0"><meta data-rh="true" name="docsearch:version" content="v1.0.0"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-v1.0.0"><meta data-rh="true" property="og:title" content="Deployment Best Practices | Obol Network"><meta data-rh="true" name="description" content="DV Deployment best practices, for running an optimal Distributed Validator setup at scale."><meta data-rh="true" property="og:description" content="DV Deployment best practices, for running an optimal Distributed Validator setup at scale."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.obol.org/docs/advanced/deployment-best-practices"><link data-rh="true" rel="alternate" href="https://docs.obol.org/docs/advanced/deployment-best-practices" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.obol.org/docs/advanced/deployment-best-practices" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DTT2S469C4"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-DTT2S469C4",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.dbaa67c0.css">
<script src="/assets/js/runtime~main.b350b374.js" defer="defer"></script>
<script src="/assets/js/main.6f49e9dd.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?t("light"):t("dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/ObolIconDark.svg" alt="Obol Network Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/ObolIconLight.svg" alt="Obol Network Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Obol Network</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/int/Overview">Docs</a><a class="navbar__item navbar__link" href="/api">API</a><a class="navbar__item navbar__link" href="/docs/sdk">SDK</a><a href="https://blog.obol.tech" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/obolnetwork/obol-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/advanced/deployment-best-practices">v1.0.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/advanced/deployment-best-practices">Next</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/advanced/deployment-best-practices">v1.0.0</a></li><li><a class="dropdown__link" href="/docs/v0.19.2/int/Overview">v0.19.2</a></li><li><a class="dropdown__link" href="/docs/v0.19.1/int/Overview">v0.19.1</a></li><li><a class="dropdown__link" href="/docs/v0.19.0/intro">v0.19.0</a></li><li><a class="dropdown__link" href="/docs/v0.18.0/intro">v0.18.0</a></li><li><a class="dropdown__link" href="/docs/v0.17.1/intro">v0.17.1</a></li><li><a class="dropdown__link" href="/docs/v0.17.0/intro">v0.17.0</a></li><li><a class="dropdown__link" href="/docs/v0.16.0/intro">v0.16.0</a></li><li><a class="dropdown__link" href="/docs/v0.15.0/intro">v0.15.0</a></li><li><a class="dropdown__link" href="/docs/v0.14.4/intro">v0.14.4</a></li><li><a class="dropdown__link" href="/docs/v0.14.0/intro">v0.14.0</a></li><li><a class="dropdown__link" href="/docs/v0.13.0/intro">v0.13.0</a></li><li><a class="dropdown__link" href="/docs/v0.12.0/intro">v0.12.0</a></li><li><a class="dropdown__link" href="/docs/v0.11.0/intro">v0.11.0</a></li><li><a class="dropdown__link" href="/docs/v0.10.1/intro">v0.10.1</a></li><li><a class="dropdown__link" href="/docs/v0.10.0/intro">v0.10.0</a></li><li><a class="dropdown__link" href="/docs/v0.9.0/intro">v0.9.0</a></li><li><a class="dropdown__link" href="/docs/v0.8.1/intro">v0.8.1</a></li><li><a class="dropdown__link" href="/docs/v0.8.0/intro">v0.8.0</a></li><li><a class="dropdown__link" href="/docs/v0.7.0/intro">v0.7.0</a></li><li><a class="dropdown__link" href="/docs/v0.6.1/intro">v0.6.1</a></li><li><a class="dropdown__link" href="/docs/v0.6.0/intro">v0.6.0</a></li><li><a class="dropdown__link" href="/docs/v0.5.0/intro">v0.5.0</a></li><li><a class="dropdown__link" href="/docs/v0.4.0/intro">v0.4.0</a></li><li><a class="dropdown__link" href="/docs/v0.3.0/intro">v0.3.0</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-v1.0.0"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/int/Overview">Introduction</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/int/Overview">Overview of Obol</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/int/key-concepts">Key concepts</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/start/quickstart_overview">Getting started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/advanced/quickstart-builder-api">Advanced Guides</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced/quickstart-builder-api">Enable MEV</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced/monitoring">Monitoring your Node</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced/obol-monitoring">Push Metrics to Obol Monitoring</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced/quickstart-sdk">Create a DV using the SDK</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced/quickstart-eigenpod">Create an EigenLayer DV</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced/test-command">Test a Cluster</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced/quickstart-split">Split validator private keys</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced/quickstart-combine">Combine DV private key shares</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced/self-relay">Self-Host a Relay</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/advanced/deployment-best-practices">Deployment Best Practices</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced/adv-docker-configs">Advanced Docker Configs</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/faq/general">FAQ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/charon/intro">Charon</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/dvl/intro">DV Launchpad</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/sc/introducing-obol-splits">Smart contracts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/sdk">SDK</a><button aria-label="Expand sidebar category &#x27;SDK&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/sec/overview">Security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/cf/bug-report">Contribution &amp; Feedback</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/fr/ethereum_and_dvt">Further reading</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Advanced Guides</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Deployment Best Practices</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v1.0.0</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Deployment Best Practices</h1></header>
<p>The following are a selection of best practices for deploying Distributed Validator Clusters at scale on mainnet.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="hardware-specifications">Hardware Specifications<a href="#hardware-specifications" class="hash-link" aria-label="Direct link to Hardware Specifications" title="Direct link to Hardware Specifications">​</a></h2>
<p>The following specifications are recommended for bare metal machines for clusters intending to run a significant number of mainnet validators:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="minimum-specs">Minimum Specs<a href="#minimum-specs" class="hash-link" aria-label="Direct link to Minimum Specs" title="Direct link to Minimum Specs">​</a></h3>
<ul>
<li>A CPU with 4+ cores, favouring high clock speed over more cores. ( &gt;3.0GHz and higher or a cpubenchmark <a href="https://www.cpubenchmark.net/singleThread.html" target="_blank" rel="noopener noreferrer">single thread</a> score of &gt;2,500)</li>
<li>16GB of RAM</li>
<li>2TB+ free SSD disk space (for mainnet)</li>
<li>10mb/s internet bandwidth</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="recommended-specs-for-extremely-large-clusters">Recommended Specs for extremely large clusters<a href="#recommended-specs-for-extremely-large-clusters" class="hash-link" aria-label="Direct link to Recommended Specs for extremely large clusters" title="Direct link to Recommended Specs for extremely large clusters">​</a></h3>
<ul>
<li>A CPU with 8+ physical cores, with clock speeds &gt;3.5Ghz</li>
<li>32GB+ RAM (depending on the EL+CL clients)</li>
<li>4TB+ NVMe storage</li>
<li>25mb/s internet bandwidth</li>
</ul>
<p>An NVMe storage device is <strong>highly recommended for optimal performance</strong>, offering nearly 10x more random read/writes per second than a standard SSD.</p>
<p>Inadequate hardware (low-performance virtualized servers and/or slow HDD storage) has been observed to hinder performance, indicating the necessity of provisioning adequate resources. <strong>CPU clock speed and Disk throughput+latency are the most important factors for running a performant validator.</strong></p>
<p>Note that the Charon client itself takes less than 1GB of RAM and minimal CPU load. In order to optimize both performance and cost-effectiveness, it is recommended to prioritize physical over virtualized setups. Such configurations typically offer greater performance and minimize overhead associated with virtualization, contributing to improved efficiency and reliability.</p>
<p>When constructing a DV cluster, it is important to be conscious of whether a cluster runs across cloud providers or stays within a single provider&#x27;s private networking. This likely can impact the bandwidth and latency of the connections between nodes, as well as the egress costs of the cluster (Charon has a relatively low communication with its peers, averaging 10s of kb/s in large mainnet clusters). Ideally, bare metal machines in different locations within the same continent and with at least two providers, balances redundancy and performance.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="intra-cluster-latency">Intra-cluster Latency<a href="#intra-cluster-latency" class="hash-link" aria-label="Direct link to Intra-cluster Latency" title="Direct link to Intra-cluster Latency">​</a></h2>
<p>It is recommended to <strong>keep peer ping latency below 235 milliseconds for all peers in a cluster</strong>. Charon should report a consensus duration averaging under 1 second through its prometheus metric <code>core_consensus_duration_seconds_bucket</code> and associated grafana panel titled &quot;Consensus Duration&quot;.</p>
<p>In cases where latencies exceed these thresholds, efforts should be made to reduce the physical distance between nodes or optimize Internet Service Provider (ISP) settings accordingly. Ensure all nodes are connecting to one another directly rather than through a relay.</p>
<p>For high-scale, performance deployments; inter-peer latency of &lt; 25ms is optimal, along with an average consensus duration under 100ms.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="node-locations">Node Locations<a href="#node-locations" class="hash-link" aria-label="Direct link to Node Locations" title="Direct link to Node Locations">​</a></h2>
<p>For optimal performance and high availability, it is recommended to provision machines or virtual machines (VMs) within the same continent. This practice helps minimize potential latency issues ensuring efficient communication and responsiveness. Consider maps of <a href="https://www.submarinecablemap.com/" target="_blank" rel="noopener noreferrer">undersea internet cables</a> when selecting locations across oceans with low latency.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="peer-connections">Peer Connections<a href="#peer-connections" class="hash-link" aria-label="Direct link to Peer Connections" title="Direct link to Peer Connections">​</a></h2>
<p>Charon clients can establish connections with one another in two ways: either through a third publicly accessible server known as <a href="/docs/charon/charon-cli-reference#host-a-relay">a relay</a> or directly with one another if they can establish a connection. The former is known as a relay connection and the latter is known as a direct connection.</p>
<p>It is important that all nodes in a cluster be directly connected to one another - this can halve the latency between them and reduces bandwidth constraints significantly. Opening Charon’s p2p port (the default is <code>3610</code>) to the Internet, or configuring your routers NAT gateway to permit connections to your Charon client, are what are required to facilitate a direct connection between clients.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="instance-independence">Instance Independence<a href="#instance-independence" class="hash-link" aria-label="Direct link to Instance Independence" title="Direct link to Instance Independence">​</a></h2>
<p>Each node in the cluster should have its own independent beacon node (EL+CL) and validator client as well as Charon client. Sharing beacon nodes between the different nodes would potentially impact the fault tolerance of the cluster and as a result should be avoided.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="placement-of-charon-clients">Placement of Charon clients<a href="#placement-of-charon-clients" class="hash-link" aria-label="Direct link to Placement of Charon clients" title="Direct link to Placement of Charon clients">​</a></h2>
<p>If you wish to divide a Distributed Validator node across multiple physical or virtual machines; locaate the Charon client on the EL/CL machine instead of the VC machine. This setup reduces latency from Charon to the consensus layer, as well as keeping the public-internet connected clients separate from the clients that hold the validator private keys. Be sure to use encrypted communication between your VC and the Charon client, potentially through a cloud-provided network, a self-managed network tunnel, a VPN, a Kubernetes <a href="https://kubernetes.io/docs/concepts/extend-kubernetes/compute-storage-net/network-plugins/" target="_blank" rel="noopener noreferrer">CNI</a>, or other manner.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="node-configuration">Node Configuration<a href="#node-configuration" class="hash-link" aria-label="Direct link to Node Configuration" title="Direct link to Node Configuration">​</a></h2>
<p>Cluster sizes that allow for Byzantine Fault Tolerance are recommended as they are safer than clusters with simply Crash Fault Tolerance (See this guide for reference - <a href="/docs/charon/cluster-configuration#cluster-size-and-resilience">Cluster Size and Resilience</a>).</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="mev-boost-relays">MEV-Boost Relays<a href="#mev-boost-relays" class="hash-link" aria-label="Direct link to MEV-Boost Relays" title="Direct link to MEV-Boost Relays">​</a></h2>
<p>MEV relays are configured at the Consensus Layer or MEV-boost client level. Refer to our <a href="/docs/advanced/quickstart-builder-api">guide</a> to ensure all necessary configuration has been applied to your clients. As with all validators, low latency during proposal opportunities is extremely important. By default, MEV-Boost waits for all configured relays to return a bid, or will timeout if any have not returned a bid within 950ms. This default timeout is generally too slow for a distributed cluster (think of this time as additive to the time it takes the cluster to come to consensus, both of which need to happen within a 2 second window for optimal proposal broadcasting). It is likely better to only list relays that are located geographically near your node, so that once all relays respond (e.g. in &lt; 50ms) your cluster will move forward with the proposal.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="client-diversity">Client Diversity<a href="#client-diversity" class="hash-link" aria-label="Direct link to Client Diversity" title="Direct link to Client Diversity">​</a></h2>
<p>The clusters should consist of a combination of your preferred consensus, execution, and validator clients. It is recommended to include a combination of multiple clients in order to have a healthy client diversity within the cluster, ideally, if any single client type fails, it should be less than the fault tolerance of the cluster, and the validators should stay online/not do anything slashable.</p>
<p>Remote signers can be included as well, such as Web3signer or Dirk. A diversity of private key infrastructure setups further reduces the risk of total key compromise.</p>
<p>Tested client combinations can be found in the <a href="https://github.com/ObolNetwork/charon/releases" target="_blank" rel="noopener noreferrer">release notes</a> for each Charon version.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="metrics-monitoring">Metrics Monitoring<a href="#metrics-monitoring" class="hash-link" aria-label="Direct link to Metrics Monitoring" title="Direct link to Metrics Monitoring">​</a></h2>
<p>As requested by Obol Labs, node operators can push <a href="/docs/advanced/obol-monitoring">standard monitoring</a> (Prometheus) and logging (Loki) data to Obol Labs&#x27; core team&#x27;s cloud infrastructure for in-depth analysis of performance data and to assist during potential issues that may arise. Our recommendation for operators is to independently store information on their node health over the course of the validator lifecycle as well as any information on validator performance that they collect during the normal life cycle of a validator.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="obol-splits">Obol Splits<a href="#obol-splits" class="hash-link" aria-label="Direct link to Obol Splits" title="Direct link to Obol Splits">​</a></h2>
<p>Leveraging <a href="/docs/sc/introducing-obol-splits">Obol Splits</a> smart contracts allows for non-custodial fund handling and allows for net customer payouts in an ongoing manner. Obol Splits ensure no commingling of funds across customers, and maintain full non-custodial integrity. Read more about Obol Splits <a href="/docs/faq/general#obol-splits">here</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="deposit-process">Deposit Process<a href="#deposit-process" class="hash-link" aria-label="Direct link to Deposit Process" title="Direct link to Deposit Process">​</a></h2>
<p>Deposit processes can be done via an automated script. This can be used for DV clusters until they reach the desired number of validators.</p>
<p>It is important to allow time for the validators to be activated (usually &lt; 24 hours).</p>
<p>Consider using batching smart contracts to reduce the gas cost of a script, but take caution in their integration not to make an invalid deposit.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/ObolNetwork/obol-docs/edit/main/versioned_docs/version-v1.0.0/advanced/deployment-best-practices.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/advanced/self-relay"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Self-Host a Relay</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/advanced/adv-docker-configs"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Advanced Docker Configs</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#hardware-specifications" class="table-of-contents__link toc-highlight">Hardware Specifications</a><ul><li><a href="#minimum-specs" class="table-of-contents__link toc-highlight">Minimum Specs</a></li><li><a href="#recommended-specs-for-extremely-large-clusters" class="table-of-contents__link toc-highlight">Recommended Specs for extremely large clusters</a></li></ul></li><li><a href="#intra-cluster-latency" class="table-of-contents__link toc-highlight">Intra-cluster Latency</a></li><li><a href="#node-locations" class="table-of-contents__link toc-highlight">Node Locations</a></li><li><a href="#peer-connections" class="table-of-contents__link toc-highlight">Peer Connections</a></li><li><a href="#instance-independence" class="table-of-contents__link toc-highlight">Instance Independence</a></li><li><a href="#placement-of-charon-clients" class="table-of-contents__link toc-highlight">Placement of Charon clients</a></li><li><a href="#node-configuration" class="table-of-contents__link toc-highlight">Node Configuration</a></li><li><a href="#mev-boost-relays" class="table-of-contents__link toc-highlight">MEV-Boost Relays</a></li><li><a href="#client-diversity" class="table-of-contents__link toc-highlight">Client Diversity</a></li><li><a href="#metrics-monitoring" class="table-of-contents__link toc-highlight">Metrics Monitoring</a></li><li><a href="#obol-splits" class="table-of-contents__link toc-highlight">Obol Splits</a></li><li><a href="#deposit-process" class="table-of-contents__link toc-highlight">Deposit Process</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/int/Overview">Intro to Obol</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/charon/intro">Charon</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/dvl/intro">DV Launchpad</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/n6ebKsX46w" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/obolnetwork" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://blog.obol.tech/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://github.com/obolnetwork/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://obol.tech/" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/img/ObolLineWhite.svg" alt="Obol Network Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width="30px" height="30px"><img src="/img/ObolLineWhite.svg" alt="Obol Network Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width="30px" height="30px"></a></div><div class="footer__copyright">Copyright © 2024 Obol Labs, Inc. </div></div></div></footer></div>
</body>
</html>