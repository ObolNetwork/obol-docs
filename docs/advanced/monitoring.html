<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-v1.0.0 docs-doc-page docs-doc-id-advanced/monitoring" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Monitoring your Node | Obol Network</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.obol.org/docs/advanced/monitoring"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:image" content="/img/obol_og_image.png"><meta data-rh="true" property="og:image:width" content="1200"><meta data-rh="true" property="og:image:height" content="630"><meta data-rh="true" name="docusaurus_version" content="v1.0.0"><meta data-rh="true" name="docusaurus_tag" content="docs-default-v1.0.0"><meta data-rh="true" name="docsearch:version" content="v1.0.0"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-v1.0.0"><meta data-rh="true" property="og:title" content="Monitoring your Node | Obol Network"><meta data-rh="true" name="description" content="Add monitoring credentials to help the Obol Team monitor the health of your cluster"><meta data-rh="true" property="og:description" content="Add monitoring credentials to help the Obol Team monitor the health of your cluster"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.obol.org/docs/advanced/monitoring"><link data-rh="true" rel="alternate" href="https://docs.obol.org/docs/advanced/monitoring" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.obol.org/docs/advanced/monitoring" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DTT2S469C4"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-DTT2S469C4",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.dbaa67c0.css">
<script src="/assets/js/runtime~main.b350b374.js" defer="defer"></script>
<script src="/assets/js/main.6f49e9dd.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?t("light"):t("dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/ObolIconDark.svg" alt="Obol Network Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/ObolIconLight.svg" alt="Obol Network Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Obol Network</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/int/Overview">Docs</a><a class="navbar__item navbar__link" href="/api">API</a><a class="navbar__item navbar__link" href="/docs/sdk">SDK</a><a href="https://blog.obol.tech" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/obolnetwork/obol-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/advanced/monitoring">v1.0.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/advanced/monitoring">Next</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/advanced/monitoring">v1.0.0</a></li><li><a class="dropdown__link" href="/docs/v0.19.2/advanced/monitoring">v0.19.2</a></li><li><a class="dropdown__link" href="/docs/v0.19.1/advanced/monitoring">v0.19.1</a></li><li><a class="dropdown__link" href="/docs/v0.19.0/intro">v0.19.0</a></li><li><a class="dropdown__link" href="/docs/v0.18.0/intro">v0.18.0</a></li><li><a class="dropdown__link" href="/docs/v0.17.1/intro">v0.17.1</a></li><li><a class="dropdown__link" href="/docs/v0.17.0/intro">v0.17.0</a></li><li><a class="dropdown__link" href="/docs/v0.16.0/intro">v0.16.0</a></li><li><a class="dropdown__link" href="/docs/v0.15.0/intro">v0.15.0</a></li><li><a class="dropdown__link" href="/docs/v0.14.4/intro">v0.14.4</a></li><li><a class="dropdown__link" href="/docs/v0.14.0/intro">v0.14.0</a></li><li><a class="dropdown__link" href="/docs/v0.13.0/intro">v0.13.0</a></li><li><a class="dropdown__link" href="/docs/v0.12.0/intro">v0.12.0</a></li><li><a class="dropdown__link" href="/docs/v0.11.0/intro">v0.11.0</a></li><li><a class="dropdown__link" href="/docs/v0.10.1/intro">v0.10.1</a></li><li><a class="dropdown__link" href="/docs/v0.10.0/intro">v0.10.0</a></li><li><a class="dropdown__link" href="/docs/v0.9.0/intro">v0.9.0</a></li><li><a class="dropdown__link" href="/docs/v0.8.1/intro">v0.8.1</a></li><li><a class="dropdown__link" href="/docs/v0.8.0/intro">v0.8.0</a></li><li><a class="dropdown__link" href="/docs/v0.7.0/intro">v0.7.0</a></li><li><a class="dropdown__link" href="/docs/v0.6.1/intro">v0.6.1</a></li><li><a class="dropdown__link" href="/docs/v0.6.0/intro">v0.6.0</a></li><li><a class="dropdown__link" href="/docs/v0.5.0/intro">v0.5.0</a></li><li><a class="dropdown__link" href="/docs/v0.4.0/intro">v0.4.0</a></li><li><a class="dropdown__link" href="/docs/v0.3.0/intro">v0.3.0</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-v1.0.0"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/docs/int/Overview">Introduction</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/int/Overview">Overview of Obol</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/int/key-concepts">Key concepts</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/start/quickstart_overview">Getting started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/advanced/quickstart-builder-api">Advanced Guides</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced/quickstart-builder-api">Enable MEV</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/advanced/monitoring">Monitoring your Node</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced/obol-monitoring">Push Metrics to Obol Monitoring</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced/quickstart-sdk">Create a DV using the SDK</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced/quickstart-eigenpod">Create an EigenLayer DV</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced/test-command">Test a Cluster</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced/quickstart-split">Split validator private keys</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced/quickstart-combine">Combine DV private key shares</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced/self-relay">Self-Host a Relay</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced/deployment-best-practices">Deployment Best Practices</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced/adv-docker-configs">Advanced Docker Configs</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/faq/general">FAQ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/charon/intro">Charon</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/dvl/intro">DV Launchpad</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/sc/introducing-obol-splits">Smart contracts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/sdk">SDK</a><button aria-label="Expand sidebar category &#x27;SDK&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/sec/overview">Security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/cf/bug-report">Contribution &amp; Feedback</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/fr/ethereum_and_dvt">Further reading</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Advanced Guides</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Monitoring your Node</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v1.0.0</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Monitoring your Node</h1></header>
<p>This comprehensive guide will assist you in effectively monitoring your Charon clusters and setting up alerts by running your own Prometheus and Grafana server. If you want to use Obol’s <a href="https://grafana.monitoring.gcp.obol.tech/d/d895e47a-3c2d-46b7-9b15-8f31202681af/clusters-aggregate-view?orgId=6" target="_blank" rel="noopener noreferrer">public dashboard</a> instead of running your servers, refer to <a href="/docs/advanced/obol-monitoring">this section</a> in Obol docs that teaches you how to push Prometheus metrics to Obol.</p>
<p>To explain quickly, Prometheus generates the metrics and Grafana visualizes them. To learn more about Prometheus and Grafana, visit <a href="https://grafana.com/docs/grafana/latest/getting-started/get-started-grafana-prometheus/" target="_blank" rel="noopener noreferrer">here</a>. If you are using <strong><a href="https://github.com/ObolNetwork/charon-distributed-validator-node" target="_blank" rel="noopener noreferrer">CDVN repository</a></strong> or <strong><a href="https://github.com/ObolNetwork/charon-distributed-validator-cluster" target="_blank" rel="noopener noreferrer">CDVC repository</a></strong>, then Prometheus and Grafana are part of docker compose file and will be installed when you run <code>docker compose up</code>.</p>
<p>The local Grafana server will have a few pre-built dashboards:</p>
<ol>
<li>
<p>Charon Overview</p>
<p>This is the main dashboard that provides all the relavant details about the Charon node, for example - peer connectivity, duty completion, health of beacon node and downstream validator, etc. To open, navigate to <code>charon-distributed-validator-node</code> directory and open the following <code>uri</code>  in the browser <code>http://localhost:3000/d/d6qujIJVk/</code>.</p>
</li>
<li>
<p>Single Charon Node Dashboard (deprecated)</p>
<p>This is an older dashboard Charon node monitoring which is now deprecated. If you are still using it, we would highly recommend to move to Charon Overview for most up to date panels.</p>
</li>
<li>
<p>Charon Log Dashboard</p>
<p>This dashboard can be used to query the logs emitted while running your Charon node. It utilises <a href="https://grafana.com/oss/loki/" target="_blank" rel="noopener noreferrer">Grafana Loki</a>. This dashboard is not active by default and should only be used in debug mode. Refer to <a href="/docs/advanced/adv-docker-configs">advanced docker config</a> section on how to set up a debug mode.</p>
</li>
</ol>
<table><thead><tr><th>Alert Name</th><th>Description</th><th>Troubleshoot</th></tr></thead><tbody><tr><td>ClusterBeaconNodeDown</td><td>This alert is activated when the beacon node in a the cluster is offline. The beacon node is crucial for validating transactions and producing new blocks. Its unavailability could disrupt the overall functionality of the cluster.</td><td>Most likely data is corrupted. Wipe data from the point you know data was corrupted and restart beacon node so it can be synced again.</td></tr><tr><td>ClusterMissedAttestations</td><td>This alert indicates that there have been missed attestations in the cluster. Missed attestations may suggest that validators are not operating correctly, compromising the security and efficiency of the cluster.</td><td>This alert is triggered when 3 attestation are missed in 2 minutes. Check if the minimum threshold of peers are online. If correct, check for beacon node API errors and downstream validator errors using Loki. Lastly, debug from Docker using <code>docker compose debug</code>.</td></tr><tr><td>ClusterInUnknownStatus</td><td>This alert is designed to activate when a node within the cluster is detected to be in an unknown state. The condition is evaluated by checking whether the maximum of the <code>app_monitoring_readyz</code> metric is 0.</td><td>This is most likely a bug in Charon. Report to us via <a href="https://discord.com/channels/849256203614945310/970759460693901362" target="_blank" rel="noopener noreferrer">Discord</a>.</td></tr><tr><td>ClusterInsufficientPeers</td><td>This alert is set to activate when the number of peers for a node in the cluster is insufficient. The condition is evaluated by checking whether the maximum of the <code>app_monitoring_readyz</code> equals 4.</td><td>If you are running group cluster, check with other peers to troubleshoot the issue. If you are running solo cluster, look into other machines running the DVs to find the problem.</td></tr><tr><td>ClusterFailureRate</td><td>This alert is activated when the failure rate of the cluster exceeds a certain threshold, more specifically - more than 5% failures in duties in the last 6 hours.</td><td>Check the upstream and downstream dependencies, latency and hardware issues.</td></tr><tr><td>ClusterVCMissingValidators</td><td>This alert is activated if any validators in the cluster are missing. This happens when validator client cannot load validator keys in the past 10 minutes.</td><td>Find if validator keys are missing and load them.</td></tr><tr><td>ClusterHighPctFailedSyncMsgDuty</td><td>This alert is activated if a high percentage of sync message duties failed in the cluster. The alert is activated if the sum of the increase in failed duties tagged with &quot;sync_message&quot; in the last hour divided by the sum of the increase in total duties tagged with &quot;sync_message&quot; in the last hour is greater than 10%.</td><td>This may be due to limitations in beacon node performance on nodes within the cluster. In charon, this duty is the most demanding, however, an increased failure rate does not impact rewards.</td></tr><tr><td>ClusterNumConnectedRelays</td><td>This alert is activated if the number of connected relays in the cluster falls to 0.</td><td>Make sure correct relay is configured. If you still get the error report to us via <a href="https://discord.com/channels/849256203614945310/970759460693901362" target="_blank" rel="noopener noreferrer">Discord</a>.</td></tr><tr><td>PeerPingLatency</td><td>This alert is activated if the 90th percentile of the ping latency to the peers in a cluster exceeds 400ms within 2 minutes.</td><td>Make sure to set up stable and high speed internet connection. If you have geographically distributed nodes, make sure latency does not go over 250 ms.</td></tr><tr><td>ClusterBeaconNodeZeroPeers</td><td>This alert is activated when beacon node cannot find peers.</td><td>Go to docs of beacon node client to troubleshoot. Make sure there is no port overlap and p2p discovery is open.</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="setting-up-a-contact-point">Setting Up a Contact Point<a href="#setting-up-a-contact-point" class="hash-link" aria-label="Direct link to Setting Up a Contact Point" title="Direct link to Setting Up a Contact Point">​</a></h2>
<p>When alerts are triggered, they are routed to contact points according notification policies. For this, contact points must be added. Grafana supports several kind of contact points like email, PagerDuty, Discord, Slack, Telegram etc. This document will teach how to add Discord channel as contact point.</p>
<ol>
<li>
<p>On left nav bar in Grafana console, under <code>Alerts</code>  section, click on contact points.</p>
</li>
<li>
<p>Click on <code>+ Add contact point</code>. It will show following page. Choose Discord in the  <code>Integration</code> drop down.</p>
<p><img decoding="async" loading="lazy" alt="AlertsContactPoint" src="/assets/images/AlertsContactPoint-b505f7bd1bf40fe70c6be5c80fecffc7.png" width="2256" height="1264" class="img_ev3q"></p>
</li>
<li>
<p>Give a descriptive name to the alert. Create a channel in Discord and copy its <code>webhook url</code>.  Once done, click <code>Save contact point</code> to finish.</p>
</li>
<li>
<p>When the alerts are fired, it will send without filling in the variables for cluster detail. For example, <code>cluster_hash</code> variable is missing here <code>cluster_hash = {{.cluster_hash}}</code>. This is done to save disk space. To find the details, use <code>docker compose -f docker-compose.yml -f compose-debug.yml up</code>. More description <a href="https://docs.obol.tech/docs/advanced/adv-docker-configs" target="_blank" rel="noopener noreferrer">here</a>.</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="best-practices-for-monitoring-charon-nodes--cluster">Best Practices for Monitoring Charon Nodes &amp; Cluster<a href="#best-practices-for-monitoring-charon-nodes--cluster" class="hash-link" aria-label="Direct link to Best Practices for Monitoring Charon Nodes &amp; Cluster" title="Direct link to Best Practices for Monitoring Charon Nodes &amp; Cluster">​</a></h2>
<ul>
<li><strong>Establish Baselines</strong>: Familiarize yourself with the normal operation metrics like CPU, memory, and network usage. This will help you detect anomalies.</li>
<li><strong>Define Key Metrics</strong>: Set up alerts for essential metrics, encompassing both system-level and Charon-specific ones.</li>
<li><strong>Configure Alerts</strong>: Based on these metrics, set up actionable alerts.</li>
<li><strong>Monitor Network</strong>: Regularly assess the connectivity between nodes and the network.</li>
<li><strong>Perform Regular Health Checks</strong>: Consistently evaluate the status of your nodes and clusters.</li>
<li><strong>Monitor System Logs</strong>: Keep an eye on logs for error messages or unusual activities.</li>
<li><strong>Assess Resource Usage</strong>: Ensure your nodes are neither over- nor under-utilized.</li>
<li><strong>Automate Monitoring</strong>: Use automation to ensure no issues go undetected.</li>
<li><strong>Conduct Drills</strong>: Regularly simulate failure scenarios to fine-tune your setup.</li>
<li><strong>Update Regularly</strong>: Keep your nodes and clusters updated with the latest software versions.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="third-party-services-for-uptime-testing">Third-Party Services for Uptime Testing<a href="#third-party-services-for-uptime-testing" class="hash-link" aria-label="Direct link to Third-Party Services for Uptime Testing" title="Direct link to Third-Party Services for Uptime Testing">​</a></h2>
<ul>
<li><a href="https://updown.io/" target="_blank" rel="noopener noreferrer">updown.io</a></li>
<li><a href="https://grafana.com/grafana/plugins/grafana-synthetic-monitoring-app/" target="_blank" rel="noopener noreferrer">Grafana synthetic Monitoring</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="key-metrics-to-watch-to-verify-node-health-based-on-jobs">Key metrics to watch to verify node health based on jobs<a href="#key-metrics-to-watch-to-verify-node-health-based-on-jobs" class="hash-link" aria-label="Direct link to Key metrics to watch to verify node health based on jobs" title="Direct link to Key metrics to watch to verify node health based on jobs">​</a></h2>
<p><strong>CPU Usage</strong>: High or spiking CPU usage can be a sign of a process demanding more resources than it should.</p>
<p><strong>Memory Usage</strong>: If a node is consistently running out of memory, it could be due to a memory leak or simply under-provisioning.</p>
<p><strong>Disk I/O</strong>: Slow disk operations can cause applications to hang or delay responses. High disk I/O can indicate storage performance issues or a sign of high load on the system.</p>
<p><strong>Network Usage</strong>: High network traffic or packet loss can signal network configuration issues, or that a service is being overwhelmed by requests.</p>
<p><strong>Disk Space</strong>: Running out of disk space can lead to application errors and data loss.</p>
<p><strong>Uptime</strong>: The amount of time a system has been up without any restarts. Frequent restarts can indicate instability in the system.</p>
<p><strong>Error Rates</strong>: The number of errors encountered by your application. This could be 4xx/5xx HTTP errors, exceptions, or any other kind of error your application may log.</p>
<p><strong>Latency</strong>: The delay before a transfer of data begins following an instruction for its transfer.</p>
<p>It is also important to check:</p>
<ul>
<li>NTP clock skew;</li>
<li>Process restarts and failures (eg. through <code>node_systemd</code>);</li>
<li>Alert on high error and panic log counts.</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/ObolNetwork/obol-docs/edit/main/versioned_docs/version-v1.0.0/advanced/monitoring.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/advanced/quickstart-builder-api"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Enable MEV</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/advanced/obol-monitoring"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Push Metrics to Obol Monitoring</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#setting-up-a-contact-point" class="table-of-contents__link toc-highlight">Setting Up a Contact Point</a></li><li><a href="#best-practices-for-monitoring-charon-nodes--cluster" class="table-of-contents__link toc-highlight">Best Practices for Monitoring Charon Nodes &amp; Cluster</a></li><li><a href="#third-party-services-for-uptime-testing" class="table-of-contents__link toc-highlight">Third-Party Services for Uptime Testing</a></li><li><a href="#key-metrics-to-watch-to-verify-node-health-based-on-jobs" class="table-of-contents__link toc-highlight">Key metrics to watch to verify node health based on jobs</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/int/Overview">Intro to Obol</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/charon/intro">Charon</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/dvl/intro">DV Launchpad</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/n6ebKsX46w" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/obolnetwork" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://blog.obol.tech/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://github.com/obolnetwork/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://obol.tech/" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/img/ObolLineWhite.svg" alt="Obol Network Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width="30px" height="30px"><img src="/img/ObolLineWhite.svg" alt="Obol Network Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width="30px" height="30px"></a></div><div class="footer__copyright">Copyright © 2024 Obol Labs, Inc. </div></div></div></footer></div>
</body>
</html>