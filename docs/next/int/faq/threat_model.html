<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-int/faq/threat_model">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">Charon threat model | Obol Network</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.obol.tech/docs/next/int/faq/threat_model"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:image" content="/img/obol_og_image.png"><meta data-rh="true" property="og:image:width" content="1200"><meta data-rh="true" property="og:image:height" content="630"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Charon threat model | Obol Network"><meta data-rh="true" name="description" content="Threat model for a Distributed Validator"><meta data-rh="true" property="og:description" content="Threat model for a Distributed Validator"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.obol.tech/docs/next/int/faq/threat_model"><link data-rh="true" rel="alternate" href="https://docs.obol.tech/docs/next/int/faq/threat_model" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.obol.tech/docs/next/int/faq/threat_model" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.5724abae.css">
<link rel="preload" href="/assets/js/runtime~main.6f9b6359.js" as="script">
<link rel="preload" href="/assets/js/main.5dd70af9.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(e){}return e}()||function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?e("light"):e("dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/ObolIconDark.svg" alt="Obol Network Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/ObolIconLight.svg" alt="Obol Network Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Obol Network</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/next/intro">Docs</a><a class="navbar__item navbar__link" href="/api">API</a><a href="https://blog.obol.tech" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a><a href="https://obolnetwork.github.io/obol-packages" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">SDK</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/obolnetwork/obol-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/next/intro">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/next/int/faq/threat_model">Next</a></li><li><a class="dropdown__link" href="/docs/intro">v0.16.0</a></li><li><a class="dropdown__link" href="/docs/v0.15.0/intro">v0.15.0</a></li><li><a class="dropdown__link" href="/docs/v0.14.4/intro">v0.14.4</a></li><li><a class="dropdown__link" href="/docs/v0.14.0/intro">v0.14.0</a></li><li><a class="dropdown__link" href="/docs/v0.13.0/intro">v0.13.0</a></li><li><a class="dropdown__link" href="/docs/v0.12.0/intro">v0.12.0</a></li><li><a class="dropdown__link" href="/docs/v0.11.0/intro">v0.11.0</a></li><li><a class="dropdown__link" href="/docs/v0.10.1/intro">v0.10.1</a></li><li><a class="dropdown__link" href="/docs/v0.10.0/intro">v0.10.0</a></li><li><a class="dropdown__link" href="/docs/v0.9.0/intro">v0.9.0</a></li><li><a class="dropdown__link" href="/docs/v0.8.1/intro">v0.8.1</a></li><li><a class="dropdown__link" href="/docs/v0.8.0/intro">v0.8.0</a></li><li><a class="dropdown__link" href="/docs/v0.7.0/intro">v0.7.0</a></li><li><a class="dropdown__link" href="/docs/v0.6.1/intro">v0.6.1</a></li><li><a class="dropdown__link" href="/docs/v0.6.0/intro">v0.6.0</a></li><li><a class="dropdown__link" href="/docs/v0.5.0/intro">v0.5.0</a></li><li><a class="dropdown__link" href="/docs/v0.4.0/intro">v0.4.0</a></li><li><a class="dropdown__link" href="/docs/v0.3.0/intro">v0.3.0</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/next/int/Overview">Getting started</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/int/Overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/int/key-concepts">Key concepts</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" tabindex="0" href="/docs/next/int/quickstart">Quickstart Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Quickstart Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/next/int/quickstart/alone/test-locally">Create a DV alone</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/next/int/quickstart/group">Create a DV as a group</a><button aria-label="Toggle the collapsible sidebar category &#x27;Create a DV as a group&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/int/quickstart/activate-dv">Activate a DV</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/int/quickstart/quickstart-exit">Exit a DV</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/int/quickstart/update">Update a DV</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/int/quickstart/quickstart-mainnet">Run a DV on mainnet</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/next/int/quickstart/advanced/quickstart-sdk">Advanced Guides</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/next/int/faq/general">FAQ</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/int/faq/general">Frequently asked questions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/int/faq/errors">Errors &amp; Resolutions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/int/faq/risks">Centralization risks and mitigation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/next/int/faq/threat_model">Charon threat model</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/next/charon/intro">Charon</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/charon/intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/charon/dkg">Distributed Key Generation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/charon/cluster-configuration">Cluster configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/charon/networking">Charon networking</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next/charon/charon-cli-reference">CLI reference</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/next/dvl/intro">DV Launchpad</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/next/sc/introducing-obol-managers">Smart contracts</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/next/testnet">Testnets</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/next/sec/overview">Security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/next/cg/bug-report">Contribution &amp; Feedback</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/next/fr/eth">Further reading</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->Obol Network<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/intro">latest version</a></b> (<!-- -->v0.16.0<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Getting started</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">FAQ</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Charon threat model</span><meta itemprop="position" content="3"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Charon threat model</h1><p>This page outlines a threat model for Charon, in the context of it being a Distributed Validator middleware for Ethereum validator clients.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="actors">Actors<a href="#actors" class="hash-link" aria-label="Direct link to Actors" title="Direct link to Actors">​</a></h2><ul><li>Node owner (NO)</li><li>Cluster node operators (CNO)</li><li>Rogue node operator (RNO)</li><li>Outside attacker (OA)</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="general-observations">General observations<a href="#general-observations" class="hash-link" aria-label="Direct link to General observations" title="Direct link to General observations">​</a></h2><p>This page describes some considerations the Obol core team made about the security of a distributed validator in the context of its deployment and interaction with outside actors.</p><p>The goal of this threat model is to provide transparency, but it is by no means a comprehensive audit or complete security reference. It’s a sharing of the experiences and thoughts we gained during the last few years building distributed validator technologies.</p><p>While to the Beacon Chain, a distributed validator is seen in much the same way as a regular validator, and thus retains some of the same security considerations, Charon’s threat model is different from a validator client’s threat model because of its general design.</p><p>While a validator client owns and operates on a set of validator private keys, the design of Charon allows its node operators to rarely (if ever) see the complete validator private keys, relying instead on modern cryptography to generate partial private key shares.</p><p>An Ethereum distributed validator employs advanced signature primitives such that no operator ever handles the full validator private key in any standard lifecycle step: the <a href="https://en.wikipedia.org/wiki/BLS_digital_signature" target="_blank" rel="noopener noreferrer">BLS digital signature scheme</a> employed by the Ethereum network allows distributed validators to individually sign a blob of data and then aggregate the resulting signatures in a transparent manner, never requiring any of the participating parties to know the full private key to do so.</p><p>If the subset of the available Charon nodes is lower than a given threshold, the cluster is not able to continue with its duties.</p><p>Given the collaborative nature of a Distributed Validator cluster, every operator must prioritize the liveliness and well-being of the cluster. Charon, at the moment of writing this page cannot reward and penalize operators within a cluster independently.</p><p>This implies that Charon’s threat model can’t quite be equated to that of a single validator client, since they work on a different - albeit similar - set of security concepts.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="identity-private-key">Identity private key<a href="#identity-private-key" class="hash-link" aria-label="Direct link to Identity private key" title="Direct link to Identity private key">​</a></h2><p>A distributed validator cluster is made up of a number of nodes, often run by a number of independent operators. For each DV cluster there’s a set of Ethereum validator private keys on which they want to validate on behalf of.</p><p>Alongside those, each node (henceforth ‘operator’) holds an SECP256K1 identity private key, referred to as an ENR, that identifies their node to the other cluster operators’ nodes.</p><p>Exfiltration of said private key could lead to possible impersonation from an outside attacker, possibly leading to intra-cluster peering issues, eclipse attack risks, and degraded validator performance.</p><p>Charon client communication is handled via BFT consensus, which is able to tolerate a given number of misbehaving nodes up to a certain threshold: once this threshold is reached, the cluster is not able to continue with its lifecycle and loses liveness guarantees (the validator goes offline). If more than two-thirds of nodes in a cluster are malicious, a cluster also loses safety guarantees (enough bad actors could collude to come to consensus on something slashable).</p><p>Identity private key theft and the subsequent execution of a rogue cluster node is equivalent in the context of BFT consensus to a misbehaving node, hence the cluster can survive and continue with its duties up to what’s specified by the cluster’s BFT protocol’s parameters.</p><p>The likelihood of this happening is low: an OA with enough knowledge of the topology of the operator’s network must steal <code>fault tolerance of the cluster + 1</code> identity private keys and run Charon nodes to subvert the distributed validator BFT consensus to push the validator offline.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ethereum-validator-private-key-access">Ethereum validator private key access<a href="#ethereum-validator-private-key-access" class="hash-link" aria-label="Direct link to Ethereum validator private key access" title="Direct link to Ethereum validator private key access">​</a></h2><p>A distributed validator cluster executes Ethereum validator duties by acting as a middleman between the beacon chain and a validator client.</p><p>To do so, the cluster must have knowledge of the Ethereum validator’s private key.</p><p>The design and implementation of Charon minimizes the chances of this by splitting the Ethereum validator private keys into parts, which are then assigned to each node operator.
A <a href="https://en.wikipedia.org/wiki/Distributed_key_generation" target="_blank" rel="noopener noreferrer">distributed key generation</a> (DKG) process is used in order to evenly and safely create the private key shares without any central party having access to the full private key.</p><p>The cryptography primitives employed in Charon can allow a threshold of the node operator’s private key shares to be reconstructed into the whole validator private key if needed.</p><p>While the facilities to do this are present in the form of CLI commands, as stated before Charon never reconstructs the key in normal operations since BLS digital signature system allows for signature aggregation.</p><p>A distributed validator cluster can be started in two ways:</p><ol><li>An existing Ethereum validator private key is split by the private key holder, and distributed in a trusted manner among the operators.</li><li>The operators participate in a distributed key generation (DKG) process, to create private key shares that collectively can be used to sign validation duties as an Ethereum distributed validator. The full private key for the cluster never exists in one place during or after the DKG.</li></ol><p>In case 1, one of the node operators K has direct access to the Ethereum validator key and is tasked with the generation of other operator’s identity keys and key shards.</p><p>It is clear that in this case the entirety of the sensitive material set is as secure as K’s environment; if K is compromised or malicious, the distributed validator could be slashed.</p><p>Case 2 is different, because there’s no pre-existing Ethereum validator key in a single operator&#x27;s hands: it will be generated using the FROST DKG algorithm.</p><p>Assuming a successful DKG process, each operator will only ever handle its own key shares instead of the full Ethereum validator private key.</p><p>A set of rogue operators composed of enough members to reconstruct the original Ethereum private keys might pose the risk of slashing for a distributed validator by colluding to produce slashable messages together.</p><p>We deem this scenario’s likelihood as low, as it would mean that node operators decided to willfully slash the stake that they should be being rewarded for staking.</p><p>Still, in the context of an outside attack, purposefully slashing a validator would mean stealing multiple operator key shares, which in turn means violating many cluster operator’s security almost at the same time. This scenario may occur if there is a 0-day vulnerability in a piece of software they all run or in case of node misconfiguration.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="rogue-node-operator">Rogue node operator<a href="#rogue-node-operator" class="hash-link" aria-label="Direct link to Rogue node operator" title="Direct link to Rogue node operator">​</a></h2><p>Nodes are connected by means of either relay nodes, or directly to one another.</p><p>Each node operator is at risk of being impeded by other nodes or by the relay operator in the execution of their duties.</p><p>Nodes need to expose a set of TCP ports to be able to work, and the mere fact of doing that opens up the opportunity for rogue parties to execute DDoS attacks.</p><p>Another attack surface for the cluster exists in rogue nodes purposefully filling the various inter-state databases with meaningless data, or more generally submitting bogus information to the other parties to slow down the processing or, in the case of a sybil attack, bring the cluster to a halt.</p><p>The likelihood of this scenario is medium, because there’s no active threat hunting part: there’s no need for the rogue node operator to penetrate and compromise other nodes to disturb the cluster’s lifecycle.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="outside-attackers-interfering-with-a-cluster">Outside attackers interfering with a cluster<a href="#outside-attackers-interfering-with-a-cluster" class="hash-link" aria-label="Direct link to Outside attackers interfering with a cluster" title="Direct link to Outside attackers interfering with a cluster">​</a></h2><p>There are two levels of sophistication in an OA:</p><ol><li>No knowledge of the topology of the cluster: The attacker doesn’t know where each cluster node is located and so can’t force fault tolerance +1 nodes offline if it can’t find them.</li><li>Knowledge of the topology of the network (or part of it) is possessed: the OA can operate DDoS attacks or try breaking into node’s servers - at that point, the “rogue node operator” scenario applies.</li></ol><p>The likelihood of this scenario is low: an OA needs extensive capabilities and sufficient incentive to be able to carry out an attack of this size.</p><p>An outside attacker could also find and use vulnerabilities in the underlying cryptosystems and cryptography libraries used by Charon and other Ethereum clients. Forging signatures that fool Charon’s cryptographic library or other dependencies may be feasible, but forging signatures or otherwise finding a vulnerability in either the SECP256K1+ECDSA or BLS12-381+BLS cryptosystems we deem to be a low likelihood risk.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="malicious-beacon-nodes">Malicious beacon nodes<a href="#malicious-beacon-nodes" class="hash-link" aria-label="Direct link to Malicious beacon nodes" title="Direct link to Malicious beacon nodes">​</a></h2><p>A malicious beacon node (BN) could prevent the distributed validator from operating its validation duties, and could plausibly increase the likelihood of slashing by serving charon illegitimate information.</p><p>If the amount of nodes configured with the malicious BN are equal to the byzantine threshold for the Charon BFT consensus protocol, the validation process can potentially halt since the BFT parameter threshold is reached - most of the nodes are byzantine - the system will reach consensus on a set of data that isn’t valid.</p><p>We deem the likelihood of this scenario to be medium depending on the trust model associated with the BNs deployment (cloud, self-hosted, SaaS product): node operators should always host or at least trust their own beacon nodes.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="malicious-charon-relays">Malicious charon relays<a href="#malicious-charon-relays" class="hash-link" aria-label="Direct link to Malicious charon relays" title="Direct link to Malicious charon relays">​</a></h2><p>A Charon relay is used as a communication bridge between nodes that aren’t directly exposed on the Internet. It also acts as the peer discovery mechanism for a cluster.</p><p>Once a peer’s IP address has been discovered via the relay, a direct connection can be attempted. Nodes can either communicate by exchanging data through a relay, or by using the relay as a means to establish a direct TCP connection to one another.</p><p>A malicious relay owned by a OA could lead to:</p><ul><li>Network topology discovery, facilitating the “outside attackers interactions with a cluster” scenario</li><li>Impeding node communication, potentially impacting the BFT consensus protocol liveness (not security) and distributed validator duties</li><li>DKG process disruption leading to frustration and potential abandonment by node operators: could lead to the usage of a standard Ethereum validator setup, which implies weaker security overall</li></ul><p>We note that BFT consensus liveness disruption can only happen if the number of nodes using the malicious relay for communication is equal to the byzantine nodes amount defined in the consensus parameters.</p><p>This risk can be mitigated by configuring nodes with multiple relay URLs from only <a href="/docs/next/int/quickstart/advanced/self-relay">trusted entities</a>.</p><p>The likelihood of this scenario is medium: Charon nodes are configured with a default set of relay nodes, so if an OA were to compromise those, it would lead to many cluster topologies getting discovered and potentially attacked and disrupted.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="compromised-runtime-files">Compromised runtime files<a href="#compromised-runtime-files" class="hash-link" aria-label="Direct link to Compromised runtime files" title="Direct link to Compromised runtime files">​</a></h2><p>Charon operates with two runtime files:</p><ul><li>A lock file used to address operator’s nodes, define the Ethereum validator public keys and the public key shares associated with it</li><li>A cluster definition file used to define the operator’s addresses and identities during the DKG process</li></ul><p>The lock file is signed and validated by all the nodes participating in the cluster: assuming good security practices on the node operator side, and no bugs in Charon or its dependencies’ implementations, this scenario is unlikely.</p><p>If one or more node operators are using less than ideal security practices an OA could rewire the Charon CLI flags to include the <code>--no-verify</code> flags, which disables lock file signature and hash verification (usually intended only for development purposes).</p><p>By doing that, the OA can edit the lock file as it sees fit, leading to the “rogue node operator” scenario. An OA or RNO might also manage to social engineer their way into convincing other operators into running their malicious lock file with verification disabled.</p><p>The likelihood of this scenario is low: an OA would need to compromise every node operator through social engineering to both use a different set of files, and to run its cluster with <code>--no-verify</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusions">Conclusions<a href="#conclusions" class="hash-link" aria-label="Direct link to Conclusions" title="Direct link to Conclusions">​</a></h2><p>Distributed Validator Technology (DVT) helps maintain a high-assurance environment for Ethereum validators by leveraging modern cryptography to ensure no single point of failure is easily found in the system.</p><p>As with any computing system, security considerations are to be expected in order to keep the environment safe.</p><p>From the point of view of an Ethereum validator entity, running their services with a DV client can help greatly with availability, minimizing slashing risks, and maximizing participation in the network.</p><p>On the other hand, one must take into consideration the risks involved with dishonest cluster operators, as well as rogue third-party beacon nodes or relay providers.</p><p>In the end, we believe the benefits of DVT greatly outweigh the potential threats described in this overview.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/ObolNetwork/obol-docs/edit/main/docs/int/faq/threat_model.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/next/int/faq/risks"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Centralization risks and mitigation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/next/charon/intro"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Introduction</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#actors" class="table-of-contents__link toc-highlight">Actors</a></li><li><a href="#general-observations" class="table-of-contents__link toc-highlight">General observations</a></li><li><a href="#identity-private-key" class="table-of-contents__link toc-highlight">Identity private key</a></li><li><a href="#ethereum-validator-private-key-access" class="table-of-contents__link toc-highlight">Ethereum validator private key access</a></li><li><a href="#rogue-node-operator" class="table-of-contents__link toc-highlight">Rogue node operator</a></li><li><a href="#outside-attackers-interfering-with-a-cluster" class="table-of-contents__link toc-highlight">Outside attackers interfering with a cluster</a></li><li><a href="#malicious-beacon-nodes" class="table-of-contents__link toc-highlight">Malicious beacon nodes</a></li><li><a href="#malicious-charon-relays" class="table-of-contents__link toc-highlight">Malicious charon relays</a></li><li><a href="#compromised-runtime-files" class="table-of-contents__link toc-highlight">Compromised runtime files</a></li><li><a href="#conclusions" class="table-of-contents__link toc-highlight">Conclusions</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Intro to Obol</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/charon/intro">Charon</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/dvl/intro">DV Launchpad</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/n6ebKsX46w" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/obolnetwork" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://blog.obol.tech/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://github.com/obolnetwork/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://obol.tech/" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/img/ObolLineWhite.svg" alt="Obol Network Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo" width="30px" height="30px"><img src="/img/ObolLineWhite.svg" alt="Obol Network Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo" width="30px" height="30px"></a></div><div class="footer__copyright">Copyright © 2023 Obol Labs, Inc. </div></div></div></footer></div>
<script src="/assets/js/runtime~main.6f9b6359.js"></script>
<script src="/assets/js/main.5dd70af9.js"></script>
</body>
</html>