---
description: Создание кластера Distributed Validator с нуля
---

# Создание распределенного валидатора

![Пример кластера Distributed Validator](/img/ObolCluster.png)

### Этапы создания распределенного валидатора

Чтобы создать распределенный кластер валидаторов, вам и вашей группе операторов необходимо выполнить следующие шаги:

1. Один оператор начинает установку кластера [Distributed Validator Launchpad](../dvk/02_distributed_validator_launchpad.md).
    - Это включает в себя настройку всех условий для кластера, в том числе; адрес вывода средств, получатель комиссии, количество валидаторов, адреса операторов и т. д. Эта информация известна как *конфигурация кластера*.
    - Этот оператор также устанавливает запись узла Ethereum своего клиента charon. ([ENR](../int/faq.md#what-is-an-enr)).
    - Этот оператор подписывает как хэш конфигурации кластера, так и ENR, чтобы подтвердить право собственности на свой адрес.
    - Эти данные хранятся на уровне данных DV Launchpad, и создается общий URL-адрес. Это ссылка для других операторов, чтобы присоединиться и завершить церемонию.
2.  Другие операторы в кластере следуют этому URL-адресу на панель запуска.
    - Они рассматривают условия конфигурации кластера.
    - Они представляют ENR своего клиента charon.
    - Они подписывают как хэш конфигурации кластера, так и свой charon ENR, чтобы принять условия.
3. После того как все операторы представили подписи для конфигурации кластера и ENR, все они могут загрузить файл определения кластера. 
4. Каждый оператор передает этот файл определения кластера команде `charon dkg`. Определение предоставляет процессу charon информацию, необходимую для поиска и завершения церемонии DKG с другими вовлеченными клиентами charon.
5. Как только все клиенты charon смогут общаться друг с другом, процесс DKG завершается. Все операторы в итоге имеют:
    - Файл `cluster-lock.json`, который содержит исходные данные конфигурации кластера в сочетании с недавно сгенерированными открытыми ключами группы и связанными с ними общими общими ключами. Этот файл необходим команде `charon run`.
    - Данные депозита валидатора
    - Приватный ключ валидатора
6. Теперь операторы могут создавать резервные копии сгенерированных общих ключей, своего закрытого ключа ENR, если они еще этого не сделали, и файла `cluster-lock.json`. 
7. Все операторы загружают ключи и файлы блокировки кластера, сгенерированные на церемонии, в свое окружение.
8. Операторы могут запустить тест производительности настроенного кластера, чтобы убедиться, что связь между всеми операторами наблюдается с разумной задержкой.
9. После того, как все тесты на готовность пройдены, один оператор активирует распределенный валидатор(ы) с депозитом в цепочке.
