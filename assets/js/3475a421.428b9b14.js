"use strict";(self.webpackChunkobol_docs=self.webpackChunkobol_docs||[]).push([[75818],{88411:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>c,frontMatter:()=>l,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"adv/troubleshooting/test_command","title":"Test Commands","description":"Troubleshoot issues spotted by the test command","source":"@site/versioned_docs/version-v1.2.0/adv/troubleshooting/test_command.md","sourceDirName":"adv/troubleshooting","slug":"/adv/troubleshooting/test_command","permalink":"/adv/troubleshooting/test_command","draft":false,"unlisted":false,"editUrl":"https://github.com/ObolNetwork/obol-docs/edit/main/versioned_docs/version-v1.2.0/adv/troubleshooting/test_command.md","tags":[],"version":"v1.2.0","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"description":"Troubleshoot issues spotted by the test command"},"sidebar":"tutorialSidebar","previous":{"title":"Client Configuration","permalink":"/adv/troubleshooting/client_configurations"},"next":{"title":"Overview","permalink":"/adv/security/overview"}}');var t=i(74848),s=i(28453);const l={sidebar_position:3,description:"Troubleshoot issues spotted by the test command"},a="Test Commands",o={},d=[{value:"Peers",id:"peers",level:2},{value:"Charon Peers",id:"charon-peers",level:3},{value:"Ping",id:"ping",level:4},{value:"PingMeasure",id:"pingmeasure",level:4},{value:"PingLoad",id:"pingload",level:4},{value:"DirectConn",id:"directconn",level:4},{value:"Charon Relays",id:"charon-relays",level:3},{value:"PingRelay",id:"pingrelay",level:4},{value:"PingMeasureRelay",id:"pingmeasurerelay",level:4},{value:"Self",id:"self",level:3},{value:"Libp2pTCPPortOpenTest",id:"libp2ptcpportopentest",level:4},{value:"Beacon",id:"beacon",level:2},{value:"Ping",id:"ping-1",level:4},{value:"PingMeasure",id:"pingmeasure-1",level:4},{value:"Version",id:"version",level:4},{value:"IsSynced",id:"issynced",level:4},{value:"PeerCount",id:"peercount",level:4},{value:"PingLoad",id:"pingload-1",level:4},{value:"Simulation",id:"simulation",level:4},{value:"Validator",id:"validator",level:2},{value:"Ping",id:"ping-2",level:4},{value:"PingMeasure",id:"pingmeasure-2",level:4},{value:"PingLoad",id:"pingload-2",level:4},{value:"MEV",id:"mev",level:2},{value:"Ping",id:"ping-3",level:4},{value:"PingMeasure",id:"pingmeasure-3",level:4},{value:"CreateBlock",id:"createblock",level:4},{value:"CreateMultipleBlocks",id:"createmultipleblocks",level:4},{value:"Infra",id:"infra",level:2},{value:"DiskWriteSpeed",id:"diskwritespeed",level:4},{value:"DiskWriteIOPS",id:"diskwriteiops",level:4},{value:"DiskReadSpeed",id:"diskreadspeed",level:4},{value:"DiskReadIOPS",id:"diskreadiops",level:4},{value:"AvailableMemory",id:"availablememory",level:4},{value:"TotalMemory",id:"totalmemory",level:4},{value:"InternetLatency",id:"internetlatency",level:4},{value:"InternetDownloadSpeed",id:"internetdownloadspeed",level:4},{value:"InternetUploadSpeed",id:"internetuploadspeed",level:4}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"test-commands",children:"Test Commands"})}),"\n",(0,t.jsxs)(n.p,{children:["This page aims to give guidance on the causes, and potential for troubleshooting or improvement, of failed tests or low test scores from the ",(0,t.jsx)(n.a,{href:"/run/prepare/test-command",children:"Charon Test commands"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"peers",children:"Peers"}),"\n",(0,t.jsx)(n.h3,{id:"charon-peers",children:"Charon Peers"}),"\n",(0,t.jsx)(n.h4,{id:"ping",children:"Ping"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Peers might have not started their nodes or are not reachable."}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"pingmeasure",children:"PingMeasure"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Peer might be too far away (geographically) from you."}),"\n",(0,t.jsx)(n.li,{children:"If the connection to the peer is indirect, the route is from your node, to the relay, to the peer. Meaning you are measuring the travel time from you to the relay, and from the relay to the peer: (your node -> relay -> peer). This means, even if your peer's node is right next to yours, if the connection is being transmitted through a relay far away, the latency between your nodes might be too high to be effective."}),"\n",(0,t.jsxs)(n.li,{children:["Your general network latency to the public internet might be high. Verify with the ",(0,t.jsx)(n.a,{href:"/run/prepare/test-command#test-machine-and-network-performance",children:(0,t.jsx)(n.code,{children:"charon test infra"})})," tests."]}),"\n",(0,t.jsxs)(n.li,{children:["If the connection to the peer is indirect, there is a potential that the relay might be overloaded or under-resourced, consider adding ",(0,t.jsx)(n.a,{href:"/adv/security/risks#risk-obol-hosting-the-relay-infrastructure",children:"alternative relays"}),", or preferably ",(0,t.jsx)(n.a,{href:"/learn/charon/networking#libp2p-relays-and-peer-discovery",children:"opening charon's p2p port"})," to the internet to establish direct peer to peer connections."]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"pingload",children:"PingLoad"}),"\n",(0,t.jsx)(n.p,{children:"Same causes as PingMeasure test apply here."}),"\n",(0,t.jsx)(n.h4,{id:"directconn",children:"DirectConn"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Your or your peer's port might not be publicly exposed."}),"\n",(0,t.jsx)(n.li,{children:"Your or your peer's port might be behind a firewall."}),"\n",(0,t.jsx)(n.li,{children:"Your or your peer's port might be behind a strict NAT gateway."}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"charon-relays",children:"Charon Relays"}),"\n",(0,t.jsx)(n.h4,{id:"pingrelay",children:"PingRelay"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Relay might be down or un-conctactable for other reasons."}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"pingmeasurerelay",children:"PingMeasureRelay"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Relay might be under heavy load."}),"\n",(0,t.jsxs)(n.li,{children:["Your network latency might be high. Verify with the ",(0,t.jsx)(n.code,{children:"charon test infra"})," tests."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"self",children:"Self"}),"\n",(0,t.jsx)(n.h4,{id:"libp2ptcpportopentest",children:"Libp2pTCPPortOpenTest"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"There might be another process running on the designated port (tcp/3610 by default)."}),"\n",(0,t.jsx)(n.li,{children:"The process might have died."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"beacon",children:"Beacon"}),"\n",(0,t.jsx)(n.h4,{id:"ping-1",children:"Ping"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Beacon node might not be started or is not reachable."}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"pingmeasure-1",children:"PingMeasure"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Beacon node might be too far away (geographically) from you."}),"\n",(0,t.jsxs)(n.li,{children:["Your network latency might be high. Verify with the ",(0,t.jsx)(n.code,{children:"charon test infra"})," tests."]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"version",children:"Version"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"The beacon node version is not compatible with charon."}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"issynced",children:"IsSynced"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Beacon node is not synced to the network."}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"peercount",children:"PeerCount"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Beacon node does not have enough peers. This may result in slower fetching and broadcasting of slots and duties."}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"pingload-1",children:"PingLoad"}),"\n",(0,t.jsxs)(n.p,{children:["This is a load test, to enable it add the ",(0,t.jsx)(n.code,{children:"--load-test"})," flag."]}),"\n",(0,t.jsx)(n.p,{children:"Same causes as PingMeasure test apply here."}),"\n",(0,t.jsx)(n.h4,{id:"simulation",children:"Simulation"}),"\n",(0,t.jsxs)(n.p,{children:["This is a load test, to enable it add the ",(0,t.jsx)(n.code,{children:"--load-test"})," flag."]}),"\n",(0,t.jsx)(n.p,{children:"Same causes as PingMeasure test apply here and additionally:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"The infrastructure on which the beacon node runs (amount of RAM, disk IOPS) might not be enough to handle the number of simulated validators supplied in this test."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"validator",children:"Validator"}),"\n",(0,t.jsx)(n.h4,{id:"ping-2",children:"Ping"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Validator client might not be started or is not reachable."}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"pingmeasure-2",children:"PingMeasure"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Validator client might be too far away (geographically) from the charon client. Generally a low latency between a validator client and its charon client is important for timely signing."}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"pingload-2",children:"PingLoad"}),"\n",(0,t.jsx)(n.p,{children:"Same causes as PingMeasure test apply here."}),"\n",(0,t.jsx)(n.h2,{id:"mev",children:"MEV"}),"\n",(0,t.jsx)(n.h4,{id:"ping-3",children:"Ping"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"MEV relay might not be started or is not reachable."}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"pingmeasure-3",children:"PingMeasure"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"MEV relay might be too far away (geographically) from you."}),"\n",(0,t.jsxs)(n.li,{children:["Your network latency might be high. Verify with the ",(0,t.jsx)(n.code,{children:"charon test infra"})," tests."]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"createblock",children:"CreateBlock"}),"\n",(0,t.jsx)(n.p,{children:"Same causes as PingMeasure test apply here and additionally:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"MEV relay might be too slow in block production."}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"createmultipleblocks",children:"CreateMultipleBlocks"}),"\n",(0,t.jsx)(n.p,{children:"Same causes as CreateBlock test apply here."}),"\n",(0,t.jsx)(n.h2,{id:"infra",children:"Infra"}),"\n",(0,t.jsx)(n.h4,{id:"diskwritespeed",children:"DiskWriteSpeed"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Read more in our ",(0,t.jsx)(n.a,{href:"../../run/prepare/deployment-best-practices#hardware-specifications",children:"Deployment Best Practices"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"diskwriteiops",children:"DiskWriteIOPS"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Read more in our ",(0,t.jsx)(n.a,{href:"../../run/prepare/deployment-best-practices#hardware-specifications",children:"Deployment Best Practices"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"diskreadspeed",children:"DiskReadSpeed"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Read more in our ",(0,t.jsx)(n.a,{href:"../../run/prepare/deployment-best-practices#hardware-specifications",children:"Deployment Best Practices"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"diskreadiops",children:"DiskReadIOPS"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Read more in our ",(0,t.jsx)(n.a,{href:"../../run/prepare/deployment-best-practices#hardware-specifications",children:"Deployment Best Practices"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"availablememory",children:"AvailableMemory"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Your available memory (RAM) is not enough to run Charon. The minimum available memory should be 2GB, the recommended available memory is 4GB. Note that this test is a best estimate, as memory availability can be hard to predict, particularly if the command is run in a virtualised environment (i.e.: a Docker container)."}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"totalmemory",children:"TotalMemory"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Your total memory (RAM) may not be enough to run a full validating node. The recommended minimum total memory is 16GB. Specialised, or optimised deployments can use less RAM than the recommended minimum, but may require some monitoring to assert sufficient stability and performance. Read more in our ",(0,t.jsx)(n.a,{href:"../../run/prepare/deployment-best-practices#hardware-specifications",children:"Deployment Best Practices"})]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"internetlatency",children:"InternetLatency"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Your internet latency to the nearest server is too high. Latency is expected to be at least less than 50ms and at best less than 20ms."}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"internetdownloadspeed",children:"InternetDownloadSpeed"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Your internet download speed from the nearest test server is too low. Download speed is expected to be at least above 10Mb/s and at best above 50Mb/s."}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"internetuploadspeed",children:"InternetUploadSpeed"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Your internet upload speed to the nearest test server is too low. Upload speed is expected to be at least above 10Mb/s and at best above 50Mb/s."}),"\n"]})]})}function c(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>a});var r=i(96540);const t={},s=r.createContext(t);function l(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);