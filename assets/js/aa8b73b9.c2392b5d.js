"use strict";(self.webpackChunkobol_docs=self.webpackChunkobol_docs||[]).push([[95942],{15680:(e,t,a)=>{a.d(t,{xA:()=>d,yg:()=>g});var r=a(96540);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=r.createContext({}),u=function(e){var t=r.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},d=function(e){var t=u(e.components);return r.createElement(s.Provider,{value:t},e.children)},c="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),c=u(a),h=n,g=c["".concat(s,".").concat(h)]||c[h]||p[h]||o;return a?r.createElement(g,i(i({ref:t},d),{},{components:a})):r.createElement(g,i({ref:t},d))}));function g(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,i=new Array(o);i[0]=h;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[c]="string"==typeof e?e:n,i[1]=l;for(var u=2;u<o;u++)i[u]=a[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}h.displayName="MDXCreateElement"},7227:(e,t,a)=>{a.d(t,{A:()=>i});var r=a(96540),n=a(20053);const o={tabItem:"tabItem_Ymn6"};function i(e){let{children:t,hidden:a,className:i}=e;return r.createElement("div",{role:"tabpanel",className:(0,n.A)(o.tabItem,i),hidden:a},t)}},49489:(e,t,a)=>{a.d(t,{A:()=>k});var r=a(58168),n=a(96540),o=a(20053),i=a(24245),l=a(56347),s=a(62814),u=a(45167),d=a(81269);function c(e){return function(e){return n.Children.map(e,(e=>{if(!e||(0,n.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:a,attributes:r,default:n}}=e;return{value:t,label:a,attributes:r,default:n}}))}function p(e){const{values:t,children:a}=e;return(0,n.useMemo)((()=>{const e=t??c(a);return function(e){const t=(0,u.X)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,a])}function h(e){let{value:t,tabValues:a}=e;return a.some((e=>e.value===t))}function g(e){let{queryString:t=!1,groupId:a}=e;const r=(0,l.W6)(),o=function(e){let{queryString:t=!1,groupId:a}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:t,groupId:a});return[(0,s.aZ)(o),(0,n.useCallback)((e=>{if(!o)return;const t=new URLSearchParams(r.location.search);t.set(o,e),r.replace({...r.location,search:t.toString()})}),[o,r])]}function y(e){const{defaultValue:t,queryString:a=!1,groupId:r}=e,o=p(e),[i,l]=(0,n.useState)((()=>function(e){let{defaultValue:t,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!h({value:t,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const r=a.find((e=>e.default))??a[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:t,tabValues:o}))),[s,u]=g({queryString:a,groupId:r}),[c,y]=function(e){let{groupId:t}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(t),[r,o]=(0,d.Dv)(a);return[r,(0,n.useCallback)((e=>{a&&o.set(e)}),[a,o])]}({groupId:r}),f=(()=>{const e=s??c;return h({value:e,tabValues:o})?e:null})();(0,n.useLayoutEffect)((()=>{f&&l(f)}),[f]);return{selectedValue:i,selectValue:(0,n.useCallback)((e=>{if(!h({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);l(e),u(e),y(e)}),[u,y,o]),tabValues:o}}var f=a(11062);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function m(e){let{className:t,block:a,selectedValue:l,selectValue:s,tabValues:u}=e;const d=[],{blockElementScrollPositionUntilNextRender:c}=(0,i.a_)(),p=e=>{const t=e.currentTarget,a=d.indexOf(t),r=u[a].value;r!==l&&(c(t),s(r))},h=e=>{let t=null;switch(e.key){case"Enter":p(e);break;case"ArrowRight":{const a=d.indexOf(e.currentTarget)+1;t=d[a]??d[0];break}case"ArrowLeft":{const a=d.indexOf(e.currentTarget)-1;t=d[a]??d[d.length-1];break}}t?.focus()};return n.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.A)("tabs",{"tabs--block":a},t)},u.map((e=>{let{value:t,label:a,attributes:i}=e;return n.createElement("li",(0,r.A)({role:"tab",tabIndex:l===t?0:-1,"aria-selected":l===t,key:t,ref:e=>d.push(e),onKeyDown:h,onClick:p},i,{className:(0,o.A)("tabs__item",b.tabItem,i?.className,{"tabs__item--active":l===t})}),a??t)})))}function v(e){let{lazy:t,children:a,selectedValue:r}=e;const o=(Array.isArray(a)?a:[a]).filter(Boolean);if(t){const e=o.find((e=>e.props.value===r));return e?(0,n.cloneElement)(e,{className:"margin-top--md"}):null}return n.createElement("div",{className:"margin-top--md"},o.map(((e,t)=>(0,n.cloneElement)(e,{key:t,hidden:e.props.value!==r}))))}function w(e){const t=y(e);return n.createElement("div",{className:(0,o.A)("tabs-container",b.tabList)},n.createElement(m,(0,r.A)({},e,t)),n.createElement(v,(0,r.A)({},e,t)))}function k(e){const t=(0,f.A)();return n.createElement(w,(0,r.A)({key:String(t)},e))}},11286:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>s,default:()=>g,frontMatter:()=>l,metadata:()=>u,toc:()=>c});var r=a(58168),n=(a(96540),a(15680)),o=a(49489),i=a(7227);const l={sidebar_position:4,description:"Create an EigenLayer Distributed Validator to enable distributed restaking."},s="Create an EigenLayer DV",u={unversionedId:"advanced/quickstart-eigenpod",id:"version-v1.0.0/advanced/quickstart-eigenpod",title:"Create an EigenLayer DV",description:"Create an EigenLayer Distributed Validator to enable distributed restaking.",source:"@site/versioned_docs/version-v1.0.0/advanced/quickstart-eigenpod.md",sourceDirName:"advanced",slug:"/advanced/quickstart-eigenpod",permalink:"/docs/advanced/quickstart-eigenpod",draft:!1,editUrl:"https://github.com/ObolNetwork/obol-docs/edit/main/versioned_docs/version-v1.0.0/advanced/quickstart-eigenpod.md",tags:[],version:"v1.0.0",sidebarPosition:4,frontMatter:{sidebar_position:4,description:"Create an EigenLayer Distributed Validator to enable distributed restaking."},sidebar:"tutorialSidebar",previous:{title:"Create a DV using the SDK",permalink:"/docs/advanced/quickstart-sdk"},next:{title:"Test a Cluster",permalink:"/docs/advanced/test-command"}},d={},c=[{value:"Pre-requisites",id:"pre-requisites",level:2},{value:"Create a SAFE to own the EigenPod",id:"create-a-safe-to-own-the-eigenpod",level:2},{value:"Create an EigenPod",id:"create-an-eigenpod",level:2},{value:"Create a Splitter for the block reward",id:"create-a-splitter-for-the-block-reward",level:2},{value:"Create the DV cluster invite",id:"create-the-dv-cluster-invite",level:2},{value:"Deposit and restake your Distributed Validator",id:"deposit-and-restake-your-distributed-validator",level:2}],p={toc:c},h="wrapper";function g(e){let{components:t,...a}=e;return(0,n.yg)(h,(0,r.A)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,n.yg)("h1",{id:"create-an-eigenlayer-dv"},"Create an EigenLayer DV"),(0,n.yg)("admonition",{type:"caution"},(0,n.yg)("p",{parentName:"admonition"},"The Obol-SDK is in a beta state and should be used with caution. Ensure you validate all important data.")),(0,n.yg)("p",null,"This is a walkthrough of creating a distributed validator cluster pointing to an ",(0,n.yg)("a",{parentName:"p",href:"https://eigenlayer.xyz/"},"EigenLayer")," ",(0,n.yg)("a",{parentName:"p",href:"https://docs.eigenlayer.xyz/eigenlayer/restaking-guides/restaking-user-guide/native-restaking/create-eigenpod-and-set-withdrawal-credentials/"},"EigenPod"),", using the ",(0,n.yg)("a",{parentName:"p",href:"/docs/dvl/intro"},"DV Launchpad")," and other applications."),(0,n.yg)("h2",{id:"pre-requisites"},"Pre-requisites"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},"The Ethereum addresses or ENS names for the node operators in the cluster. (Currently the DV Launchpad only supports Metamask or equivalent injected web3 browser wallets.)"),(0,n.yg)("li",{parentName:"ul"},"If creating more than one validator, the ability to use the ",(0,n.yg)("a",{parentName:"li",href:"/docs/advanced/quickstart-sdk"},"obol-sdk")," is required.")),(0,n.yg)("h2",{id:"create-a-safe-to-own-the-eigenpod"},"Create a SAFE to own the EigenPod"),(0,n.yg)("p",null,"Deploy a ",(0,n.yg)("a",{parentName:"p",href:"https://app.safe.global/"},"SAFE")," with the addresses of the node operators as signers. A reasonable signing threshold is the same as a cluster (>2/3rds) but use good judgement if a different threshold or signer set suits your use case. The principal ether for these validators will be returned to this address."),(0,n.yg)("h2",{id:"create-an-eigenpod"},"Create an EigenPod"),(0,n.yg)("p",null,'Select the "Create EigenPod" option on the ',(0,n.yg)("a",{parentName:"p",href:"https://app.eigenlayer.xyz/"},"EigenLayer App"),"'s 'Restake' page, using the created SAFE account via WalletConnect. Note the EigenPod's address."),(0,n.yg)("h2",{id:"create-a-splitter-for-the-block-reward"},"Create a Splitter for the block reward"),(0,n.yg)("p",null,"Create a Splitter on ",(0,n.yg)("a",{parentName:"p",href:"https://app.splits.org/"},"splits.org"),", to divide the block reward and MEV amongst the operators. Note the split's address."),(0,n.yg)("admonition",{type:"tip"},(0,n.yg)("p",{parentName:"admonition"},"To be recognised as a part of Obol's ",(0,n.yg)("a",{parentName:"p",href:"https://blog.obol.tech/1-percent-for-decentralisation/"},"1% for Decentralisation")," campaign, you must contribute 3% of execution layer rewards by setting ",(0,n.yg)("a",{parentName:"p",href:"https://etherscan.io/address/0xDe5aE4De36c966747Ea7DF13BD9589642e2B1D0d"},"this address")," as a recipient on your split. Upcoming Obol EigenPods will support contributing 1% of total rewards instead of 3% of only execution rewards.")),(0,n.yg)("h2",{id:"create-the-dv-cluster-invite"},"Create the DV cluster invite"),(0,n.yg)("p",null,"With these contracts deployed, you can now create the DV cluster invitation to send to Node Operators, this can be done through the DV Launchpad or the Obol SDK."),(0,n.yg)(o.A,{groupId:"configure-eigenpod",mdxType:"Tabs"},(0,n.yg)(i.A,{value:"launchpad",label:"DV Launchpad",default:!0,mdxType:"TabItem"},(0,n.yg)("ul",null,(0,n.yg)("li",null,'Use the "Create a cluster with a group" ',(0,n.yg)("a",{href:"../start/quickstart_group"},"flow")," on the ",(0,n.yg)("a",{href:"../dvl/intro"},"DV Launchpad"),"."),(0,n.yg)("li",null,"Choose a cluster name and invite your operator's addresses."),(0,n.yg)("li",null,'When setting the withdrawal credentials, select "Custom".'),(0,n.yg)("li",null,'For "Withdrawal Address", set the EigenPod contract address.'),(0,n.yg)("li",null,'For "Fee Recipient", set the Split contract address.'),(0,n.yg)("li",null,"Continue the process of creating a cluster normally, share the invitation link with the operators and have them complete the Distributed Key Generation ceremony."))),(0,n.yg)(i.A,{value:"sdk",label:"SDK",mdxType:"TabItem"},(0,n.yg)("ul",null,(0,n.yg)("li",null,"If you are creating a cluster with more than one validator, you will need to craft the cluster invitation with the ",(0,n.yg)("a",{href:"https://www.npmjs.com/package/@obolnetwork/obol-sdk",target:"_blank"},"SDK"),"."),(0,n.yg)("li",null,"Follow the  ",(0,n.yg)("a",{href:"./quickstart-sdk"},"Create a cluster using the SDK")," guide."),(0,n.yg)("li",null,"For ",(0,n.yg)("code",null,"withdrawal_address"),", set the EigenPod contract address."),(0,n.yg)("li",null,"For ",(0,n.yg)("code",null,"fee_recipient_address"),", set the Split contract address."),(0,n.yg)("li",null,"Continue the process of creating the cluster as per the guide, share the invitation link with the operators and have them complete the Distributed Key Generation ceremony.")))),(0,n.yg)("h2",{id:"deposit-and-restake-your-distributed-validator"},"Deposit and restake your Distributed Validator"),(0,n.yg)("p",null,"Once you have completed the DKG ceremony, you can continue the flow on the EigenLayer app to activate these validators and restake them. Consult the EigenLayer ",(0,n.yg)("a",{parentName:"p",href:"https://docs.eigenlayer.xyz/eigenlayer/restaking-guides/restaking-user-guide/native-restaking/create-eigenpod-and-set-withdrawal-credentials/enable-restaking"},"documentation")," to continue the process."))}g.isMDXComponent=!0}}]);