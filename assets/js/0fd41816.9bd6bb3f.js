"use strict";(self.webpackChunkobol_docs=self.webpackChunkobol_docs||[]).push([[80551],{86704:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>d,contentTitle:()=>s,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"adv/troubleshooting/errors","title":"Errors & Resolutions","description":"Errors & Resolutions","source":"@site/docs/adv/troubleshooting/errors.md","sourceDirName":"adv/troubleshooting","slug":"/adv/troubleshooting/errors","permalink":"/next/adv/troubleshooting/errors","draft":false,"unlisted":false,"editUrl":"https://github.com/ObolNetwork/obol-docs/edit/main/docs/adv/troubleshooting/errors.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"description":"Errors & Resolutions"},"sidebar":"tutorialSidebar","previous":{"title":"Advanced Docker Configs","permalink":"/next/adv/advanced/adv-docker-configs"},"next":{"title":"Handling DKG Failure","permalink":"/next/adv/troubleshooting/dkg_failure"}}');var t=o(74848),r=o(28453);const a={sidebar_position:1,description:"Errors & Resolutions"},s="Errors & Resolutions",d={},c=[{value:"ENRs &amp; Keys",id:"enrs--keys",level:2},{value:"How do I get my ENR if I want to generate it again?",id:"how-do-i-get-my-enr-if-i-want-to-generate-it-again",level:3},{value:"What do I do if lose my <code>charon-enr-private-key</code>?",id:"what-do-i-do-if-lose-my-charon-enr-private-key",level:3},{value:"I can&#39;t find the keys anywhere",id:"i-cant-find-the-keys-anywhere",level:3},{value:"Lighthouse",id:"lighthouse",level:2},{value:"Lighthouse says &quot;downloading historical blocks&quot;",id:"lighthouse-says-downloading-historical-blocks",level:3},{value:"Lighthouse gives the error <code>failed to request attester duties</code>",id:"lighthouse-gives-the-error-failed-to-request-attester-duties",level:3},{value:"Lighthouse gives the error <code>not enough time for a discovery seach</code>",id:"lighthouse-gives-the-error-not-enough-time-for-a-discovery-seach",level:3},{value:"Beacon Node",id:"beacon-node",level:2},{value:"<code>Error communicating with Beacon Node API</code> &amp; <code>Error while connecting to beacon node event stream</code>",id:"error-communicating-with-beacon-node-api--error-while-connecting-to-beacon-node-event-stream",level:3},{value:"Clock sync issues",id:"clock-sync-issues",level:3},{value:"My beacon node API is flaky with lots of errors and timeouts",id:"my-beacon-node-api-is-flaky-with-lots-of-errors-and-timeouts",level:3},{value:"Charon Errors",id:"charon-errors",level:2},{value:"<code>Attester failed in consensus component</code>",id:"attester-failed-in-consensus-component",level:3},{value:"<code>Load private key</code>",id:"load-private-key",level:3},{value:"<code>Failed to confirm node connection</code>",id:"failed-to-confirm-node-connection",level:3},{value:"<code>Reserve relay circuit: reservation failed</code>",id:"reserve-relay-circuit-reservation-failed",level:3},{value:"<code>Error opening relay circuit: NO_RESERVATION</code>",id:"error-opening-relay-circuit-no_reservation",level:3},{value:"<code>Couldnt fetch duty data from the beacon node</code>",id:"couldnt-fetch-duty-data-from-the-beacon-node",level:3},{value:"<code>Couldnt aggregate attestation due to failed attester duty</code>",id:"couldnt-aggregate-attestation-due-to-failed-attester-duty",level:3},{value:"<code>Couldnt aggregate attestation due to insufficient partial v2 committee subscriptions</code>",id:"couldnt-aggregate-attestation-due-to-insufficient-partial-v2-committee-subscriptions",level:3},{value:"<code>Couldnt aggregate attestation due to failed prepare aggregator duty</code>",id:"couldnt-aggregate-attestation-due-to-failed-prepare-aggregator-duty",level:3},{value:"<code>Couldnt propose block due to insufficient partial randao signatures</code>",id:"couldnt-propose-block-due-to-insufficient-partial-randao-signatures",level:3},{value:"<code>Couldnt propose block due to zero partial randao signatures</code>",id:"couldnt-propose-block-due-to-zero-partial-randao-signatures",level:3},{value:"<code>Couldnt propose block due to failed randao duty</code>",id:"couldnt-propose-block-due-to-failed-randao-duty",level:3},{value:"<code>Consensus algorithm didn&#39;t complete</code>",id:"consensus-algorithm-didnt-complete",level:3},{value:"<code>Signed duty not submitted by local validator client</code> error",id:"signed-duty-not-submitted-by-local-validator-client-error",level:3},{value:"<code>Bug: partial signature database didn&#39;t trigger partial signature exchange</code>",id:"bug-partial-signature-database-didnt-trigger-partial-signature-exchange",level:3},{value:"<code>No partial signatures received from peers</code>",id:"no-partial-signatures-received-from-peers",level:3},{value:"<code>Insufficient partial signatures received, minimum required threshold not reached</code>",id:"insufficient-partial-signatures-received-minimum-required-threshold-not-reached",level:3},{value:"<code>Bug: threshold aggregation of partial signatures failed due to inconsistent signed data</code>",id:"bug-threshold-aggregation-of-partial-signatures-failed-due-to-inconsistent-signed-data",level:3},{value:"<code>Existing private key lock file found, another charon instance may be running on your machine</code>",id:"existing-private-key-lock-file-found-another-charon-instance-may-be-running-on-your-machine",level:3},{value:"<code>Validator api 5xx response: mismatching validator client key share index, Mth key share submitted to Nth charon peer</code>",id:"validator-api-5xx-response-mismatching-validator-client-key-share-index-mth-key-share-submitted-to-nth-charon-peer",level:3},{value:"Grafana",id:"grafana",level:2},{value:"How to fix the Grafana dashboard?",id:"how-to-fix-the-grafana-dashboard",level:3},{value:"<code>N/A</code> &amp; <code>No data</code> in validator info panel",id:"na--no-data-in-validator-info-panel",level:3},{value:"Prometheus",id:"prometheus",level:2},{value:"<code>Unauthorized: authentication error: invalid token</code>",id:"unauthorized-authentication-error-invalid-token",level:3},{value:"Docker",id:"docker",level:2},{value:"How to fix <code>permission denied</code> errors?",id:"how-to-fix-permission-denied-errors",level:3},{value:"I see a lot of errors after running <code>docker compose up</code>",id:"i-see-a-lot-of-errors-after-running-docker-compose-up",level:3},{value:"How do I fix the <code>plugin &quot;loki&quot; not found</code> error?",id:"how-do-i-fix-the-plugin-loki-not-found-error",level:3},{value:"Relay",id:"relay",level:2},{value:"<code> Resolve IP of p2p external host flag: lookup replace.with.public.ip.or.hostname:no such host</code>",id:"-resolve-ip-of-p2p-external-host-flag-lookup-replacewithpubliciporhostnameno-such-host",level:3},{value:"<code> Timeout resolving bootnode ENR: context deadline exceeded</code>",id:"-timeout-resolving-bootnode-enr-context-deadline-exceeded",level:3}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"errors--resolutions",children:"Errors & Resolutions"})}),"\n",(0,t.jsx)(n.p,{children:"All operators should try to restart their nodes and should check if they are on the latest stable version before attempting anything other configuration change. You can restart and update with the following commands:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"docker compose down\ngit pull\ndocker compose up\n"})}),"\n",(0,t.jsx)(n.p,{children:"You can check your logs using"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",children:"docker compose logs\n"})}),"\n",(0,t.jsx)(n.h2,{id:"enrs--keys",children:"ENRs & Keys"}),"\n",(0,t.jsx)(n.h3,{id:"how-do-i-get-my-enr-if-i-want-to-generate-it-again",children:"How do I get my ENR if I want to generate it again?"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"cd"})," to the directory where your private keys are located (ex: ",(0,t.jsx)(n.code,{children:"cd /path/to/charon/enr/private/key"}),")"]}),"\n",(0,t.jsxs)(n.p,{children:["Run ",(0,t.jsx)(n.code,{children:'docker run --rm -v "$(pwd):/opt/charon" obolnetwork/charon:v1.2.0 enr'}),". This prints the ENR on your screen."]}),"\n",(0,t.jsxs)(n.h3,{id:"what-do-i-do-if-lose-my-charon-enr-private-key",children:["What do I do if lose my ",(0,t.jsx)(n.code,{children:"charon-enr-private-key"}),"?"]}),"\n",(0,t.jsxs)(n.p,{children:["For now, ENR rotation/replacement is not supported, it will be supported in a future release. Therefore, its advised to always keep a backup of your ",(0,t.jsx)(n.code,{children:"charon-enr-private-key "})," in a secure location (ex: cloud storage, USB Flash drive, etc.)."]}),"\n",(0,t.jsx)(n.h3,{id:"i-cant-find-the-keys-anywhere",children:"I can't find the keys anywhere"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"charon-enr-private-key"})," is generated inside a hidden folder ",(0,t.jsx)(n.code,{children:".charon"}),". To view it, run ",(0,t.jsx)(n.code,{children:"ls -al"})," in your terminal. This step may be a bit different for Windows.\nElse, if you are on macOS, press ",(0,t.jsx)(n.code,{children:"Cmd + Shift + ."})," to view the ",(0,t.jsx)(n.code,{children:".charon"})," folder in the Finder application."]}),"\n",(0,t.jsx)(n.h2,{id:"lighthouse",children:"Lighthouse"}),"\n",(0,t.jsx)(n.h3,{id:"lighthouse-says-downloading-historical-blocks",children:'Lighthouse says "downloading historical blocks"'}),"\n",(0,t.jsx)(n.p,{children:"This means that Lighthouse is still syncing which will throw a lot of errors down the line. Wait for the sync before moving further."}),"\n",(0,t.jsxs)(n.h3,{id:"lighthouse-gives-the-error-failed-to-request-attester-duties",children:["Lighthouse gives the error ",(0,t.jsx)(n.code,{children:"failed to request attester duties"})]}),"\n",(0,t.jsx)(n.p,{children:"This indicates there is something wrong with your Lighthouse beacon node. This might be because the request buffer is full as your node is never starting consensus since it never gets the duties."}),"\n",(0,t.jsxs)(n.h3,{id:"lighthouse-gives-the-error-not-enough-time-for-a-discovery-seach",children:["Lighthouse gives the error ",(0,t.jsx)(n.code,{children:"not enough time for a discovery seach"})]}),"\n",(0,t.jsx)(n.p,{children:"This could be linked to a internet connection being too slow or relying on a slow third-party service such as Infura."}),"\n",(0,t.jsx)(n.h2,{id:"beacon-node",children:"Beacon Node"}),"\n",(0,t.jsxs)(n.h3,{id:"error-communicating-with-beacon-node-api--error-while-connecting-to-beacon-node-event-stream",children:[(0,t.jsx)(n.code,{children:"Error communicating with Beacon Node API"})," & ",(0,t.jsx)(n.code,{children:"Error while connecting to beacon node event stream"})]}),"\n",(0,t.jsx)(n.p,{children:"This is likely due to Lighthouse not done syncing, wait and try again once synced. Can also be linked to Teku keystore issue."}),"\n",(0,t.jsx)(n.h3,{id:"clock-sync-issues",children:"Clock sync issues"}),"\n",(0,t.jsx)(n.p,{children:"Either your clock server time is off, or you are talking to a remote beacon client that is super slow (this is why we advise against using services like Infura)."}),"\n",(0,t.jsx)(n.h3,{id:"my-beacon-node-api-is-flaky-with-lots-of-errors-and-timeouts",children:"My beacon node API is flaky with lots of errors and timeouts"}),"\n",(0,t.jsx)(n.p,{children:"A good quality beacon node API is critical to validator performance. It is always advised to run your own beacon node to ensure low latencies to boost validator performance.\nUsing 3rd party services like Infura's beacon node API has significant disadvantages since the quality is often low. Requests often return 500s or timeout. This results in lots of warnings and errors and failed duties. Running a local beacon node is always preferred."}),"\n",(0,t.jsx)(n.h2,{id:"charon-errors",children:"Charon Errors"}),"\n",(0,t.jsx)(n.h3,{id:"attester-failed-in-consensus-component",children:(0,t.jsx)(n.code,{children:"Attester failed in consensus component"})}),"\n",(0,t.jsxs)(n.p,{children:["The required number of operators defined in your cluster-lock file is\nprobably not online to sign successfully. Make sure all operators are\nrunning the latest version of Charon. To check if some peers are not online:\n",(0,t.jsx)(n.code,{children:"docker logs charon-distributed-validator-node-charon-1 2>&1 | grep 'absent'"})]}),"\n",(0,t.jsx)(n.h3,{id:"load-private-key",children:(0,t.jsx)(n.code,{children:"Load private key"})}),"\n",(0,t.jsxs)(n.p,{children:["Make sure you have successfully run a DKG before running the node. The key\nshould be created and placed in the right directory during the ceremony.\nAlso, make sure you are working in the right directory:\n",(0,t.jsx)(n.code,{children:"charon-distributed-validator-node"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"failed-to-confirm-node-connection",children:(0,t.jsx)(n.code,{children:"Failed to confirm node connection"})}),"\n",(0,t.jsx)(n.p,{children:"Wait for Teku & Lighthouse sync to be complete."}),"\n",(0,t.jsx)(n.h3,{id:"reserve-relay-circuit-reservation-failed",children:(0,t.jsx)(n.code,{children:"Reserve relay circuit: reservation failed"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"RESERVATION_REFUSED"}),' is returned by the libp2p relay when some maximum\nlimit has been reached. This is most often due to "maximum reservations per IP/peer".\nThis is when your Charon node is restarting or in some error loop and constantly\nattempting to create new relay reservations reaching the maximum.']}),"\n",(0,t.jsx)(n.p,{children:'To fix this error, stop your Charon node for 30mins before restarting it.\nThis should allow the relay enough time to reset your IP/peer limits and\nshould then allow new reservations. This could also be due to the relay\nbeing overloaded in general, so reaching a server wide "maximum connections"\nlimit. This is an issue with relay scalability and we are working in a long\nterm fix for this.'}),"\n",(0,t.jsx)(n.h3,{id:"error-opening-relay-circuit-no_reservation",children:(0,t.jsx)(n.code,{children:"Error opening relay circuit: NO_RESERVATION"})}),"\n",(0,t.jsx)(n.p,{children:"Error opening relay circuit NO_RESERVATION (204)` indicates the peer\nisn't connected to the relay, so the the Charon client cannot connect to the\npeer via the relay. That might be because the peer is offline or the peer is\nconfigured to connect to a different relay."}),"\n",(0,t.jsxs)(n.p,{children:["To fix this error, ensure the peer is online and configured with the exact\nsame ",(0,t.jsx)(n.code,{children:"--p2p-relays"})," flag."]}),"\n",(0,t.jsx)(n.h3,{id:"couldnt-fetch-duty-data-from-the-beacon-node",children:(0,t.jsx)(n.code,{children:"Couldnt fetch duty data from the beacon node"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"msgFetcher"})," indicates a duty failed in the fetcher component when\nit failed to fetch the required data from the beacon node API. This indicates\na problem with the upstream beacon node."]}),"\n",(0,t.jsx)(n.h3,{id:"couldnt-aggregate-attestation-due-to-failed-attester-duty",children:(0,t.jsx)(n.code,{children:"Couldnt aggregate attestation due to failed attester duty"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"msgFetcherAggregatorNoAttData"})," indicates an attestation aggregation\nduty failed in the fetcher component since it couldn't fetch the prerequisite\nattestation data. This indicates the associated attestation duty failed to obtain\na cluster agreed upon value."]}),"\n",(0,t.jsx)(n.h3,{id:"couldnt-aggregate-attestation-due-to-insufficient-partial-v2-committee-subscriptions",children:(0,t.jsx)(n.code,{children:"Couldnt aggregate attestation due to insufficient partial v2 committee subscriptions"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"msgFetcherAggregatorZeroPrepares"})," indicates an attestation aggregation\nduty failed in the fetcher component since it couldn't fetch the prerequisite\naggregated v2 committee subscription. This indicates the associated prepare aggregation\nduty failed due to no partial v2 committee subscription submitted by the cluster\nvalidator clients."]}),"\n",(0,t.jsx)(n.h3,{id:"couldnt-aggregate-attestation-due-to-failed-prepare-aggregator-duty",children:(0,t.jsx)(n.code,{children:"Couldnt aggregate attestation due to failed prepare aggregator duty"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"msgFetcherAggregatorFailedPrepare"})," indicates an attestation aggregation\nduty failed in the fetcher component since it couldn't fetch the prerequisite\naggregated v2 committee subscription. This indicates the associated prepare aggregation\nduty failed."]}),"\n",(0,t.jsx)(n.h3,{id:"couldnt-propose-block-due-to-insufficient-partial-randao-signatures",children:(0,t.jsx)(n.code,{children:"Couldnt propose block due to insufficient partial randao signatures"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"msgFetcherProposerFewRandaos"})," indicates a block proposer duty failed\nin the fetcher component since it couldn't fetch the prerequisite aggregated\nRANDAO. This indicates the associated randao duty failed due to insufficient\npartial randao signatures submitted by the cluster validator clients."]}),"\n",(0,t.jsx)(n.h3,{id:"couldnt-propose-block-due-to-zero-partial-randao-signatures",children:(0,t.jsx)(n.code,{children:"Couldnt propose block due to zero partial randao signatures"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"msgFetcherProposerZeroRandaos"})," indicates a block proposer duty failed\nin the fetcher component since it couldn't fetch the prerequisite aggregated\nRANDAO. This indicates the associated randao duty failed due to no partial randao\nsignatures submitted by the cluster validator clients."]}),"\n",(0,t.jsx)(n.h3,{id:"couldnt-propose-block-due-to-failed-randao-duty",children:(0,t.jsx)(n.code,{children:"Couldnt propose block due to failed randao duty"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"msgFetcherProposerZeroRandaos"})," indicates a block proposer duty failed\nin the fetcher component since it couldn't fetch the prerequisite aggregated\nRANDAO. This indicates the associated randao duty failed."]}),"\n",(0,t.jsx)(n.h3,{id:"consensus-algorithm-didnt-complete",children:(0,t.jsx)(n.code,{children:"Consensus algorithm didn't complete"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"msgConsensus"})," indicates a duty failed in consensus component. This\ncould indicate that insufficient honest peers participated in consensus or p2p\nnetwork connection problems."]}),"\n",(0,t.jsxs)(n.h3,{id:"signed-duty-not-submitted-by-local-validator-client-error",children:[(0,t.jsx)(n.code,{children:"Signed duty not submitted by local validator client"})," error"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"msgValidatorAPI"})," indicates that partial signature were never submitted\nby the local validator client. This could indicate that the local validator client\nis offline, or has connection problems with Charon, or has some other problem.\nSee validator client logs for more details."]}),"\n",(0,t.jsx)(n.h3,{id:"bug-partial-signature-database-didnt-trigger-partial-signature-exchange",children:(0,t.jsx)(n.code,{children:"Bug: partial signature database didn't trigger partial signature exchange"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"msgParSigDBInternal"})," indicates a bug in the partial signature database\nas it is unexpected."]}),"\n",(0,t.jsx)(n.h3,{id:"no-partial-signatures-received-from-peers",children:(0,t.jsx)(n.code,{children:"No partial signatures received from peers"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"msgParSigEx"})," indicates that no partial signature for the duty was\nreceived from any peer. This indicates all peers are offline or p2p network connection\nproblems."]}),"\n",(0,t.jsx)(n.h3,{id:"insufficient-partial-signatures-received-minimum-required-threshold-not-reached",children:(0,t.jsx)(n.code,{children:"Insufficient partial signatures received, minimum required threshold not reached"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"msgParSigDBThreshold"})," indicates that insufficient partial signatures\nfor the duty was received from peers. This indicates problems with peers or p2p\nnetwork connection problems."]}),"\n",(0,t.jsx)(n.h3,{id:"bug-threshold-aggregation-of-partial-signatures-failed-due-to-inconsistent-signed-data",children:(0,t.jsx)(n.code,{children:"Bug: threshold aggregation of partial signatures failed due to inconsistent signed data"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"msgSigAgg"})," indicates that BLS threshold aggregation of sufficient\npartial signatures failed. This indicates inconsistent signed data. This indicates\na bug in Charon as it is unexpected."]}),"\n",(0,t.jsx)(n.h3,{id:"existing-private-key-lock-file-found-another-charon-instance-may-be-running-on-your-machine",children:(0,t.jsx)(n.code,{children:"Existing private key lock file found, another charon instance may be running on your machine"})}),"\n",(0,t.jsxs)(n.p,{children:["When you turn on the ",(0,t.jsx)(n.code,{children:"--private-key-file-lock"})," option in Charon, it\nchecks for a special file called the private key lock file. This file has the\nsame name as the ENR private key file but with a ",(0,t.jsx)(n.code,{children:".lock"})," extension.\nIf the private key lock file exists and is not older than 5 seconds, Charon won't\nrun. It doesn't allow running multiple Charon instances with the same ENR private\nkey. If the private key lock file has a timestamp older than 5 seconds, Charon\nwill replace it and continue with its work. If you`re sure that no other Charon\ninstances are running, you can delete the private key lock file."]}),"\n",(0,t.jsx)(n.h3,{id:"validator-api-5xx-response-mismatching-validator-client-key-share-index-mth-key-share-submitted-to-nth-charon-peer",children:(0,t.jsx)(n.code,{children:"Validator api 5xx response: mismatching validator client key share index, Mth key share submitted to Nth charon peer"})}),"\n",(0,t.jsx)(n.p,{children:"The issue revolves around an invalid setup or deployment, where the\nvalidators private key shares don't match the ENR private key. There may\nhave been a mix-up during deployment, leading to a mismatching validator\nclient key share index."}),"\n",(0,t.jsxs)(n.p,{children:["For example",":Imagine"," node N is Alice, and node M is Bob, the error would read:\n",(0,t.jsx)(n.code,{children:" mismatching validator client key share index, Bob"}),"s key share submitted to Alice",(0,t.jsx)(n.code,{children:"s charon node "}),"\nBob",(0,t.jsx)(n.code,{children:"s private key share(s) are imported to a VC that is connected to Alice"}),"s Charon node. This is a invalid setup/deployment.\nAlice",(0,t.jsx)(n.code,{children:"s Charon node should only be connected to Alice"}),"s VC."]}),"\n",(0,t.jsxs)(n.p,{children:["Check the partial public key shares of each node inside\ncluster-lock.json and see that matches with the public key inside\n",(0,t.jsx)(n.code,{children:"node(num)/validator_keys/keystore-0.json"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"grafana",children:"Grafana"}),"\n",(0,t.jsx)(n.h3,{id:"how-to-fix-the-grafana-dashboard",children:"How to fix the Grafana dashboard?"}),"\n",(0,t.jsx)(n.p,{children:"Sometimes, Grafana dashboard doesn't load any data first time around.\nYou can solve this by following the steps below:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Click the Wheel Icon > Datasources."}),"\n",(0,t.jsx)(n.li,{children:"Click prometheus."}),"\n",(0,t.jsxs)(n.li,{children:['Change the "Access" field from ',(0,t.jsx)(n.code,{children:"Server (default)"})," to ",(0,t.jsx)(n.code,{children:"Browser"}),'. Press "Save & Test". It should fail.']}),"\n",(0,t.jsxs)(n.li,{children:['Change the "Access" field back to ',(0,t.jsx)(n.code,{children:"Server (default)"}),' and press "Save & Test". You should be presented with a green success icon saying "Data source is working" and you can return to the dashboard page.']}),"\n"]}),"\n",(0,t.jsxs)(n.h3,{id:"na--no-data-in-validator-info-panel",children:[(0,t.jsx)(n.code,{children:"N/A"})," & ",(0,t.jsx)(n.code,{children:"No data"})," in validator info panel"]}),"\n",(0,t.jsx)(n.p,{children:"Can be linked to a Teku keystore issue."}),"\n",(0,t.jsx)(n.h2,{id:"prometheus",children:"Prometheus"}),"\n",(0,t.jsx)(n.h3,{id:"unauthorized-authentication-error-invalid-token",children:(0,t.jsx)(n.code,{children:"Unauthorized: authentication error: invalid token"})}),"\n",(0,t.jsxs)(n.p,{children:["You can ignore this error unless you have been contacted by the Obol Team\nwith monitoring credentials. In that case, follow ",(0,t.jsx)(n.a,{href:"/next/run/running/monitoring",children:"Monitoring your Node"})," in our guides. It does not affect cluster performance or prevent the cluster from running."]}),"\n",(0,t.jsx)(n.h2,{id:"docker",children:"Docker"}),"\n",(0,t.jsxs)(n.h3,{id:"how-to-fix-permission-denied-errors",children:["How to fix ",(0,t.jsx)(n.code,{children:"permission denied"})," errors?"]}),"\n",(0,t.jsx)(n.p,{children:"Permission denied errors can come up in a variety of manners, particularly\non Linux and WSL for Windows systems. In the interest of security, the\ncharon docker image runs as a non-root user, and this user often does not\nhave the permissions to write in the directory you have checked out the code\nto. This can be generally be fixed with some of the following:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Running docker commands with ",(0,t.jsx)(n.code,{children:"sudo"}),", if you haven't ",(0,t.jsx)(n.a,{href:"https://docs.docker.com/engine/install/linux-postinstall/",children:"setup docker to be run as a non-root user"})]}),"\n",(0,t.jsxs)(n.li,{children:["Changing the permissions of the ",(0,t.jsx)(n.code,{children:".charon"})," folder with the commands:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"mkdir .charon"})," (if it doesn't already exist);"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"sudo chmod -R 666 .charon"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.h3,{id:"i-see-a-lot-of-errors-after-running-docker-compose-up",children:["I see a lot of errors after running ",(0,t.jsx)(n.code,{children:"docker compose up"})]}),"\n",(0,t.jsxs)(n.p,{children:["It",(0,t.jsx)(n.code,{children:"s because both Nethermind and Lighthouse start syncing and so there's     connectivity issues among the containers. Simply let the containers run for     a while. You won't observe frequent errors when Nethermind finishes syncing. You     can also add a second beacon node endpoint for something like Infura by     adding a comma separated API URL to the end of     "}),"CHARON_BEACON_NODE_ENDPOINTS` in the docker-compose.yml."]}),"\n",(0,t.jsxs)(n.h3,{id:"how-do-i-fix-the-plugin-loki-not-found-error",children:["How do I fix the ",(0,t.jsx)(n.code,{children:'plugin "loki" not found'})," error?"]}),"\n",(0,t.jsxs)(n.p,{children:["If you get the following error when calling ",(0,t.jsx)(n.code,{children:"docker compose up"}),":"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:'Error response from daemon: error looking up logging plugin loki: plugin "loki" not found'}),"."]}),"\n",(0,t.jsx)(n.p,{children:"Then it probably means that the Loki docker driver isn't installed. In that case, run the following command to install loki:"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"docker plugin install grafana/loki-docker-driver:latest --alias loki --grant-all-permissions"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"relay",children:"Relay"}),"\n",(0,t.jsx)(n.h3,{id:"-resolve-ip-of-p2p-external-host-flag-lookup-replacewithpubliciporhostnameno-such-host",children:(0,t.jsx)(n.code,{children:" Resolve IP of p2p external host flag: lookup replace.with.public.ip.or.hostname:no such host"})}),"\n",(0,t.jsxs)(n.p,{children:["Replace ",(0,t.jsx)(n.code,{children:"replace.with.public.ip.or.hostname"})," in the\nrelay/docker-compose.yml with your real public IP or DNS hostname."]}),"\n",(0,t.jsx)(n.h3,{id:"-timeout-resolving-bootnode-enr-context-deadline-exceeded",children:(0,t.jsx)(n.code,{children:" Timeout resolving bootnode ENR: context deadline exceeded"})}),"\n",(0,t.jsx)(n.p,{children:"The relay you are trying to connect to your peers via is offline or\nunreachable."})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},28453:(e,n,o)=>{o.d(n,{R:()=>a,x:()=>s});var i=o(96540);const t={},r=i.createContext(t);function a(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);