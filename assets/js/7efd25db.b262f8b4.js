"use strict";(self.webpackChunkobol_docs=self.webpackChunkobol_docs||[]).push([[3496],{94816:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>l,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"run/start/quickstart_group","title":"Create a DV With a Group","description":"Create a DV with a group","source":"@site/docs/run/start/quickstart_group.mdx","sourceDirName":"run/start","slug":"/run/start/quickstart_group","permalink":"/next/run/start/quickstart_group","draft":false,"unlisted":false,"editUrl":"https://github.com/ObolNetwork/obol-docs/edit/main/docs/run/start/quickstart_group.mdx","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"description":"Create a DV with a group"},"sidebar":"tutorialSidebar","previous":{"title":"Create a DV Alone","permalink":"/next/run/start/quickstart_alone"},"next":{"title":"Enable MEV","permalink":"/next/run/start/quickstart-builder-api"}}');var s=t(74848),i=t(28453),a=t(49489),o=t(7227);const l={sidebar_position:3,description:"Create a DV with a group"},c="Create a DV With a Group",d={},h=[{value:"Pre-requisites",id:"pre-requisites",level:2},{value:"Step 1: Get your ENR",id:"step-1-get-your-enr",level:2},{value:"Prepare an Execution and Consensus client",id:"prepare-an-execution-and-consensus-client",level:4},{value:"Install the Obol DappNode package",id:"install-the-obol-dappnode-package",level:4},{value:"Installing Sedge",id:"installing-sedge",level:4},{value:"Check the install was successful",id:"check-the-install-was-successful",level:4},{value:"Step 2: Create a cluster or accept an invitation to a cluster",id:"step-2-create-a-cluster-or-accept-an-invitation-to-a-cluster",level:2},{value:"Step 3: Run the Distributed Key Generation (DKG) ceremony",id:"step-3-run-the-distributed-key-generation-dkg-ceremony",level:2},{value:"Step 4: Start your Distributed Validator Node",id:"step-4-start-your-distributed-validator-node",level:2},{value:"Sedge generate",id:"sedge-generate",level:4},{value:"Sedge Import-key",id:"sedge-import-key",level:4},{value:"Sedge Run",id:"sedge-run",level:4}];function u(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h4:"h4",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"create-a-dv-with-a-group",children:"Create a DV With a Group"})}),"\n",(0,s.jsx)(n.p,{children:"This quickstart guide will walk you through creating a Distributed Validator Cluster with a number of other node operators."}),"\n",(0,s.jsx)(n.h2,{id:"pre-requisites",children:"Pre-requisites"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["A basic ",(0,s.jsx)("a",{href:"https://docs.ethstaker.cc/ethstaker-knowledge-base/",target:"_blank",children:"knowledge"})," of Ethereum nodes and validators."]}),"\n",(0,s.jsxs)(n.li,{children:["A machine that meets the ",(0,s.jsx)(n.a,{href:"../prepare/deployment-best-practices#hardware-specifications",children:"minimum requirements"})," for the network you intend to validate."]}),"\n",(0,s.jsxs)(n.li,{children:["If you are taking part using a ",(0,s.jsx)(n.a,{href:"https://dappnode.com/",children:"DappNode"}),":","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["A computer with an up to date version of ",(0,s.jsx)("a",{href:"https://docs.dappnode.io/docs/user/install/overview/",target:"_blank",children:" DappNode"}),"'s software and an internet connection."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["If you are taking part using ",(0,s.jsx)(n.a,{href:"https://www.nethermind.io/sedge",children:"Sedge"}),", or ",(0,s.jsx)(n.a,{href:"https://github.com/ObolNetwork/lido-charon-distributed-validator-node",children:"Charon's Distributed Validator Node"})," (CDVN) starter repo:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Ensure you have ",(0,s.jsx)("a",{href:"https://git-scm.com/downloads",target:"_blank",children:"git"})," installed."]}),"\n",(0,s.jsxs)(n.li,{children:["Ensure you have ",(0,s.jsx)("a",{href:"https://docs.docker.com/engine/install/",target:"_blank",children:"docker"})," installed."]}),"\n",(0,s.jsxs)(n.li,{children:["Make sure ",(0,s.jsx)("code",{children:"docker"})," is running before executing the commands below."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"step-1-get-your-enr",children:"Step 1: Get your ENR"}),"\n",(0,s.jsxs)(a.A,{groupId:"Get-ENR",children:[(0,s.jsxs)(o.A,{value:"CLI",label:"CDVN",children:[(0,s.jsx)(n.p,{children:"In order to prepare for a distributed key generation ceremony, you need to create an ENR for your Charon client. This ENR is a public/private key pair that allows the other Charon clients in the DKG to identify and connect to your node. If you are creating a cluster but not taking part as a node operator in it, you can skip this step."}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:'# Clone the repo\ngit clone https://github.com/ObolNetwork/charon-distributed-validator-node.git\n# Change directory\ncd charon-distributed-validator-node/\n# Use docker to create an ENR. Backup the file `.charon/charon-enr-private-key`.\ndocker run --rm -v "$(pwd):/opt/charon" obolnetwork/charon:v1.1.2 create enr\n'})}),(0,s.jsx)(n.p,{children:"You should expect to see a console output like this:"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-logs",children:"Created ENR private key: .charon/charon-enr-private-key\nenr:-JG4QGQpV4qYe32QFUAbY1UyGNtNcrVMip83cvJRhw1brMslPeyELIz3q6dsZ7GblVaCjL_8FKQhF6Syg-O_kIWztimGAYHY5EvPgmlkgnY0gmlwhH8AAAGJc2VjcDI1NmsxoQKzMe_GFPpSqtnYl-mJr8uZAUtmkqccsAx7ojGmFy-FY4N0Y3CCDhqDdWRwgg4u\n"})}),(0,s.jsx)(n.admonition,{type:"warning",children:(0,s.jsxs)(n.p,{children:["Please make sure to create a backup of the private key at ",(0,s.jsx)(n.code,{children:".charon/charon-enr-private-key"}),". Be careful not to commit it to git! ",(0,s.jsx)(n.strong,{children:"If you lose this file you won't be able to take part in the DKG ceremony nor start the DV cluster successfully."})]})}),(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsxs)(n.p,{children:["If instead of being shown your ",(0,s.jsx)(n.code,{children:"enr"})," you see an error saying ",(0,s.jsx)(n.code,{children:"permission denied"})," then you may need to ",(0,s.jsx)(n.a,{href:"/next/adv/troubleshooting/errors#docker-permission-denied-error",children:"update your docker permissions"})," to allow the command to run successfully."]})})]}),(0,s.jsxs)(o.A,{value:"Dappnode",label:"Dappnode",children:[(0,s.jsx)(n.h4,{id:"prepare-an-execution-and-consensus-client",children:"Prepare an Execution and Consensus client"}),(0,s.jsx)(n.p,{children:"Before preparing the DappNode to take part in a Distributed Validator Cluster, you must ensure you have selected an execution client & consensus client on your DappNode under the 'Stakers' tab for the network you intend to validate."}),(0,s.jsx)("p",{children:(0,s.jsxs)("ol",{children:[(0,s.jsxs)("li",{children:[(0,s.jsxs)(n.p,{children:["Login to the DappNode Interface:"," "]}),(0,s.jsx)("a",{href:"http://my.dappnode/dashboard",target:"_blank",children:(0,s.jsx)(n.p,{children:"Dappnode Login"})}),(0,s.jsx)("img",{src:"/img/dappnodeLogin.png",alt:"Dappnode Login"})]}),(0,s.jsxs)("li",{children:[(0,s.jsx)(n.p,{children:"Click on the 'Stakers' tab on the left side, select an execution client (e.g. Geth) & consensus client (e.g. Lodestar) & click 'Apply changes'. This will start the syncing process which can take a number of hours."}),(0,s.jsx)("img",{src:"/img/SelectClients.png",alt:"Select Clients"})]}),(0,s.jsxs)("li",{children:[(0,s.jsx)(n.p,{children:"Once the clients are finished syncing, it should reflect on your 'Dashboard' as shown below."}),(0,s.jsx)("img",{src:"/img/Dashboard.png",alt:"Dashboard showing chains are synced and their status are healthy"})]})]})}),(0,s.jsx)(n.h4,{id:"install-the-obol-dappnode-package",children:"Install the Obol DappNode package"}),(0,s.jsx)(n.p,{children:"With a fully synced Ethereum node now running on the DappNode, the below steps will walk through installing the Obol package via an IPFS hash and preparing for a Distributed Key Generation ceremony. Future versions of this guide will download the package from the official DappNode DappStore once a stable 1.0 release is made."}),(0,s.jsx)("p",{children:(0,s.jsxs)("ol",{children:[(0,s.jsxs)("li",{children:[(0,s.jsx)(n.p,{children:"Before installing the package, make sure you are installing the correct one, this depends on which network your creator configures the cluster on, Holesky or Mainnet. You can find the link to both packages below:"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"http://my.dappnode/installer/dnp/holesky-obol.dnp.dappnode.eth",target:"_blank",children:"Holesky Repo"})}),(0,s.jsx)("li",{children:(0,s.jsx)("a",{href:"http://my.dappnode/installer/dnp/obol.dnp.dappnode.eth",target:"_blank",children:"Mainnet Repo"})})]})]}),(0,s.jsxs)("li",{children:[(0,s.jsx)(n.p,{children:"Copy the latest IPFS hash from the release details dropdown."}),(0,s.jsx)("img",{src:"/img/DappnodeRepo.png",alt:"Retrieve IPFS Hash"})]}),(0,s.jsxs)("li",{children:[(0,s.jsx)(n.p,{children:"Go back to DappNode Dashboard > Dappstore, select the 'Public' tab, and accept the terms & conditions before proceeding."}),(0,s.jsx)("img",{src:"/img/PublicTab.png",alt:"Select Public Tab"})]}),(0,s.jsxs)("li",{children:[(0,s.jsx)(n.p,{children:"Paste the IPFS hash you copied from Github and click 'Search' (It may take a minute for the package to be found.) You will then be presented with the package installation page. Under the blue 'Install' button, click on 'Advanced Options' & toggle the button to 'Bypass only signed safe restriction'."}),(0,s.jsx)("img",{src:"/img/BypassButton.png",alt:"bypass only signed safe restriction"})]}),(0,s.jsxs)("li",{children:[(0,s.jsx)(n.p,{children:"Click 'Install' & in the config mode page > select new cluster & submit. (if you already have the config URL, you can select URL option.)"}),(0,s.jsx)("img",{src:"/img/InstallPackage.png",alt:"Install Package"})]}),(0,s.jsxs)("li",{children:[(0,s.jsx)(n.p,{children:"Accept the terms & conditions and the install process will begin."}),(0,s.jsx)("img",{src:"/img/TermsAndConditions.png",alt:"Accept terms and conditions"}),(0,s.jsx)("img",{src:"/img/PackageInstalling.png",alt:"Package Installing"})]}),(0,s.jsxs)("li",{children:[(0,s.jsx)(n.p,{children:"You should now be able to see the Holesky Obol package under the 'Packages' tab. Click on the package to see important details."}),(0,s.jsx)("img",{src:"/img/PackagesTab.png",alt:"Go to packages tab"})]}),(0,s.jsxs)("li",{children:[(0,s.jsx)(n.p,{children:"Under the 'Info' tab, you will be see pre-generated ENRs, along with information such as the status of all five distributed validator clusters, their docker volumes & other menu options."}),(0,s.jsx)("img",{src:"/img/GetENR.png",alt:"Get your ENR"})]}),(0,s.jsx)("li",{children:(0,s.jsx)(n.p,{children:"Select any of the ENRs listed that are not already in use. This ENR will be used in the next step."})})]})})]}),(0,s.jsxs)(o.A,{value:"Sedge",label:"Sedge",children:[(0,s.jsx)(n.h4,{id:"installing-sedge",children:"Installing Sedge"}),(0,s.jsxs)(n.p,{children:["First you must install Sedge, please refer to the ",(0,s.jsx)("a",{href:"https://docs.sedge.nethermind.io/docs/quickstart/install-guide",target:"_blank",children:"official Sedge installation guide"})," to do so."]}),(0,s.jsx)(n.h4,{id:"check-the-install-was-successful",children:"Check the install was successful"}),(0,s.jsx)(n.p,{children:"Run the below command to check if your have successfully installed sedge in your computer."}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"sedge\n"})}),(0,s.jsx)(n.p,{children:"Expected output:"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-log",children:'A tool to allow deploying validators with ease.\n  Usage:\n    sedge [command]\n  Available Commands:\n    cli             Generate a node setup interactively\n    clients         List supported clients\n    deps            Manage dependencies\n    down            Shutdown sedge running containers\n    generate        Generate new setups according to selected options\n    help            Help about any command\n    import-key      Import validator keys\n    keys            Generate keystore folder\n    logs            Get running container logs\n    networks        List supported networks\n    run             Run services\n    show            Show useful information about sedge running containers\n    slashing-export Export slashing protection data\n    slashing-import Import slashing protection data\n    version         Print sedge version\n  Flags:\n    -h, --help               help for sedge\n        --log-level string   Set Log Level, e.g panic, fatal, error, warn, warning, info, debug, trace (default "info")\n  Use "sedge [command] --help" for more information about a command.\n'})}),(0,s.jsx)(n.p,{children:"Create an ENR using charon:"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:'# Use docker to create an ENR. Backup the file `.charon/charon-enr-private-key`.\ndocker run --rm -v "$(pwd):/opt/charon" obolnetwork/charon:v1.1.2 create enr\n'})})]})]}),"\n",(0,s.jsx)(n.p,{children:"For Step 2 of the quickstart:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Select the ",(0,s.jsx)(n.strong,{children:"Creator"})," tab if you are coordinating the creation of the cluster (this role holds no position of privilege in the cluster, it only sets the initial terms of the cluster that the other operators agree to)."]}),"\n",(0,s.jsxs)(n.li,{children:["Select the ",(0,s.jsx)(n.strong,{children:"Operator"})," tab if you are accepting an invitation to operate a node in a cluster, proposed by the cluster creator."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"step-2-create-a-cluster-or-accept-an-invitation-to-a-cluster",children:"Step 2: Create a cluster or accept an invitation to a cluster"}),"\n",(0,s.jsxs)(a.A,{groupId:"Creator",children:[(0,s.jsxs)(o.A,{value:"Creator",label:"Creator",default:!0,children:[(0,s.jsx)("h2",{children:" Collect addresses, configure the cluster, share the invitation"}),(0,s.jsx)("p",{children:(0,s.jsxs)(n.p,{children:["Before starting the cluster creation process, you will need to collect an\nEthereum address for each operator in the cluster. They will need to be\nable to sign messages through MetaMask with this address.\n",(0,s.jsx)("i",{children:"(Broader wallet support will be added in future.)"})," With these addresses\nin hand, go through the cluster creation flow."]})}),(0,s.jsxs)(a.A,{groupId:"Launchpad-other",children:[(0,s.jsxs)(o.A,{value:"Launchpad",label:"Launchpad",default:!0,children:[(0,s.jsx)("p",{children:(0,s.jsxs)(n.p,{children:["You will use the Launchpad to create an invitation, and share it with\nthe operators. This video shows the flow within the ",(0,s.jsx)(n.a,{href:"/next/learn/intro/launchpad",children:"DV Launchpad"})]})}),(0,s.jsx)("p",{align:"center",children:(0,s.jsx)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/6pXASqjAQbs",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0})}),(0,s.jsxs)("p",{children:[(0,s.jsx)(n.p,{children:"The following are the steps for creating a cluster."}),(0,s.jsxs)("ol",{children:[(0,s.jsx)("li",{children:(0,s.jsxs)(n.p,{children:["Go to the"," ","\n",(0,s.jsx)("a",{href:"/docs/dvl/intro#dv-launchpad-links",children:"DV Launchpad"})]})}),(0,s.jsxs)("li",{children:[(0,s.jsx)(n.p,{children:"Connect your wallet"}),(0,s.jsx)("img",{src:"/img/Guide01.png",alt:"Connect your wallet"})]}),(0,s.jsxs)("li",{children:[(0,s.jsxs)(n.p,{children:["Select ",(0,s.jsx)("code",{children:"Create a Cluster with a group"})," then"," ","\n",(0,s.jsx)("code",{children:"Get Started"}),"."]}),(0,s.jsx)("img",{src:"/img/Guide02.png",alt:"Get started"})]}),(0,s.jsx)("li",{children:"Follow the flow and accept the advisories."}),(0,s.jsx)("li",{children:"Configure the Cluster"}),(0,s.jsx)("ul",{children:(0,s.jsx)("li",{children:(0,s.jsxs)(n.p,{children:["Input the ",(0,s.jsx)("code",{children:"Cluster Name"})," & ",(0,s.jsx)("code",{children:"Cluster Size"})," ","\n(i.e. number of operators in the cluster). The threshold will\nupdate automatically, it shows the number of nodes that need to\nbe functioning for the validator(s) to stay active."]})})}),(0,s.jsx)("li",{children:(0,s.jsx)(n.p,{children:'Input the Ethereum addresses for each operator that you collected\npreviously. If you will be taking part as an operator, click the\n"Use My Address" button for Operator 1.'})}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:(0,s.jsx)(n.p,{children:"Select the desired amount of validators (32 ETH each) the\ncluster will run. (Note that the mainnet launchpad is restricted\nto one validator for now.)"})}),(0,s.jsx)("li",{children:(0,s.jsxs)(n.p,{children:["If you are taking part in the cluster, enter the ENR you\ngenerated in ",(0,s.jsx)("a",{href:"#step-1-generate-an-enr",children:"step one"}),' in\nthe "What is your charon client\'s ENR?" field.']})}),(0,s.jsx)("li",{children:(0,s.jsxs)(n.p,{children:["Enter the ",(0,s.jsx)("code",{children:"Principal address"})," which should receive\nthe principal 32 ETH and the accrued consensus layer rewards\nwhen the validator is exited. This can optionally be set to the\ncontract address of a multisig / splitter contract."]})}),(0,s.jsx)("li",{children:(0,s.jsxs)(n.p,{children:["Enter the ",(0,s.jsx)("code",{children:"Fee Recipient address"})," to which the\nexecution layer rewards will go. This can be the same as the\nprincipal address, or it can be a different address. This can\noptionally be set to the contract address of a multisig /\nsplitter contract."]})})]}),(0,s.jsx)("li",{children:(0,s.jsxs)(n.p,{children:["Click ",(0,s.jsx)("code",{children:"Create Cluster Configuration"}),". Review that all\nthe details are correct, and press ",(0,s.jsx)("code",{children:"Confirm and Sign"})," ","\nYou will be prompted to sign two or three transactions with your\nMetaMask wallet. These are:"]})}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)("code",{children:"config_hash"}),". This is a hashed representation of\nthe details of this cluster, to ensure everyone is agreeing to\nan identical setup."]})}),(0,s.jsx)("li",{children:(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)("code",{children:"operator_config_hash"}),". This is your acceptance\nof the terms and conditions of participating as a node operator."]})}),(0,s.jsx)("li",{children:(0,s.jsxs)(n.p,{children:["Your ",(0,s.jsx)("code",{children:"ENR"}),". Signing your ENR authorises the\ncorresponding private key to act on your behalf in the cluster."]})})]}),(0,s.jsxs)("li",{children:[(0,s.jsx)(n.p,{children:"Share your cluster invite link with the operators. Following the\nlink will show you a screen waiting for other operators to accept\nthe configuration you created."}),(0,s.jsx)("img",{src:"/img/Guide04.png",alt:"Invite Operators"})]}),(0,s.jsx)("li",{children:(0,s.jsx)(n.p,{children:"You can use the link to monitor how many of the operators have\nalready signed their approval of the cluster configuration and\nsubmitted their ENR."})})]})]})]}),(0,s.jsx)(o.A,{value:"CLI",label:"CDVN",children:(0,s.jsxs)("p",{children:[(0,s.jsx)(n.p,{children:"You will use the CLI to create the cluster definition file, which you\nwill distribute it to the operators manually."}),(0,s.jsxs)("ol",{children:[(0,s.jsx)("li",{children:(0,s.jsxs)(n.p,{children:["The leader or creator of the cluster will prepare the\n",(0,s.jsx)("code",{children:"cluster-definition.json"})," file for the Distributed Key Generation\nceremony using the ",(0,s.jsx)("code",{children:"charon create dkg"})," command."]})}),(0,s.jsx)("li",{children:(0,s.jsxs)(n.p,{children:["Populate the ",(0,s.jsx)("code",{children:"charon create dkg"})," command with the\nappropriate flags including the ",(0,s.jsx)("code",{children:"name"}),", the"," ","\n",(0,s.jsx)("code",{children:"num-validators"}),", the"," ","\n",(0,s.jsx)("code",{children:"fee-recipient-addresses"}),", the"," ","\n",(0,s.jsx)("code",{children:"withdrawal-addresses"}),", and the"," ","\n",(0,s.jsx)("code",{children:"operator-enrs"})," of all the operators participating in\nthe cluster."]})}),(0,s.jsxs)("li",{children:[(0,s.jsxs)(n.p,{children:["Run the ",(0,s.jsx)("code",{children:"charon create dkg"})," command that generates DKG\ncluster-definition.json file."]}),(0,s.jsx)("pre",{children:(0,s.jsxs)(n.p,{children:['docker run --rm -v "$(pwd):/opt/charon" obolnetwork/charon',":v1",".1.2 create dkg ","\n",'\n--name="Quickstart" ',"\n","\n--num-validators=1 ","\n",'\n--fee-recipient-addresses="0x0000000000000000000000000000000000000000" ',"\n",'\n--withdrawal-addresses="0x0000000000000000000000000000000000000000" ',"\n",'\n--operator-enrs="enr:-JG4QGQpV4qYe32QFUAbY1UyGNtNcrVMip83cvJRhw1brMslPeyELIz3q6dsZ7GblVaCjL_8FKQhF6Syg-O_kIWztimGAYHY5EvPgmlkgnY0gmlwhH8AAAGJc2VjcDI1NmsxoQKzMe_GFPpSqtnYl-mJr8uZAUtmkqccsAx7ojGmFy-FY4N0Y3CCDhqDdWRwgg4u"']})}),(0,s.jsxs)(n.p,{children:["This command should output a file at\n",(0,s.jsx)("code",{children:".charon/cluster-definition.json"})," This file needs to be\nshared with the other operators in a cluster."]}),(0,s.jsx)("ul",{children:(0,s.jsx)("li",{children:(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)("code",{children:".charon"})," folder is hidden by default. To view\nit, run ",(0,s.jsx)("code",{children:"ls -al .charon"})," in your terminal. Else, if\nyou are on ",(0,s.jsx)("code",{children:"macOS"}),", press"," ","\n",(0,s.jsx)("code",{children:"Cmd + Shift + ."})," to view all hidden files in the\nFinder application."]})})})]})]})]})})]})]}),(0,s.jsxs)(o.A,{value:"Operator",label:"Operator",children:[(0,s.jsxs)(n.p,{children:[(0,s.jsx)("h2",{children:"Join the cluster prepared by the creator"}),"\nUse the Launchpad or CLI to join the cluster configuration generated by the creator:"]}),(0,s.jsxs)(a.A,{groupId:"Launchpad-other",children:[(0,s.jsxs)(o.A,{value:"Launchpad",label:"Launchpad",default:!0,children:[(0,s.jsx)(n.p,{children:"Your cluster creator needs to configure the cluster, and send you\nan invite URL link to join the cluster on the Launchpad. Once you've\nreceived the Launchpad invite link, you can begin the cluster acceptance process."}),(0,s.jsx)("p",{align:"center",children:(0,s.jsx)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/6pXASqjAQbs",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0})}),(0,s.jsxs)("ol",{children:[(0,s.jsx)("li",{children:"Click on the DV launchpad link provided by the leader or creator. Make sure you recognise the domain and the person sending you the link, to ensure you are not being phished."}),(0,s.jsxs)("li",{children:["Connect your wallet using the Ethereum address provided to the leader. ",(0,s.jsx)("img",{src:"/img/Guide05.png",alt:"Connect Wallet"})]}),(0,s.jsxs)("li",{children:["Review the operators addresses\nsubmitted and click ",(0,s.jsx)("code",{children:"Get Started"})," to continue. ",(0,s.jsx)("img",{src:"/img/Guide06.png",alt:"Get Started"})]}),(0,s.jsx)("li",{children:"Review and accept the DV Launchpad terms & conditions and advisories. "}),(0,s.jsxs)("li",{children:["Review the cluster configuration set by the creator and add your\n",(0,s.jsx)("code",{children:"ENR"})," that you generated in ",(0,s.jsx)("a",{href:"#step-1-generate-an-enr",children:"step 1"}),".",(0,s.jsx)("img",{src:"/img/Guide07.png",alt:"Review Config"})]}),(0,s.jsx)("li",{children:(0,s.jsxs)(n.p,{children:["Sign the two transactions with your wallet, these are:\n",(0,s.jsx)("ul",{children:"The config hash.\nThis is a hashed representation of all of the details for this cluster."}),"\n",(0,s.jsxs)("ul",{children:["Your own ",(0,s.jsx)("code",{children:"ENR"})," This signature authorises the key represented by\nthis ENR to act on your behalf in the cluster."]})]})}),(0,s.jsx)("li",{children:"Wait for all the other\noperators in your cluster to also finish these steps."})]})]}),(0,s.jsx)(o.A,{value:"CLI",label:"CDVN",children:(0,s.jsxs)(n.p,{children:["You'll receive the ",(0,s.jsx)("code",{children:"cluster-definition.json"})," file created by\nthe leader/creator. You should save it in the ",(0,s.jsx)("code",{children:".charon/"})," ","\nfolder that was created initially. (Alternatively, you can use the"," ","\n",(0,s.jsx)("code",{children:"--definition-file"}),"\nflag to override the default expected location for this file.)"]})})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"Once every participating operator is ready, the next step is the distributed key generation amongst the operators."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"If you are not planning on operating a node, and were only configuring the cluster for the operators, your journey ends here. Well done!"}),"\n",(0,s.jsx)(n.li,{children:"If you are one of the cluster operators, continue to the next step."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"step-3-run-the-distributed-key-generation-dkg-ceremony",children:"Step 3: Run the Distributed Key Generation (DKG) ceremony"}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsxs)(n.p,{children:["For the ",(0,s.jsx)(n.a,{href:"/next/learn/charon/dkg",children:"DKG"})," to complete, all operators need to be running the command simultaneously. It helps if operators can agree on a certain time or schedule a video call for them to all run the command together."]})}),"\n",(0,s.jsxs)(a.A,{groupId:"Launchpad-other",children:[(0,s.jsxs)(o.A,{value:"Launchpad",label:"Launchpad",default:!0,children:[(0,s.jsx)("p",{align:"center",children:(0,s.jsx)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/cEMhxHuNJrI",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0})}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Once all operators successfully signed, your screen will automatically advance to the next step and look like this. Click ",(0,s.jsx)(n.code,{children:"Continue"}),". (If you closed the tab, you can always go back to the invite link shared by the leader and connect your wallet.)\n",(0,s.jsx)(n.img,{alt:"Config Signing Success",src:t(98009).A+"",width:"2864",height:"2164"})]}),"\n",(0,s.jsxs)(n.li,{children:["Copy and run the ",(0,s.jsx)(n.code,{children:"docker"})," command on the screen into your terminal. It will retrieve the remote cluster details and begin the DKG process.\n",(0,s.jsx)(n.img,{alt:"Run the DKG",src:t(32646).A+"",width:"1897",height:"1388"})]}),"\n",(0,s.jsxs)(n.li,{children:["Assuming the DKG is successful, a number of artefacts will be created in the ",(0,s.jsx)(n.code,{children:".charon"})," folder of the node. These include:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["A ",(0,s.jsx)(n.code,{children:"deposit-data.json"})," file. This contains the information needed to activate the validator on the Ethereum network."]}),"\n",(0,s.jsxs)(n.li,{children:["A ",(0,s.jsx)(n.code,{children:"cluster-lock.json"})," file. This contains the information needed by Charon to operate the distributed validator cluster with its peers."]}),"\n",(0,s.jsxs)(n.li,{children:["A ",(0,s.jsx)(n.code,{children:"validator_keys/"})," folder. This folder contains the private key shares and passwords for the created distributed validators."]}),"\n"]}),"\n"]}),"\n"]})]}),(0,s.jsx)(o.A,{value:"CLI",label:"CDVN",children:(0,s.jsxs)(n.p,{children:["Once the creator gives you the ",(0,s.jsx)("code",{children:"cluster-definition.json"})," file and you place it in a ",(0,s.jsx)("code",{children:".charon"})," subdirectory, run: ",(0,s.jsxs)("pre",{children:['docker run --rm -v "$(pwd):/opt/charon" obolnetwork/charon',":v1",".1.2 dkg --publish"]})," and the DKG process should begin."]})}),(0,s.jsxs)(o.A,{value:"DappnodeTab",label:"Dappnode",children:[(0,s.jsxs)(n.p,{children:["Follow this step if you are signing through the DV Launchpad, importing the cluster definition URL into the DappNode package's config & then running the DKG inside the DappNode, followed by cluster run.",(0,s.jsx)("br",{})]}),(0,s.jsx)("img",{src:"/img/StartDKG.png",alt:"Start DKG"}),(0,s.jsxs)("ol",{children:[(0,s.jsxs)("li",{children:[(0,s.jsx)(n.p,{children:"After all operators have signed with their wallet and has provided an ENR from the DappNode info tab, the Launchpad will instruct operators to begin the DKG ceremony. Click continue & navigate to the 'Dappnode/Avado' tab where the cluster definition URL is presented."}),(0,s.jsx)("img",{src:"/img/DappnodeTab.png",alt:"Dappnode Tab"})]}),(0,s.jsxs)("li",{children:[(0,s.jsxs)(n.p,{children:["To run the Distributed Key Generation ceremony using a DappNode, you must paste the cluster definition URL into the Obol Package interface. Go to the 'Config' tab, select 'URL' from the dropdown menu, paste the cluster definition URL you retrieved from the launchpad, into the validator ",(0,s.jsx)(n.code,{children:"cluster-*"}),"field which matches the cluster you took the ENR from. Example: If you picked ENR1 for signing, then you should paste the URL into Cluster-1. Finally, click the 'Update' button at the bottom of the page."]}),(0,s.jsx)("img",{src:"/img/CopyURL.png",alt:"Copy URL"}),(0,s.jsx)("img",{src:"/img/PasteURL.png",alt:"Paste URL"}),(0,s.jsx)("img",{src:"/img/SelectURL.png",alt:"Select URL from dropdown"})]}),(0,s.jsxs)("li",{children:[(0,s.jsx)(n.p,{children:"After DappNode records the cluster definition URL, go back to the 'Info' tab and restart the Charon container."}),(0,s.jsx)("img",{src:"/img/RestartContainer.png",alt:"Restart Charon validator container"})]}),(0,s.jsxs)("li",{children:[(0,s.jsxs)(n.p,{children:["The node is now ready and will attempt to complete the DKG. You can monitor the DKG progress via the 'Logs' tab of the package. Once all clients in the cluster can establish a connection with one another and they each complete a handshake (confirm everyone has a matching ",(0,s.jsx)("code",{children:"cluster_definition_hash"}),"), the key generation ceremony begins."]}),(0,s.jsx)("img",{src:"/img/ConnectPeers.png",alt:"Connect to peers in logs tab"})]}),(0,s.jsxs)("li",{children:[(0,s.jsx)(n.p,{children:"Example of DKG ceremony competed log."}),(0,s.jsx)("img",{src:"/img/DKGExample.png",alt:"Connect to peers in logs tab"})]})]}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)("h2",{children:"Create a DV Node Backup"}),"\nIt is important to back up all artefacts generated by the DKG ceremony, and your node ENR private key. The below steps will show you how to download your keys & node artefacts."]}),(0,s.jsxs)("ol",{children:[(0,s.jsxs)("li",{children:[(0,s.jsx)(n.p,{children:"Navigate to the backup tab inside the Obol package."}),(0,s.jsx)("img",{src:"/img/createBackup.png",alt:"Backup Tab"})]}),(0,s.jsxs)("li",{children:[(0,s.jsx)(n.p,{children:"Click on the 'Backup now' button and it will open a new chrome window with a 'file save' option. Select the path where you want to save the Backup tar file."}),(0,s.jsx)("img",{src:"/img/saveBackup.png",alt:"Save Backup"})]}),(0,s.jsxs)("li",{children:[(0,s.jsx)(n.p,{children:"Double click to extract the tar file. There will be folders for each charon node (max 5). Navigate to each node folder, and all artefacts related to each node will be present."}),(0,s.jsx)("img",{src:"/img/ExtractFile.png",alt:"Extract File"}),(0,s.jsx)("img",{src:"/img/Node.png",alt:"artefacts"})]})]})]}),(0,s.jsx)(o.A,{value:"Sedge",label:"Sedge",children:(0,s.jsxs)(n.p,{children:["Sedge does not currently support taking part in a DKG. Follow the instructions for ",(0,s.jsx)(n.strong,{children:"Launchpad"})," to take part in the DKG with Charon, and in Step 4 you will import these keys into Sedge."]})})]}),"\n",(0,s.jsx)(n.admonition,{type:"danger",children:(0,s.jsxs)(n.p,{children:["Please make sure to create a backup of your ",(0,s.jsx)(n.code,{children:".charon/"})," folder. ",(0,s.jsx)(n.strong,{children:"If you lose your private keys you won't be able to start the DV cluster successfully and may risk your validator deposit becoming unrecoverable."})," Ensure every operator has their ",(0,s.jsx)(n.code,{children:".charon"})," folder securely and privately backed up before activating any validators."]})}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"cluster-lock"})," and ",(0,s.jsx)(n.code,{children:"deposit-data"})," files are identical for each operator, if lost, they can be copied from one operator to another."]})}),"\n",(0,s.jsx)(n.p,{children:"Now that the DKG has been completed, all operators can start their nodes."}),"\n",(0,s.jsx)(n.h2,{id:"step-4-start-your-distributed-validator-node",children:"Step 4: Start your Distributed Validator Node"}),"\n",(0,s.jsx)(n.p,{children:"With the DKG ceremony over, the last phase before activation is to prepare your node for validating over the long term."}),"\n",(0,s.jsxs)(a.A,{groupId:"Full-Pre-Existing",children:[(0,s.jsxs)(o.A,{value:"Full Node",label:"Full Node",default:!0,children:[(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)("a",{href:"https://github.com/ObolNetwork/charon-distributed-validator-node",target:"_blank",children:"CDVN repository"})," is configured to sync an execution layer client (",(0,s.jsx)("code",{children:"Nethermind"}),") and a consensus layer client (",(0,s.jsx)("code",{children:"Lighthouse"}),") using Docker Compose, further client combinations can be prepared using Sedge. You can also leverage alternative ways to run a node such as Ansible, Helm, or Kubernetes manifests."]}),(0,s.jsxs)(a.A,{groupId:"Docker-Helm",children:[(0,s.jsxs)(o.A,{value:"Docker",label:"CDVN",default:!0,children:[(0,s.jsxs)(n.admonition,{type:"info",children:[(0,s.jsxs)(n.p,{children:["Currently, the ",(0,s.jsx)(n.a,{href:"https://github.com/ObolNetwork/charon-distributed-validator-node",children:"CDVN repo"})," has defaults for the Holesky testnet and for mainnet."]}),(0,s.jsxs)(n.p,{children:["Start by copying the appropriate ",(0,s.jsx)(n.code,{children:".env.sample.<NETWORK>"})," file to ",(0,s.jsx)(n.code,{children:".env"}),", and modifying values as needed."]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:'# To prepare the node for the Holesky test network\n# Copy ".env.sample.holesky", renaming it ".env"\ncp .env.sample.holesky .env\n\n\n# To prepare the node for the main Ethereum network\n# Copy ".env.sample.mainnet", renaming it ".env"\ncp .env.sample.mainnet .env\n\n\nIn the same folder where you created your ENR in Step 1, and ran the DKG in Step 3, start your node in the DV cluster with docker compose.\n\n```shell\n\n# To be run from the ./charon-distributed-validator-node folder\n# Spin up a Distributed Validator Node with a Validator Client\ndocker compose up -d\n'})}),(0,s.jsx)(n.admonition,{type:"warning",children:(0,s.jsx)(n.p,{children:"Do not start this node until the DKG is complete, as the charon container will interfere with the charon instance attempting to take part in the DKG ceremony."})})]}),(0,s.jsx)(n.p,{children:"If at any point you need to turn off your node, you can run:"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"# Shut down the currently running Distributed Validator Node\ndocker compose down\n"})}),(0,s.jsx)(n.p,{children:"You should use the Grafana dashboard that accompanies the quickstart repo to see whether your cluster is healthy."}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"# Open Grafana dashboard\nopen http://localhost:3000/d/d6qujIJVk/\n"})}),(0,s.jsx)(n.p,{children:"In particular you should check:"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"That your Charon client can connect to the configured beacon client."}),"\n",(0,s.jsx)(n.li,{children:"That your Charon client can connect to all peers directly."}),"\n",(0,s.jsx)(n.li,{children:"That your validator client is connected to Charon, and has the private keys it needs loaded and accessible.\nMost components in the dashboard have some help text there to assist you in understanding your cluster performance.\nYou might notice that there are logs indicating that a validator cannot be found and that APIs are returning 404. This is to be expected at this point, as the validator public keys listed in the lock file have not been deposited and acknowledged on the consensus layer yet (usually it takes ~16 hours after the deposit is made)."}),"\n"]})]}),(0,s.jsxs)(o.A,{value:"Sedge",label:"Sedge",children:[(0,s.jsxs)(n.p,{children:["To prepare a Distributed Validator node using sedge, we will use the ",(0,s.jsx)(n.code,{children:"sedge generate"})," command to prepare a docker-compose file of our preferred clients, ",(0,s.jsx)(n.code,{children:"sedge import-key"})," to import the artifacts created during the DKG ceremony, and ",(0,s.jsx)(n.code,{children:"sedge run"})," to begin running the node."]}),(0,s.jsx)(n.h4,{id:"sedge-generate",children:"Sedge generate"}),(0,s.jsxs)(n.p,{children:["With Sedge installed, and the DKG complete, it\u2019s time to deploy a Distributed Validator. Using the ",(0,s.jsx)(n.code,{children:"sedge generate"})," command and its subcommands, Sedge will create a Docker Compose file needed to run the validator node."]}),(0,s.jsx)("p",{children:(0,s.jsxs)("ol",{children:[(0,s.jsxs)("li",{children:[(0,s.jsxs)(n.p,{children:["The following command generates the artifacts required to deploy a distributed validator on the Holesky network, using Teku as the validator client, Prysm as the consensus client, and Geth as the execution client. For additional supported client combinations, ",(0,s.jsx)("a",{href:"https://github.com/NethermindEth/sedge?tab=readme-ov-file#supported-networks-and-clients",target:"_blank",children:"refer to the documentation here"}),"."]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"sedge generate full-node --validator=teku --consensus=prysm --execution=geth --network=holesky --distributed\n"})}),(0,s.jsx)(n.p,{children:"You should be shown a long list of configuration outputs with the following endings:"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"2024-09-20 12:56:15 -- [INFO] Generation of files successfully, happy staking! You can use now 'sedge run' to start the setup.\n"})})]}),(0,s.jsxs)("li",{children:[(0,s.jsx)(n.p,{children:"Explore the config files."}),(0,s.jsxs)(n.p,{children:["You should now see a ",(0,s.jsx)(n.code,{children:"sedge-data"})," directory created in the folder where you ran the ",(0,s.jsx)(n.code,{children:"sedge generate"})," command.\nTo view the directory contents, use the ",(0,s.jsx)(n.code,{children:"ls"})," command."]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"ls sedge-data\n> docker-compose.yml jwtsecret\n"})})]})]})}),(0,s.jsx)(n.h4,{id:"sedge-import-key",children:"Sedge Import-key"}),(0,s.jsxs)(n.p,{children:["Use the following command to import keys from the directory where the ",(0,s.jsx)(n.code,{children:".charon"})," dir is located."]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"sedge import-key --from ./ holesky teku\n"})}),(0,s.jsx)(n.h4,{id:"sedge-run",children:"Sedge Run"}),(0,s.jsxs)(n.p,{children:["After confirming the configurations and ensuring all files are in place, use the ",(0,s.jsx)(n.code,{children:"sedge run"})," command to deploy the DV docker containers. Sedge will then begin pulling all the required Docker images."]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"> sedge run\n2024-09-20 13:11:49 -- [INFO] [Logger Init] Log level: info\n2024-09-20 13:11:49 -- [WARN] A new Version of sedge is available. Please update to the latest Version. See https://github.com/NethermindEth/sedge/releases for more information. Latest detected tag: fatal: not a git repository (or any of the parent directories): .git\n2024-09-20 13:11:50 -- [INFO] Setting up containers\n2024-09-20 13:11:50 -- [INFO] Running command: docker compose -f /sedge/sedge-data/docker-compose.yml build\n2024-09-20 13:11:50 -- [INFO] Running command: docker compose -f /sedge-data/docker-compose.yml pull\n[+] Pulling 16/44\n \u2807 consensus [\u28c0\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800\u2800] Pulling                                                                                                                                                     20.8s\n   \u2819 b003b463d750 Downloading [===============>                                   ]   32.9kB/103.7kB                                                                                                14.2s\n   \u2819 fe5ca62666f0 Waiting                                                                                                                                                                           14.2s\n   \u2819 b02a7525f878 Waiting                                                                                                                                                                           14.2s\n   \u2819 fcb6f6d2c998 Waiting                                                                                                                                                                           14.2s\n   \u2819 e8c73c638ae9 Waiting                                                                                                                                                                           14.2s\n   \u2819 1e3d9b7d1452 Waiting                                                                                                                                                                           14.2s\n   \u2819 4aa0ea1413d3 Waiting                                                                                                                                                                           14.2s\n   \u2819 7c881f9ab25e Waiting                                                                                                                                                                           14.2s\n   \u2819 5627a970d25e Waiting                                                                                                                                                                           14.2s\n   \u2819 5cf83054c259 Waiting                                                                                                                                                                           14.2s\n   \u2819 fec68abcb14d Waiting                                                                                                                                                                           14.2s\n   \u2819 4d5ad547ce94 Waiting                                                                                                                                                                           14.2s\n   \u2819 e1ea80853e89 Waiting                                                                                                                                                                           14.2s\n   \u2819 17b1d7e8d99a Waiting                                                                                                                                                                           14.2s\n   \u2819 841a2fc14521 Waiting                                                                                                                                                                           14.2s\n   \u2819 55b44d28dd62 Waiting                                                                                                                                                                           14.2s\n   \u2819 f3e3115c6547 Pulling fs layer                                                                                                                                                                  14.2s\n   \u2819 3cec53649029 Waiting                                                                                                                                                                           14.2s\n   \u2819 01739568079a Waiting                                                                                                                                                                           14.2s\n   \u2819 c6bd24b188db Waiting                                                                                                                                                                           14.2s\n   \u2819 fe8d2e9c9467 Waiting                                                                                                                                                                           14.2s\n   \u2819 c151008cbec0 Waiting                                                                                                                                                                           14.2s\n   \u2819 de1ef6c90686 Waiting                                                                                                                                                                           14.2s\n   \u2819 03d09d97b125 Waiting                                                                                                                                                                           14.2s\n \u2714 execution Pulled                                                                                                                                                                                  9.3s\n   \u2714 a258b2a6b59a Pull complete                                                                                                                                                                      1.5s\n   \u2714 a2d6cf6afda3 Pull complete                                                                                                                                                                      1.7s\n   \u2714 a3dd8256fc41 Pull complete                                                                                                                                                                      6.9s\n"})}),(0,s.jsx)(n.p,{children:"Once all docker images are pulled, sedge will create & start the containers to run all the required clients. See below for example output of the progress."}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"\u2714 8db8b5d461a7 Pull complete                                                                                                                                                                     24.1s\n   \u2714 2288b86b1d5f Pull complete                                                                                                                                                                     24.3s\n   \u2714 4becb7b9a44b Pull complete                                                                                                                                                                     24.3s\n   \u2714 4f4fb700ef54 Pull complete                                                                                                                                                                     24.3s\n   \u2714 5c35e3728c84 Pull complete                                                                                                                                                                     35.1s\n2024-09-20 13:12:45 -- [INFO] Running command: docker compose -f /sedge-data/docker-compose.yml create\n[+] Creating 7/7\n \u2714 Network sedge-network              Created                                                                                                                                                        0.1s\n \u2714 Container sedge-dv-client          Created                                                                                                                                                        0.4s\n \u2714 Container sedge-consensus-client   Created                                                                                                                                                        0.4s\n \u2714 Container sedge-execution-client   Created                                                                                                                                                        0.4s\n \u2714 Container sedge-mev-boost          Created                                                                                                                                                        0.4s\n \u2714 Container sedge-validator-blocker  Created                                                                                                                                                        0.4s\n \u2714 Container sedge-validator-client   Created                                                                                                                                                        0.1s\n2024-09-20 13:12:45 -- [INFO] Running command: docker compose -f /sedge-data/docker-compose.yml up -d\n[+] Running 4/5\n \u2714 Container sedge-consensus-client   Started                                                                                                                                                        1.0s\n \u2827 Container sedge-validator-blocker  Waiting                                                                                                                                                      130.8s\n \u2714 Container sedge-dv-client          Started                                                                                                                                                        1.0s\n \u2714 Container sedge-execution-client   Started                                                                                                                                                        1.3s\n \u2714 Container sedge-mev-boost          Started      \n"})}),(0,s.jsx)(n.p,{children:"Given time, the execution and consensus clients should complete syncing, and if a Distributed Validator has already been activated, the node should begin to validate."}),(0,s.jsxs)(n.p,{children:["If you encounter issues with using Sedge as part of a DV cluster, consider consulting the ",(0,s.jsx)(n.a,{href:"https://docs.sedge.nethermind.io/",children:"Sedge docs"})," directly, or opening an ",(0,s.jsx)(n.a,{href:"https://github.com/NethermindEth/sedge/issues",children:"issue"})," or ",(0,s.jsx)(n.a,{href:"https://github.com/NethermindEth/sedge/pulls",children:"pull request"})," if appropriate."]})]}),(0,s.jsx)(o.A,{value:"Ansible",label:"Ansible",children:(0,s.jsxs)(n.p,{children:["Use an ansible playbook to start your node. ",(0,s.jsx)("a",{href:"https://github.com/ObolNetwork/obol-ansible",target:"_blank",children:"See the repo here"})," for further instructions."]})}),(0,s.jsx)(o.A,{value:"Helm",label:"Helm",children:(0,s.jsxs)(n.p,{children:["Use a Helm to start your node. ",(0,s.jsx)("a",{href:"https://github.com/ObolNetwork/helm-charts",target:"_blank",children:"See the repo here"})," for further instructions."]})}),(0,s.jsx)(o.A,{value:"Kubernetes",label:"Kubernetes",children:(0,s.jsxs)(n.p,{children:["Use Kubernetes manifests to start your Charon client and validator client. These manifests expect an existing Beacon Node Endpoint to connect to. ",(0,s.jsx)("a",{href:"https://github.com/ObolNetwork/charon-k8s-distributed-validator-node",target:"_blank",children:"See the repo here"})," for further instructions."]})})]})]}),(0,s.jsxs)(o.A,{value:"Existing Beacon Node",label:"Existing Beacon Node",children:[(0,s.jsx)(n.admonition,{type:"warning",children:(0,s.jsx)(n.p,{children:"Using a remote beacon node will impact the performance of your Distributed Validator and should be used sparingly."})}),(0,s.jsxs)(n.p,{children:["If you already have a beacon node running somewhere and you want to use that instead of running an EL (",(0,s.jsx)(n.code,{children:"nethermind"}),") & CL (",(0,s.jsx)(n.code,{children:"lighthouse"}),") as part of the example repo, you can disable these images. To do so, follow these steps:"]}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Copy the ",(0,s.jsx)(n.code,{children:"docker-compose.override.yml.sample"})," file"]}),"\n"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"cp -n docker-compose.override.yml.sample docker-compose.override.yml\n"})}),(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsxs)(n.li,{children:["Uncomment the ",(0,s.jsx)(n.code,{children:"profiles: [disable]"})," section for both ",(0,s.jsx)(n.code,{children:"nethermind"})," and ",(0,s.jsx)(n.code,{children:"lighthouse"}),". The override file should now look like this"]}),"\n"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-docker",children:"services:\n  nethermind:\n    # Disable nethermind\n    profiles: [disable]\n    # Bind nethermind internal ports to host ports\n    #ports:\n      #- 8545:8545 # JSON-RPC\n      #- 8551:8551 # AUTH-RPC\n      #- 6060:6060 # Metrics\n  lighthouse:\n    # Disable lighthouse\n    profiles: [disable]\n    # Bind lighthouse internal ports to host ports\n    #ports:\n      #- 5052:5052 # HTTP\n      #- 5054:5054 # Metrics\n...\n"})}),(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsxs)(n.li,{children:["Then, uncomment and set the ",(0,s.jsx)(n.code,{children:"CHARON_BEACON_NODE_ENDPOINTS"})," variable in the ",(0,s.jsx)(n.code,{children:".env"})," file to your beacon node's URL"]}),"\n"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"...\n# Connect to one or more external beacon nodes. Use a comma separated list excluding spaces.\nCHARON_BEACON_NODE_ENDPOINTS=<YOUR_REMOTE_BEACON_NODE_URL>\n...\n"})}),(0,s.jsxs)(n.ol,{start:"4",children:["\n",(0,s.jsx)(n.li,{children:"Restart your docker compose"}),"\n"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"docker compose down\ndocker compose up -d\n"})})]})]}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsxs)(n.p,{children:["In a Distributed Validator Cluster, it is important to have a low latency connection to your peers. Charon clients will use the NAT protocol to attempt to establish a direct connection to one another automatically. If this doesn't happen, you should port forward Charon's p2p port to the public internet to facilitate direct connections. The default port to expose is ",(0,s.jsx)(n.code,{children:":3610"}),". Read more about Charon's networking ",(0,s.jsx)(n.a,{href:"/next/learn/charon/networking",children:"here"}),"."]})}),"\n",(0,s.jsxs)(n.p,{children:["If you have gotten to this stage, every node is up, synced and connected, congratulations. You can now move forward to ",(0,s.jsx)(n.a,{href:"/next/run/running/activate-dv",children:"activating your validator"})," to begin staking."]})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},7227:(e,n,t)=>{t.d(n,{A:()=>a});t(96540);var r=t(34164);const s={tabItem:"tabItem_Ymn6"};var i=t(74848);function a(e){let{children:n,hidden:t,className:a}=e;return(0,i.jsx)("div",{role:"tabpanel",className:(0,r.A)(s.tabItem,a),hidden:t,children:n})}},49489:(e,n,t)=>{t.d(n,{A:()=>v});var r=t(96540),s=t(34164),i=t(24245),a=t(56347),o=t(36494),l=t(62814),c=t(45167),d=t(69900);function h(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:n,children:t}=e;return(0,r.useMemo)((()=>{const e=n??function(e){return h(e).map((e=>{let{props:{value:n,label:t,attributes:r,default:s}}=e;return{value:n,label:t,attributes:r,default:s}}))}(t);return function(e){const n=(0,c.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function p(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function g(e){let{queryString:n=!1,groupId:t}=e;const s=(0,a.W6)(),i=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,l.aZ)(i),(0,r.useCallback)((e=>{if(!i)return;const n=new URLSearchParams(s.location.search);n.set(i,e),s.replace({...s.location,search:n.toString()})}),[i,s])]}function m(e){const{defaultValue:n,queryString:t=!1,groupId:s}=e,i=u(e),[a,l]=(0,r.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!p({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const r=t.find((e=>e.default))??t[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:i}))),[c,h]=g({queryString:t,groupId:s}),[m,x]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[s,i]=(0,d.Dv)(t);return[s,(0,r.useCallback)((e=>{t&&i.set(e)}),[t,i])]}({groupId:s}),j=(()=>{const e=c??m;return p({value:e,tabValues:i})?e:null})();(0,o.A)((()=>{j&&l(j)}),[j]);return{selectedValue:a,selectValue:(0,r.useCallback)((e=>{if(!p({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);l(e),h(e),x(e)}),[h,x,i]),tabValues:i}}var x=t(11062);const j={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var f=t(74848);function b(e){let{className:n,block:t,selectedValue:r,selectValue:a,tabValues:o}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,i.a_)(),d=e=>{const n=e.currentTarget,t=l.indexOf(n),s=o[t].value;s!==r&&(c(n),a(s))},h=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const t=l.indexOf(e.currentTarget)+1;n=l[t]??l[0];break}case"ArrowLeft":{const t=l.indexOf(e.currentTarget)-1;n=l[t]??l[l.length-1];break}}n?.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":t},n),children:o.map((e=>{let{value:n,label:t,attributes:i}=e;return(0,f.jsx)("li",{role:"tab",tabIndex:r===n?0:-1,"aria-selected":r===n,ref:e=>l.push(e),onKeyDown:h,onClick:d,...i,className:(0,s.A)("tabs__item",j.tabItem,i?.className,{"tabs__item--active":r===n}),children:t??n},n)}))})}function y(e){let{lazy:n,children:t,selectedValue:i}=e;const a=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=a.find((e=>e.props.value===i));return e?(0,r.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:a.map(((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==i})))})}function k(e){const n=m(e);return(0,f.jsxs)("div",{className:(0,s.A)("tabs-container",j.tabList),children:[(0,f.jsx)(b,{...n,...e}),(0,f.jsx)(y,{...n,...e})]})}function v(e){const n=(0,x.A)();return(0,f.jsx)(k,{...e,children:h(e.children)},String(n))}},98009:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/Guide08-46621accb14c6c81d266bc55adb43621.png"},32646:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/Guide10-66d7c37171ee24ff1b6f7118308c6a29.png"},28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>o});var r=t(96540);const s={},i=r.createContext(s);function a(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);