"use strict";(self.webpackChunkobol_docs=self.webpackChunkobol_docs||[]).push([[40133],{26968:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>o,contentTitle:()=>i,default:()=>f,frontMatter:()=>r,metadata:()=>n,toc:()=>h});const n=JSON.parse('{"id":"run/prepare/test-command","title":"Test a Cluster","description":"Test the performance of a candidate Distributed Validator Cluster setup.","source":"@site/docs/run/prepare/test-command.mdx","sourceDirName":"run/prepare","slug":"/run/prepare/test-command","permalink":"/next/run/prepare/test-command","draft":false,"unlisted":false,"editUrl":"https://github.com/ObolNetwork/obol-docs/edit/main/docs/run/prepare/test-command.mdx","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"description":"Test the performance of a candidate Distributed Validator Cluster setup."},"sidebar":"tutorialSidebar","previous":{"title":"Deployment Best Practices","permalink":"/next/run/prepare/deployment-best-practices"},"next":{"title":"Activate a DV","permalink":"/next/run/running/activate-dv"}}');var s=t(74848),d=t(28453),c=t(49489),l=t(7227);const r={sidebar_position:3,description:"Test the performance of a candidate Distributed Validator Cluster setup."},i="Test a Cluster",o={},h=[];function b(e){const a={a:"a",code:"code",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,d.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.header,{children:(0,s.jsx)(a.h1,{id:"test-a-cluster",children:"Test a Cluster"})}),"\n",(0,s.jsxs)(a.p,{children:["Charon test commands are designed to help you evaluate the performance and readiness of your candidate cluster. It allows you to test your connection to other Charon peers, the performance of your beacon node(s), the readiness of your validator client, the performance of the MEV relays you will be using and the infrastructure on which you will run the cluster. It prints a performance report to the standard output (which can be omitted with the ",(0,s.jsx)(a.code,{children:"--quiet"})," flag) and a machine-readable JSON format of the report if the ",(0,s.jsx)(a.code,{children:"--output-json"})," flag is set."]}),"\n",(0,s.jsxs)(c.A,{groupId:"run-test",children:[(0,s.jsxs)(l.A,{value:"Executable",label:"Executable",default:!0,children:[(0,s.jsxs)(a.p,{children:[(0,s.jsx)("h2",{children:"Test all"}),"\nIntended for running tests across all categories. Each flag should have a prefix for its category (i.e.: the flag ",(0,s.jsx)(a.code,{children:"--endpoints"})," from the beacon tests becomes ",(0,s.jsx)(a.code,{children:"--beacon-endpoints"}),"). For details about each category refer to their respective sections."]}),(0,s.jsxs)(c.A,{groupId:"load-test",children:[(0,s.jsxs)(l.A,{value:"Regular test",label:"Regular test",default:!0,children:[(0,s.jsx)(a.p,{children:"Regular tests intended for relatively fast run, without putting any major load on any tested system.\nBased on which stage you are with your cluster creation, some steps are easened."}),(0,s.jsxs)(c.A,{groupId:"cluster-creation-stage",children:[(0,s.jsxs)(l.A,{value:"Just starting",label:"Just starting",default:!0,children:[(0,s.jsx)("h3",{children:"Pre-requisites"}),(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.a,{href:"../../learn/charon/charon-cli-reference#creating-an-enr-for-charon",children:"ENR private key"}),"."]}),"\n",(0,s.jsxs)(a.li,{children:["Peers' ENRs, supplied to the ",(0,s.jsx)(a.code,{children:"--peers-enrs"})," flag."]}),"\n",(0,s.jsxs)(a.li,{children:["Running beacon node(s) towards which tests will be executed, supplied to ",(0,s.jsx)(a.code,{children:"--beacon-endpoints"})," flag."]}),"\n",(0,s.jsx)(a.li,{children:"Running validator client towards which tests will be executed."}),"\n",(0,s.jsxs)(a.li,{children:["Running MEV relay(s) towards which tests will be executed, supplied to ",(0,s.jsx)(a.code,{children:"--mev-endpoints"})," flag."]}),"\n"]}),(0,s.jsx)("h3",{children:"Example run"}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:'charon alpha test all \\\n  --peers-enrs="enr:-HW4QMno_MB_ID6GFVxoIQAHHVHZZZjzFctxtX2tm9D95tvaPbHathi8YUP8jh8v2YUAVu2fYWEOB_BT14pt8QgiGg2AgmlkgnY0iXNlY3AyNTZrMaECdpnK83s0dbBwCaEfDIkQ-3nJkkC93STvv6Vmi0bYlzg,enr:-HW4QO2vefLueTBEUGly5hkcpL7NWdMKWx7Nuy9f7z6XZInCbFAc0IZj6bsnmj-Wi4ElS6jNa0Mge5Rkc2WGTVemas2AgmlkgnY0iXNlY3AyNTZrMaECR9SmYQ_1HRgJmNxvh_ER2Sxx78HgKKgKaOkCROYwaDY" \\\n  --beacon-endpoints="https://ethereum-holesky-beacon-api.publicnode.com,https://ethereum-sepolia-beacon-api.publicnode.com" \\\n  --mev-endpoints="https://0xa15b52576bcbf1072f4a011c0f99f9fb6c66f3e1ff321f11f461d15e31b1cb359caa092c71bbded0bae5b5ea401aab7e@aestus.live,https://0xa7ab7a996c8584251c8f925da3170bdfd6ebc75d50f5ddc4050a6fdc77f2a3b5fce2cc750d0865e05d7228af97d69561@agnostic-relay.net,https://0x8b5d2e73e2a3a55c6c87b8b6eb92e0149a125c852751db1422fa951e42a09b82c142c3ea98d0d9930b056a3bc9896b8f@bloxroute.max-profit.blxrbdn.com,https://0xac6e77dfe25ecd6110b8e780608cce0dab71fdd5ebea22a16c0205200f2f8e2e3ad3b71d3499c54ad14d6c21b41a37ae@boost-relay.flashbots.net,https://0xa1559ace749633b997cb3fdacffb890aeebdb0f5a3b6aaa7eeeaf1a38af0a8fe88b9e4b1f61f236d2e64d95733327a62@relay.ultrasound.money,https://0x8c4ed5e24fe5c6ae21018437bde147693f68cda427cd1122cf20819c30eda7ed74f72dece09bb313f2a1855595ab677d@regional.titanrelay.xyz,https://0x8c4ed5e24fe5c6ae21018437bde147693f68cda427cd1122cf20819c30eda7ed74f72dece09bb313f2a1855595ab677d@global.titanrelay.xyz"\n'})})]}),(0,s.jsxs)(l.A,{value:"Completed cluster creation",label:"Completed cluster creation",default:!0,children:[(0,s.jsx)("h3",{children:"Pre-requisites"}),(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:["Cluster definition file, supplied to the ",(0,s.jsx)(a.code,{children:"--peers-definition-file"})," flag."]}),"\n",(0,s.jsxs)(a.li,{children:["Running beacon node(s) towards which tests will be executed, supplied to ",(0,s.jsx)(a.code,{children:"--beacon-endpoints"})," flag."]}),"\n",(0,s.jsx)(a.li,{children:"Running validator client towards which tests will be executed."}),"\n",(0,s.jsxs)(a.li,{children:["Running MEV relay(s) towards which tests will be executed, supplied to ",(0,s.jsx)(a.code,{children:"--mev-endpoints"})," flag."]}),"\n"]}),(0,s.jsx)("h3",{children:"Example run"}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:'charon alpha test all \\\n  --peers-definition-file="./.charon/cluster-definition.json" \\\n  --beacon-endpoints="https://ethereum-holesky-beacon-api.publicnode.com,https://ethereum-sepolia-beacon-api.publicnode.com" \\\n  --mev-endpoints="https://0xa15b52576bcbf1072f4a011c0f99f9fb6c66f3e1ff321f11f461d15e31b1cb359caa092c71bbded0bae5b5ea401aab7e@aestus.live,https://0xa7ab7a996c8584251c8f925da3170bdfd6ebc75d50f5ddc4050a6fdc77f2a3b5fce2cc750d0865e05d7228af97d69561@agnostic-relay.net,https://0x8b5d2e73e2a3a55c6c87b8b6eb92e0149a125c852751db1422fa951e42a09b82c142c3ea98d0d9930b056a3bc9896b8f@bloxroute.max-profit.blxrbdn.com,https://0xac6e77dfe25ecd6110b8e780608cce0dab71fdd5ebea22a16c0205200f2f8e2e3ad3b71d3499c54ad14d6c21b41a37ae@boost-relay.flashbots.net,https://0xa1559ace749633b997cb3fdacffb890aeebdb0f5a3b6aaa7eeeaf1a38af0a8fe88b9e4b1f61f236d2e64d95733327a62@relay.ultrasound.money,https://0x8c4ed5e24fe5c6ae21018437bde147693f68cda427cd1122cf20819c30eda7ed74f72dece09bb313f2a1855595ab677d@regional.titanrelay.xyz,https://0x8c4ed5e24fe5c6ae21018437bde147693f68cda427cd1122cf20819c30eda7ed74f72dece09bb313f2a1855595ab677d@global.titanrelay.xyz"\n'})})]}),(0,s.jsxs)(l.A,{value:"Completed DKG",label:"Completed DKG",default:!0,children:[(0,s.jsx)("h3",{children:"Pre-requisites"}),(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:["Cluster lock file, supplied to the ",(0,s.jsx)(a.code,{children:"--peers-lock-file"})," flag."]}),"\n",(0,s.jsxs)(a.li,{children:["Running beacon node(s) towards which tests will be executed, supplied to ",(0,s.jsx)(a.code,{children:"--beacon-endpoints"})," flag."]}),"\n",(0,s.jsx)(a.li,{children:"Running validator client towards which tests will be executed."}),"\n",(0,s.jsxs)(a.li,{children:["Running MEV relay(s) towards which tests will be executed, supplied to ",(0,s.jsx)(a.code,{children:"--mev-endpoints"})," flag."]}),"\n"]}),(0,s.jsx)("h3",{children:"Example run"}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:'charon alpha test all \\\n  --peers-lock-file="./.charon/cluster-lock.json" \\\n  --beacon-endpoints="https://ethereum-holesky-beacon-api.publicnode.com,https://ethereum-sepolia-beacon-api.publicnode.com" \\\n  --mev-endpoints="https://0xa15b52576bcbf1072f4a011c0f99f9fb6c66f3e1ff321f11f461d15e31b1cb359caa092c71bbded0bae5b5ea401aab7e@aestus.live,https://0xa7ab7a996c8584251c8f925da3170bdfd6ebc75d50f5ddc4050a6fdc77f2a3b5fce2cc750d0865e05d7228af97d69561@agnostic-relay.net,https://0x8b5d2e73e2a3a55c6c87b8b6eb92e0149a125c852751db1422fa951e42a09b82c142c3ea98d0d9930b056a3bc9896b8f@bloxroute.max-profit.blxrbdn.com,https://0xac6e77dfe25ecd6110b8e780608cce0dab71fdd5ebea22a16c0205200f2f8e2e3ad3b71d3499c54ad14d6c21b41a37ae@boost-relay.flashbots.net,https://0xa1559ace749633b997cb3fdacffb890aeebdb0f5a3b6aaa7eeeaf1a38af0a8fe88b9e4b1f61f236d2e64d95733327a62@relay.ultrasound.money,https://0x8c4ed5e24fe5c6ae21018437bde147693f68cda427cd1122cf20819c30eda7ed74f72dece09bb313f2a1855595ab677d@regional.titanrelay.xyz,https://0x8c4ed5e24fe5c6ae21018437bde147693f68cda427cd1122cf20819c30eda7ed74f72dece09bb313f2a1855595ab677d@global.titanrelay.xyz"\n'})})]})]})]}),(0,s.jsxs)(l.A,{value:"Load test",label:"Load test",default:!0,children:[(0,s.jsx)(a.p,{children:"Load tests intended for more time consuming run. Beacon nodes are put under heavy load. MEV relays are required to create real blocks.\nBased on which stage you are with your cluster creation, some steps are easened."}),(0,s.jsxs)(c.A,{groupId:"cluster-creation-stage",children:[(0,s.jsxs)(l.A,{value:"Just starting",label:"Just starting",default:!0,children:[(0,s.jsx)("h3",{children:"Pre-requisites"}),(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.a,{href:"../../learn/charon/charon-cli-reference#creating-an-enr-for-charon",children:"ENR private key"}),"."]}),"\n",(0,s.jsxs)(a.li,{children:["Peers' ENRs, supplied to the ",(0,s.jsx)(a.code,{children:"--peers-enrs"})," flag."]}),"\n",(0,s.jsxs)(a.li,{children:["Running beacon node(s) towards which tests will be executed, supplied to ",(0,s.jsx)(a.code,{children:"--beacon-endpoints"})," flag. It is important that the node is expecting to handle huge load and that it is ",(0,s.jsx)(a.strong,{children:"not"})," a publicly accessible one, which can block you."]}),"\n",(0,s.jsx)(a.li,{children:"Running validator client towards which tests will be executed."}),"\n",(0,s.jsxs)(a.li,{children:["Running MEV relay(s) towards which tests will be executed, supplied to ",(0,s.jsx)(a.code,{children:"--mev-endpoints"})," flag."]}),"\n",(0,s.jsxs)(a.li,{children:["Running beacon node which will be used for fetching data required by the MEV relay for block creation, supplied to ",(0,s.jsx)(a.code,{children:"--mev-beacon-node-endpoint"}),". There is no restrictions on the node and a public one can be used."]}),"\n"]}),(0,s.jsx)("h3",{children:"Example run"}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:'charon alpha test all \\\n  --peers-enrs="enr:-HW4QMno_MB_ID6GFVxoIQAHHVHZZZjzFctxtX2tm9D95tvaPbHathi8YUP8jh8v2YUAVu2fYWEOB_BT14pt8QgiGg2AgmlkgnY0iXNlY3AyNTZrMaECdpnK83s0dbBwCaEfDIkQ-3nJkkC93STvv6Vmi0bYlzg,enr:-HW4QO2vefLueTBEUGly5hkcpL7NWdMKWx7Nuy9f7z6XZInCbFAc0IZj6bsnmj-Wi4ElS6jNa0Mge5Rkc2WGTVemas2AgmlkgnY0iXNlY3AyNTZrMaECR9SmYQ_1HRgJmNxvh_ER2Sxx78HgKKgKaOkCROYwaDY" \\\n  --beacon-endpoints="http://127.0.0.1:5052/" \\\n  --beacon-load-test \\\n  --mev-endpoints="https://0xa15b52576bcbf1072f4a011c0f99f9fb6c66f3e1ff321f11f461d15e31b1cb359caa092c71bbded0bae5b5ea401aab7e@aestus.live,https://0xa7ab7a996c8584251c8f925da3170bdfd6ebc75d50f5ddc4050a6fdc77f2a3b5fce2cc750d0865e05d7228af97d69561@agnostic-relay.net,https://0x8b5d2e73e2a3a55c6c87b8b6eb92e0149a125c852751db1422fa951e42a09b82c142c3ea98d0d9930b056a3bc9896b8f@bloxroute.max-profit.blxrbdn.com,https://0xac6e77dfe25ecd6110b8e780608cce0dab71fdd5ebea22a16c0205200f2f8e2e3ad3b71d3499c54ad14d6c21b41a37ae@boost-relay.flashbots.net,https://0xa1559ace749633b997cb3fdacffb890aeebdb0f5a3b6aaa7eeeaf1a38af0a8fe88b9e4b1f61f236d2e64d95733327a62@relay.ultrasound.money,https://0x8c4ed5e24fe5c6ae21018437bde147693f68cda427cd1122cf20819c30eda7ed74f72dece09bb313f2a1855595ab677d@regional.titanrelay.xyz,https://0x8c4ed5e24fe5c6ae21018437bde147693f68cda427cd1122cf20819c30eda7ed74f72dece09bb313f2a1855595ab677d@global.titanrelay.xyz" \\\n  --mev-beacon-node-endpoint="https://ethereum-beacon-api.publicnode.com" \\\n  --mev-load-test\n'})})]}),(0,s.jsxs)(l.A,{value:"Completed cluster creation",label:"Completed cluster creation",default:!0,children:[(0,s.jsx)("h3",{children:"Pre-requisites"}),(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:["Cluster definition file, supplied to the ",(0,s.jsx)(a.code,{children:"--peers-definition-file"})," flag."]}),"\n",(0,s.jsxs)(a.li,{children:["Running beacon node(s) towards which tests will be executed, supplied to ",(0,s.jsx)(a.code,{children:"--beacon-endpoints"})," flag. It is important that the node is expecting to handle huge load and that it is ",(0,s.jsx)(a.strong,{children:"not"})," a publicly accessible one, which can block you."]}),"\n",(0,s.jsx)(a.li,{children:"Running validator client towards which tests will be executed."}),"\n",(0,s.jsxs)(a.li,{children:["Running MEV relay(s) towards which tests will be executed, supplied to ",(0,s.jsx)(a.code,{children:"--mev-endpoints"})," flag."]}),"\n",(0,s.jsxs)(a.li,{children:["Running beacon node which will be used for fetching data required by the MEV relay for block creation, supplied to ",(0,s.jsx)(a.code,{children:"--mev-beacon-node-endpoint"}),". There is no restrictions on the node and a public one can be used."]}),"\n"]}),(0,s.jsx)("h3",{children:"Example run"}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:'charon alpha test all \\\n  --peers-definition-file="./.charon/cluster-definition.json" \\\n  --beacon-endpoints="http://127.0.0.1:5052/" \\\n  --beacon-load-test \\\n  --mev-endpoints="https://0xa15b52576bcbf1072f4a011c0f99f9fb6c66f3e1ff321f11f461d15e31b1cb359caa092c71bbded0bae5b5ea401aab7e@aestus.live,https://0xa7ab7a996c8584251c8f925da3170bdfd6ebc75d50f5ddc4050a6fdc77f2a3b5fce2cc750d0865e05d7228af97d69561@agnostic-relay.net,https://0x8b5d2e73e2a3a55c6c87b8b6eb92e0149a125c852751db1422fa951e42a09b82c142c3ea98d0d9930b056a3bc9896b8f@bloxroute.max-profit.blxrbdn.com,https://0xac6e77dfe25ecd6110b8e780608cce0dab71fdd5ebea22a16c0205200f2f8e2e3ad3b71d3499c54ad14d6c21b41a37ae@boost-relay.flashbots.net,https://0xa1559ace749633b997cb3fdacffb890aeebdb0f5a3b6aaa7eeeaf1a38af0a8fe88b9e4b1f61f236d2e64d95733327a62@relay.ultrasound.money,https://0x8c4ed5e24fe5c6ae21018437bde147693f68cda427cd1122cf20819c30eda7ed74f72dece09bb313f2a1855595ab677d@regional.titanrelay.xyz,https://0x8c4ed5e24fe5c6ae21018437bde147693f68cda427cd1122cf20819c30eda7ed74f72dece09bb313f2a1855595ab677d@global.titanrelay.xyz" \\\n  --mev-beacon-node-endpoint="https://ethereum-beacon-api.publicnode.com" \\\n  --mev-load-test\n'})})]}),(0,s.jsxs)(l.A,{value:"Completed DKG",label:"Completed DKG",default:!0,children:[(0,s.jsx)("h3",{children:"Pre-requisites"}),(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:["Cluster lock file, supplied to the ",(0,s.jsx)(a.code,{children:"--peers-lock-file"})," flag."]}),"\n",(0,s.jsxs)(a.li,{children:["Running beacon node(s) towards which tests will be executed, supplied to ",(0,s.jsx)(a.code,{children:"--beacon-endpoints"})," flag. It is important that the node is expecting to handle huge load and that it is ",(0,s.jsx)(a.strong,{children:"not"})," a publicly accessible one, which can block you."]}),"\n",(0,s.jsx)(a.li,{children:"Running validator client towards which tests will be executed."}),"\n",(0,s.jsxs)(a.li,{children:["Running MEV relay(s) towards which tests will be executed, supplied to ",(0,s.jsx)(a.code,{children:"--mev-endpoints"})," flag."]}),"\n",(0,s.jsxs)(a.li,{children:["Running beacon node which will be used for fetching data required by the MEV relay for block creation, supplied to ",(0,s.jsx)(a.code,{children:"--mev-beacon-node-endpoint"}),". There is no restrictions on the node and a public one can be used."]}),"\n"]}),(0,s.jsx)("h3",{children:"Example run"}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:'charon alpha test all \\\n  --peers-lock-file="./.charon/cluster-lock.json" \\\n  --beacon-endpoints="http://127.0.0.1:5052/" \\\n  --beacon-load-test \\\n  --mev-endpoints="https://0xa15b52576bcbf1072f4a011c0f99f9fb6c66f3e1ff321f11f461d15e31b1cb359caa092c71bbded0bae5b5ea401aab7e@aestus.live,https://0xa7ab7a996c8584251c8f925da3170bdfd6ebc75d50f5ddc4050a6fdc77f2a3b5fce2cc750d0865e05d7228af97d69561@agnostic-relay.net,https://0x8b5d2e73e2a3a55c6c87b8b6eb92e0149a125c852751db1422fa951e42a09b82c142c3ea98d0d9930b056a3bc9896b8f@bloxroute.max-profit.blxrbdn.com,https://0xac6e77dfe25ecd6110b8e780608cce0dab71fdd5ebea22a16c0205200f2f8e2e3ad3b71d3499c54ad14d6c21b41a37ae@boost-relay.flashbots.net,https://0xa1559ace749633b997cb3fdacffb890aeebdb0f5a3b6aaa7eeeaf1a38af0a8fe88b9e4b1f61f236d2e64d95733327a62@relay.ultrasound.money,https://0x8c4ed5e24fe5c6ae21018437bde147693f68cda427cd1122cf20819c30eda7ed74f72dece09bb313f2a1855595ab677d@regional.titanrelay.xyz,https://0x8c4ed5e24fe5c6ae21018437bde147693f68cda427cd1122cf20819c30eda7ed74f72dece09bb313f2a1855595ab677d@global.titanrelay.xyz" \\\n  --mev-beacon-node-endpoint="https://ethereum-beacon-api.publicnode.com" \\\n  --mev-load-test\n'})})]})]})]})]}),(0,s.jsx)("h2",{children:"Test connection to peers"}),(0,s.jsxs)(a.p,{children:["Run tests towards other Charon peers to evaluate the effectiveness of a potential cluster setup. The command sets up a libp2p node, similarly to what Charon normally does. This test command ",(0,s.jsx)(a.strong,{children:"has to be run simultaneously with the other peers"}),". After the node is up it waits for other peers to get their nodes up and running, retrying the connection every 3 seconds. The libp2p node connects to relays (configurable with ",(0,s.jsx)(a.code,{children:"p2p-relays"})," flag) and to other libp2p nodes via TCP. Other peer nodes are discoverable by using their ENRs. Note that for a peer to be successfully discovered, it needs to be connected to the same relay. After completion of the test suite the libp2p node stays alive (duration configurable with ",(0,s.jsx)(a.code,{children:"keep-alive"})," flag) for other peers to continue testing against it. The node can be forcefully stopped as well."]}),(0,s.jsx)(a.p,{children:"To be able to establish direct connection, you have to ensure:"}),(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsx)(a.li,{children:"Your machine is publicly accessible on the internet or at least a specific port is."}),"\n",(0,s.jsxs)(a.li,{children:["You add flag ",(0,s.jsx)(a.code,{children:"p2p-tcp-address"})," (i.e.: ",(0,s.jsx)(a.code,{children:"127.0.0.1:9001"}),") flag and the port specified in it is free and publicly accessible."]}),"\n",(0,s.jsxs)(a.li,{children:["You add the flag ",(0,s.jsx)(a.code,{children:"p2p-external-ip"})," (i.e.: ",(0,s.jsx)(a.code,{children:"8.8.8.8"}),") and specify your public IP."]}),"\n"]}),(0,s.jsx)(a.p,{children:"If all points are satisfied by you and the other peers, you should be able to establish a direct TCP connection between each other. Note that a relay is still required, as it is used for peer discovery."}),(0,s.jsx)(a.p,{children:"Based on which stage you are with your cluster creation, some steps are easened."}),(0,s.jsxs)(c.A,{groupId:"cluster-creation-stage",children:[(0,s.jsxs)(l.A,{value:"Just starting",label:"Just starting",default:!0,children:[(0,s.jsx)("h3",{children:"Pre-requisites"}),(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.a,{href:"../../learn/charon/charon-cli-reference#creating-an-enr-for-charon",children:"ENR private key"}),"."]}),"\n",(0,s.jsxs)(a.li,{children:["Peers' ENRs, supplied to the ",(0,s.jsx)(a.code,{children:"--enrs"})," flag."]}),"\n"]}),(0,s.jsx)("h3",{children:"Example run"}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:'charon alpha test peers \\\n  --enrs="enr:-HW4QMno_MB_ID6GFVxoIQAHHVHZZZjzFctxtX2tm9D95tvaPbHathi8YUP8jh8v2YUAVu2fYWEOB_BT14pt8QgiGg2AgmlkgnY0iXNlY3AyNTZrMaECdpnK83s0dbBwCaEfDIkQ-3nJkkC93STvv6Vmi0bYlzg,enr:-HW4QO2vefLueTBEUGly5hkcpL7NWdMKWx7Nuy9f7z6XZInCbFAc0IZj6bsnmj-Wi4ElS6jNa0Mge5Rkc2WGTVemas2AgmlkgnY0iXNlY3AyNTZrMaECR9SmYQ_1HRgJmNxvh_ER2Sxx78HgKKgKaOkCROYwaDY"\n'})})]}),(0,s.jsxs)(l.A,{value:"Completed cluster creation",label:"Completed cluster creation",default:!0,children:[(0,s.jsx)("h3",{children:"Pre-requisites"}),(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:["Cluster definition file, supplied to the ",(0,s.jsx)(a.code,{children:"--definition-file"})," flag."]}),"\n"]}),(0,s.jsx)("h3",{children:"Example run"}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:'charon alpha test peers \\\n  --definition-file="./.charon/cluster-definition.json"\n'})})]}),(0,s.jsxs)(l.A,{value:"Completed DKG",label:"Completed DKG",default:!0,children:[(0,s.jsx)("h3",{children:"Pre-requisites"}),(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:["Cluster lock file, supplied to the ",(0,s.jsx)(a.code,{children:"--lock-file"})," flag."]}),"\n"]}),(0,s.jsx)("h3",{children:"Example run"}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:'charon alpha test peers \\\n  --lock-file="./.charon/cluster-lock.json"\n'})})]})]}),(0,s.jsx)("h2",{children:"Test beacon node"}),(0,s.jsx)(a.p,{children:"Run tests on beacon node(s), to evaluate their effectiveness for a Distributed Validator cluster. The beacon node is usually the client doing the most work in a validating stack, especially with a high number of validators being serviced by the validator client(s) and Charon(s) that depend on it."}),(0,s.jsxs)(c.A,{groupId:"load-test",children:[(0,s.jsxs)(l.A,{value:"Regular test",label:"Regular test",default:!0,children:[(0,s.jsx)(a.p,{children:"Regular tests intended for relatively fast run, without putting any major load on any tested system."}),(0,s.jsx)("h3",{children:"Pre-requisites"}),(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:["Running beacon node(s) towards which tests will be executed, supplied to ",(0,s.jsx)(a.code,{children:"--endpoints"})," flag."]}),"\n"]}),(0,s.jsx)("h3",{children:"Example run"}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:'charon alpha test beacon \\\n  --endpoints="https://ethereum-holesky-beacon-api.publicnode.com,https://ethereum-sepolia-beacon-api.publicnode.com"\n'})})]}),(0,s.jsxs)(l.A,{value:"Load test",label:"Load test",default:!0,children:[(0,s.jsx)(a.p,{children:"Load tests intended for more time consuming run. Beacon nodes are put under heavy load."}),(0,s.jsx)(a.p,{children:"These tests include simulated workloads for an increasing number of validators, and the process takes some time (approximately ~33 minutes). It is normal to observe some warnings during the simulations."}),(0,s.jsxs)(a.p,{children:["A file with detailed results about simulations done is saved at the current working directory (configurable by ",(0,s.jsx)(a.code,{children:"--simulation-file-dir"})," flag)."]}),(0,s.jsx)("h3",{children:"Pre-requisites"}),(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:["Running beacon node(s) towards which tests will be executed, supplied to ",(0,s.jsx)(a.code,{children:"--endpoints"})," flag. It is important that the node is expecting to handle huge load and that it is ",(0,s.jsx)(a.strong,{children:"not"})," a publicly accessible one, which can block you."]}),"\n"]}),(0,s.jsx)("h3",{children:"Example run"}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:'charon alpha test beacon \\\n  --endpoints="http://127.0.0.1:5052/" \\\n  --load-test\n'})})]})]}),(0,s.jsx)("h2",{children:"Test validator client"}),(0,s.jsx)(a.p,{children:"Run tests towards your validator client, to evaluate its effectiveness for a Distributed Validator cluster."}),(0,s.jsxs)(a.p,{children:["Default endpoint for validator and port is used at ",(0,s.jsx)(a.code,{children:"127.0.0.1:3600"}),". This can be changed by supplying different endpoint to the ",(0,s.jsx)(a.code,{children:"--validator-api-address"})," flag."]}),(0,s.jsx)("h3",{children:"Pre-requisites"}),(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsx)(a.li,{children:"Running validator client towards which tests will be executed."}),"\n"]}),(0,s.jsx)("h3",{children:"Example run"}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:"charon alpha test validator\n"})}),(0,s.jsx)("h2",{children:"Test MEV relay"}),(0,s.jsxs)(a.p,{children:["Run tests towards MEV relays, to evaluate their effectiveness for a Distributed Validator cluster. If MEV-Boost clients are configured for the distributed validator nodes, it is of utmost importance that the relays they connect to are fast and reliable. If not, the chance of missing a block proposal increases significantly. Supplying ",(0,s.jsx)(a.code,{children:"--beacon-node-endpoint"})," and ",(0,s.jsx)(a.code,{children:"--load-test"})," flags allows the test to ask relays for real MEV headers, increasing the accuracy (and duration) of this test."]}),(0,s.jsxs)(a.p,{children:["At least 1 endpoint is required to be supplied to the ",(0,s.jsx)(a.code,{children:"--endpoints"})," flag."]}),(0,s.jsxs)(c.A,{groupId:"load-test",children:[(0,s.jsxs)(l.A,{value:"Regular test",label:"Regular test",default:!0,children:[(0,s.jsx)("h3",{children:"Pre-requisites"}),(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsx)(a.li,{children:"Running MEV relay(s) towards which tests will be executed."}),"\n"]}),(0,s.jsx)("h3",{children:"Example run"}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:'charon alpha test mev \\\n  --endpoints="https://0xa15b52576bcbf1072f4a011c0f99f9fb6c66f3e1ff321f11f461d15e31b1cb359caa092c71bbded0bae5b5ea401aab7e@aestus.live,https://0xa7ab7a996c8584251c8f925da3170bdfd6ebc75d50f5ddc4050a6fdc77f2a3b5fce2cc750d0865e05d7228af97d69561@agnostic-relay.net,https://0x8b5d2e73e2a3a55c6c87b8b6eb92e0149a125c852751db1422fa951e42a09b82c142c3ea98d0d9930b056a3bc9896b8f@bloxroute.max-profit.blxrbdn.com,https://0xac6e77dfe25ecd6110b8e780608cce0dab71fdd5ebea22a16c0205200f2f8e2e3ad3b71d3499c54ad14d6c21b41a37ae@boost-relay.flashbots.net,https://0xa1559ace749633b997cb3fdacffb890aeebdb0f5a3b6aaa7eeeaf1a38af0a8fe88b9e4b1f61f236d2e64d95733327a62@relay.ultrasound.money,https://0x8c4ed5e24fe5c6ae21018437bde147693f68cda427cd1122cf20819c30eda7ed74f72dece09bb313f2a1855595ab677d@regional.titanrelay.xyz,https://0x8c4ed5e24fe5c6ae21018437bde147693f68cda427cd1122cf20819c30eda7ed74f72dece09bb313f2a1855595ab677d@global.titanrelay.xyz"\n'})})]}),(0,s.jsxs)(l.A,{value:"Load test",label:"Load test",default:!0,children:[(0,s.jsx)("h3",{children:"Pre-requisites"}),(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsx)(a.li,{children:"Running MEV relay(s) towards which tests will be executed."}),"\n",(0,s.jsxs)(a.li,{children:["Running beacon node which will be used for fetching data required by the MEV relay for block creation, supplied to ",(0,s.jsx)(a.code,{children:"--beacon-node-endpoint"}),". There is no restrictions on the node and a public one can be used."]}),"\n"]}),(0,s.jsx)("h3",{children:"Example run"}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:'charon alpha test mev \\\n  --endpoints="https://0xa15b52576bcbf1072f4a011c0f99f9fb6c66f3e1ff321f11f461d15e31b1cb359caa092c71bbded0bae5b5ea401aab7e@aestus.live,https://0xa7ab7a996c8584251c8f925da3170bdfd6ebc75d50f5ddc4050a6fdc77f2a3b5fce2cc750d0865e05d7228af97d69561@agnostic-relay.net,https://0x8b5d2e73e2a3a55c6c87b8b6eb92e0149a125c852751db1422fa951e42a09b82c142c3ea98d0d9930b056a3bc9896b8f@bloxroute.max-profit.blxrbdn.com,https://0xac6e77dfe25ecd6110b8e780608cce0dab71fdd5ebea22a16c0205200f2f8e2e3ad3b71d3499c54ad14d6c21b41a37ae@boost-relay.flashbots.net,https://0xa1559ace749633b997cb3fdacffb890aeebdb0f5a3b6aaa7eeeaf1a38af0a8fe88b9e4b1f61f236d2e64d95733327a62@relay.ultrasound.money,https://0x8c4ed5e24fe5c6ae21018437bde147693f68cda427cd1122cf20819c30eda7ed74f72dece09bb313f2a1855595ab677d@regional.titanrelay.xyz,https://0x8c4ed5e24fe5c6ae21018437bde147693f68cda427cd1122cf20819c30eda7ed74f72dece09bb313f2a1855595ab677d@global.titanrelay.xyz" \\\n  --load-test \\\n  --beacon-node-endpoint="https://ethereum-beacon-api.publicnode.com"\n'})})]})]}),(0,s.jsx)("h2",{children:"Test machine and network performance"}),(0,s.jsx)(a.p,{children:"Run tests of your machine and network, to evaluate their effectiveness for a Distributed Validator cluster. Distributed Validators need stable, low-latency, internet, a reasonable amount of RAM, and a highly performant disk drive for storage. This test aims to analyse these requirements to give an overview of the systems suitability."}),(0,s.jsx)("h3",{children:"Pre-requisites"}),(0,s.jsxs)(a.p,{children:["The storage tests require ",(0,s.jsx)(a.code,{children:"fio"})," to be installed on your machine. Read more about ",(0,s.jsx)(a.code,{children:"fio"})," ",(0,s.jsx)(a.a,{href:"https://fio.readthedocs.io/en/latest/fio_doc.html",children:"here"}),"."]}),(0,s.jsx)("h3",{children:"Example run"}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:"charon alpha test infra\n"})})]}),(0,s.jsxs)(l.A,{value:"Docker",label:"Docker",default:!0,children:[(0,s.jsxs)(a.p,{children:["If you are running Charon  using the ",(0,s.jsx)(a.a,{href:"https://github.com/ObolNetwork/charon-distributed-validator-node/",children:"charon-distributed-validator-node repository"}),", services like the beacon node and validator client are hosted locally. To run the beacon node and validator client tests, you need to point them toward the correct Docker container, and also include the Docker container\u2019s network. Check your docker networks with ",(0,s.jsx)(a.code,{children:"docker network ls"}),". When you run the test command, specify the Docker network with ",(0,s.jsx)(a.code,{children:"--network <name>"}),". Read more about docker networking ",(0,s.jsx)(a.a,{href:"https://docs.docker.com/engine/network/",children:"here"}),"."]}),(0,s.jsx)("h2",{children:"Test all"}),(0,s.jsxs)(a.p,{children:["Intended for running tests across all categories. Each flag should have a prefix for its category (i.e.: the flag ",(0,s.jsx)(a.code,{children:"--endpoints"})," from the beacon tests becomes ",(0,s.jsx)(a.code,{children:"--beacon-endpoints"}),"). For details about each category refer to their respective sections."]}),(0,s.jsxs)(c.A,{groupId:"load-test",children:[(0,s.jsxs)(l.A,{value:"Regular test",label:"Regular test",default:!0,children:[(0,s.jsx)(a.p,{children:"Regular tests intended for relatively fast run, without putting any major load on any tested system.\nBased on which stage you are with your cluster creation, some steps are easened."}),(0,s.jsxs)(c.A,{groupId:"cluster-creation-stage",children:[(0,s.jsxs)(l.A,{value:"Just starting",label:"Just starting",default:!0,children:[(0,s.jsx)("h3",{children:"Pre-requisites"}),(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.a,{href:"../../learn/charon/charon-cli-reference#creating-an-enr-for-charon",children:"ENR private key"}),"."]}),"\n",(0,s.jsxs)(a.li,{children:["Peers' ENRs, supplied to the ",(0,s.jsx)(a.code,{children:"--peers-enrs"})," flag."]}),"\n",(0,s.jsxs)(a.li,{children:["Running beacon node(s) towards which tests will be executed, supplied to ",(0,s.jsx)(a.code,{children:"--beacon-endpoints"})," flag."]}),"\n",(0,s.jsx)(a.li,{children:"Running validator client towards which tests will be executed."}),"\n",(0,s.jsxs)(a.li,{children:["Running MEV relay(s) towards which tests will be executed, supplied to ",(0,s.jsx)(a.code,{children:"--mev-endpoints"})," flag."]}),"\n"]}),(0,s.jsx)("h3",{children:"Example run"}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:'docker run -u $(id -u):$(id -g) --rm -v "$(pwd):/opt/charon/test" obolnetwork/charon:v1.1.2 alpha test all \\\n  --peers-enrs="enr:-HW4QMno_MB_ID6GFVxoIQAHHVHZZZjzFctxtX2tm9D95tvaPbHathi8YUP8jh8v2YUAVu2fYWEOB_BT14pt8QgiGg2AgmlkgnY0iXNlY3AyNTZrMaECdpnK83s0dbBwCaEfDIkQ-3nJkkC93STvv6Vmi0bYlzg,enr:-HW4QO2vefLueTBEUGly5hkcpL7NWdMKWx7Nuy9f7z6XZInCbFAc0IZj6bsnmj-Wi4ElS6jNa0Mge5Rkc2WGTVemas2AgmlkgnY0iXNlY3AyNTZrMaECR9SmYQ_1HRgJmNxvh_ER2Sxx78HgKKgKaOkCROYwaDY" \\\n  --peers-private-key-file="/opt/charon/test/.charon/charon-enr-private-key" \\\n  --beacon-endpoints="https://ethereum-holesky-beacon-api.publicnode.com,https://ethereum-sepolia-beacon-api.publicnode.com" \\\n  --mev-endpoints="https://0xa15b52576bcbf1072f4a011c0f99f9fb6c66f3e1ff321f11f461d15e31b1cb359caa092c71bbded0bae5b5ea401aab7e@aestus.live,https://0xa7ab7a996c8584251c8f925da3170bdfd6ebc75d50f5ddc4050a6fdc77f2a3b5fce2cc750d0865e05d7228af97d69561@agnostic-relay.net,https://0x8b5d2e73e2a3a55c6c87b8b6eb92e0149a125c852751db1422fa951e42a09b82c142c3ea98d0d9930b056a3bc9896b8f@bloxroute.max-profit.blxrbdn.com,https://0xac6e77dfe25ecd6110b8e780608cce0dab71fdd5ebea22a16c0205200f2f8e2e3ad3b71d3499c54ad14d6c21b41a37ae@boost-relay.flashbots.net,https://0xa1559ace749633b997cb3fdacffb890aeebdb0f5a3b6aaa7eeeaf1a38af0a8fe88b9e4b1f61f236d2e64d95733327a62@relay.ultrasound.money,https://0x8c4ed5e24fe5c6ae21018437bde147693f68cda427cd1122cf20819c30eda7ed74f72dece09bb313f2a1855595ab677d@regional.titanrelay.xyz,https://0x8c4ed5e24fe5c6ae21018437bde147693f68cda427cd1122cf20819c30eda7ed74f72dece09bb313f2a1855595ab677d@global.titanrelay.xyz" \\\n  --infra-disk-io-test-file-dir="/opt/charon/test"\n'})})]}),(0,s.jsxs)(l.A,{value:"Completed cluster creation",label:"Completed cluster creation",default:!0,children:[(0,s.jsx)("h3",{children:"Pre-requisites"}),(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:["Cluster definition file, supplied to the ",(0,s.jsx)(a.code,{children:"--peers-definition-file"})," flag."]}),"\n",(0,s.jsxs)(a.li,{children:["Running beacon node(s) towards which tests will be executed, supplied to ",(0,s.jsx)(a.code,{children:"--beacon-endpoints"})," flag."]}),"\n",(0,s.jsx)(a.li,{children:"Running validator client towards which tests will be executed."}),"\n",(0,s.jsxs)(a.li,{children:["Running MEV relay(s) towards which tests will be executed, supplied to ",(0,s.jsx)(a.code,{children:"--mev-endpoints"})," flag."]}),"\n"]}),(0,s.jsx)("h3",{children:"Example run"}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:'docker run -u $(id -u):$(id -g) --rm -v "$(pwd):/opt/charon/test" obolnetwork/charon:v1.1.2 alpha test all \\\n  --peers-definition-file="/opt/charon/test/.charon/cluster-definition.json" \\\n  --peers-private-key-file="/opt/charon/test/.charon/charon-enr-private-key" \\\n  --beacon-endpoints="https://ethereum-holesky-beacon-api.publicnode.com,https://ethereum-sepolia-beacon-api.publicnode.com" \\\n  --mev-endpoints="https://0xa15b52576bcbf1072f4a011c0f99f9fb6c66f3e1ff321f11f461d15e31b1cb359caa092c71bbded0bae5b5ea401aab7e@aestus.live,https://0xa7ab7a996c8584251c8f925da3170bdfd6ebc75d50f5ddc4050a6fdc77f2a3b5fce2cc750d0865e05d7228af97d69561@agnostic-relay.net,https://0x8b5d2e73e2a3a55c6c87b8b6eb92e0149a125c852751db1422fa951e42a09b82c142c3ea98d0d9930b056a3bc9896b8f@bloxroute.max-profit.blxrbdn.com,https://0xac6e77dfe25ecd6110b8e780608cce0dab71fdd5ebea22a16c0205200f2f8e2e3ad3b71d3499c54ad14d6c21b41a37ae@boost-relay.flashbots.net,https://0xa1559ace749633b997cb3fdacffb890aeebdb0f5a3b6aaa7eeeaf1a38af0a8fe88b9e4b1f61f236d2e64d95733327a62@relay.ultrasound.money,https://0x8c4ed5e24fe5c6ae21018437bde147693f68cda427cd1122cf20819c30eda7ed74f72dece09bb313f2a1855595ab677d@regional.titanrelay.xyz,https://0x8c4ed5e24fe5c6ae21018437bde147693f68cda427cd1122cf20819c30eda7ed74f72dece09bb313f2a1855595ab677d@global.titanrelay.xyz" \\\n  --infra-disk-io-test-file-dir="/opt/charon/test"\n'})})]}),(0,s.jsxs)(l.A,{value:"Completed DKG",label:"Completed DKG",default:!0,children:[(0,s.jsx)("h3",{children:"Pre-requisites"}),(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:["Cluster lock file, supplied to the ",(0,s.jsx)(a.code,{children:"--peers-lock-file"})," flag."]}),"\n",(0,s.jsxs)(a.li,{children:["Running beacon node(s) towards which tests will be executed, supplied to ",(0,s.jsx)(a.code,{children:"--beacon-endpoints"})," flag."]}),"\n",(0,s.jsx)(a.li,{children:"Running validator client towards which tests will be executed."}),"\n",(0,s.jsxs)(a.li,{children:["Running MEV relay(s) towards which tests will be executed, supplied to ",(0,s.jsx)(a.code,{children:"--mev-endpoints"})," flag."]}),"\n"]}),(0,s.jsx)("h3",{children:"Example run"}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:'docker run -u $(id -u):$(id -g) --rm -v "$(pwd):/opt/charon/test" obolnetwork/charon:v1.1.2 alpha test all \\\n  --peers-lock-file="/opt/charon/test/.charon/cluster-lock.json" \\\n  --peers-private-key-file="/opt/charon/test/.charon/charon-enr-private-key"\n  --beacon-endpoints="https://ethereum-holesky-beacon-api.publicnode.com,https://ethereum-sepolia-beacon-api.publicnode.com" \\\n  --mev-endpoints="https://0xa15b52576bcbf1072f4a011c0f99f9fb6c66f3e1ff321f11f461d15e31b1cb359caa092c71bbded0bae5b5ea401aab7e@aestus.live,https://0xa7ab7a996c8584251c8f925da3170bdfd6ebc75d50f5ddc4050a6fdc77f2a3b5fce2cc750d0865e05d7228af97d69561@agnostic-relay.net,https://0x8b5d2e73e2a3a55c6c87b8b6eb92e0149a125c852751db1422fa951e42a09b82c142c3ea98d0d9930b056a3bc9896b8f@bloxroute.max-profit.blxrbdn.com,https://0xac6e77dfe25ecd6110b8e780608cce0dab71fdd5ebea22a16c0205200f2f8e2e3ad3b71d3499c54ad14d6c21b41a37ae@boost-relay.flashbots.net,https://0xa1559ace749633b997cb3fdacffb890aeebdb0f5a3b6aaa7eeeaf1a38af0a8fe88b9e4b1f61f236d2e64d95733327a62@relay.ultrasound.money,https://0x8c4ed5e24fe5c6ae21018437bde147693f68cda427cd1122cf20819c30eda7ed74f72dece09bb313f2a1855595ab677d@regional.titanrelay.xyz,https://0x8c4ed5e24fe5c6ae21018437bde147693f68cda427cd1122cf20819c30eda7ed74f72dece09bb313f2a1855595ab677d@global.titanrelay.xyz" \\\n  --infra-disk-io-test-file-dir="/opt/charon/test"\n'})})]})]})]}),(0,s.jsxs)(l.A,{value:"Load test",label:"Load test",default:!0,children:[(0,s.jsx)(a.p,{children:"Load tests intended for more time consuming run. Beacon nodes are put under heavy load. MEV relays are required to create real blocks.\nBased on which stage you are with your cluster creation, some steps are easened."}),(0,s.jsxs)(c.A,{groupId:"cluster-creation-stage",children:[(0,s.jsxs)(l.A,{value:"Just starting",label:"Just starting",default:!0,children:[(0,s.jsx)("h3",{children:"Pre-requisites"}),(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.a,{href:"../../learn/charon/charon-cli-reference#creating-an-enr-for-charon",children:"ENR private key"}),"."]}),"\n",(0,s.jsxs)(a.li,{children:["Peers' ENRs, supplied to the ",(0,s.jsx)(a.code,{children:"--peers-enrs"})," flag."]}),"\n",(0,s.jsxs)(a.li,{children:["Running beacon node(s) towards which tests will be executed, supplied to ",(0,s.jsx)(a.code,{children:"--beacon-endpoints"})," flag. It is important that the node is expecting to handle huge load and that it is ",(0,s.jsx)(a.strong,{children:"not"})," a publicly accessible one, which can block you."]}),"\n",(0,s.jsx)(a.li,{children:"Running validator client towards which tests will be executed."}),"\n",(0,s.jsxs)(a.li,{children:["Running MEV relay(s) towards which tests will be executed, supplied to ",(0,s.jsx)(a.code,{children:"--mev-endpoints"})," flag."]}),"\n",(0,s.jsxs)(a.li,{children:["Running beacon node which will be used for fetching data required by the MEV relay for block creation, supplied to ",(0,s.jsx)(a.code,{children:"--mev-beacon-node-endpoint"}),". There is no restrictions on the node and a public one can be used."]}),"\n"]}),(0,s.jsx)("h3",{children:"Example run"}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:'docker run --network="charon-distributed-validator-node_dvnode" -u $(id -u):$(id -g) --rm -v "$(pwd):/opt/charon/test" obolnetwork/charon:v1.1.2 alpha test all \\\n  --peers-enrs="enr:-HW4QMno_MB_ID6GFVxoIQAHHVHZZZjzFctxtX2tm9D95tvaPbHathi8YUP8jh8v2YUAVu2fYWEOB_BT14pt8QgiGg2AgmlkgnY0iXNlY3AyNTZrMaECdpnK83s0dbBwCaEfDIkQ-3nJkkC93STvv6Vmi0bYlzg,enr:-HW4QO2vefLueTBEUGly5hkcpL7NWdMKWx7Nuy9f7z6XZInCbFAc0IZj6bsnmj-Wi4ElS6jNa0Mge5Rkc2WGTVemas2AgmlkgnY0iXNlY3AyNTZrMaECR9SmYQ_1HRgJmNxvh_ER2Sxx78HgKKgKaOkCROYwaDY" \\\n  --peers-private-key-file="/opt/charon/test/.charon/charon-enr-private-key" \\\n  --beacon-endpoints="http://lighthouse:5052/" \\\n  --beacon-simulation-file-dir="/opt/charon/test" \\\n  --beacon-load-test \\\n  --validator-api-address="lodestar:5064" \\\n  --mev-endpoints="https://0xa15b52576bcbf1072f4a011c0f99f9fb6c66f3e1ff321f11f461d15e31b1cb359caa092c71bbded0bae5b5ea401aab7e@aestus.live,https://0xa7ab7a996c8584251c8f925da3170bdfd6ebc75d50f5ddc4050a6fdc77f2a3b5fce2cc750d0865e05d7228af97d69561@agnostic-relay.net,https://0x8b5d2e73e2a3a55c6c87b8b6eb92e0149a125c852751db1422fa951e42a09b82c142c3ea98d0d9930b056a3bc9896b8f@bloxroute.max-profit.blxrbdn.com,https://0xac6e77dfe25ecd6110b8e780608cce0dab71fdd5ebea22a16c0205200f2f8e2e3ad3b71d3499c54ad14d6c21b41a37ae@boost-relay.flashbots.net,https://0xa1559ace749633b997cb3fdacffb890aeebdb0f5a3b6aaa7eeeaf1a38af0a8fe88b9e4b1f61f236d2e64d95733327a62@relay.ultrasound.money,https://0x8c4ed5e24fe5c6ae21018437bde147693f68cda427cd1122cf20819c30eda7ed74f72dece09bb313f2a1855595ab677d@regional.titanrelay.xyz,https://0x8c4ed5e24fe5c6ae21018437bde147693f68cda427cd1122cf20819c30eda7ed74f72dece09bb313f2a1855595ab677d@global.titanrelay.xyz" \\\n  --mev-beacon-node-endpoint="https://ethereum-beacon-api.publicnode.com" \\\n  --mev-load-test \\\n  --infra-disk-io-test-file-dir="/opt/charon/test"\n'})})]}),(0,s.jsxs)(l.A,{value:"Completed cluster creation",label:"Completed cluster creation",default:!0,children:[(0,s.jsx)("h3",{children:"Pre-requisites"}),(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:["Cluster definition file, supplied to the ",(0,s.jsx)(a.code,{children:"--peers-definition-file"})," flag."]}),"\n",(0,s.jsxs)(a.li,{children:["Running beacon node(s) towards which tests will be executed, supplied to ",(0,s.jsx)(a.code,{children:"--beacon-endpoints"})," flag. It is important that the node is expecting to handle huge load and that it is ",(0,s.jsx)(a.strong,{children:"not"})," a publicly accessible one, which can block you."]}),"\n",(0,s.jsx)(a.li,{children:"Running validator client towards which tests will be executed."}),"\n",(0,s.jsxs)(a.li,{children:["Running MEV relay(s) towards which tests will be executed, supplied to ",(0,s.jsx)(a.code,{children:"--mev-endpoints"})," flag."]}),"\n",(0,s.jsxs)(a.li,{children:["Running beacon node which will be used for fetching data required by the MEV relay for block creation, supplied to ",(0,s.jsx)(a.code,{children:"--mev-beacon-node-endpoint"}),". There is no restrictions on the node and a public one can be used."]}),"\n"]}),(0,s.jsx)("h3",{children:"Example run"}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:'docker run --network="charon-distributed-validator-node_dvnode" -u $(id -u):$(id -g) --rm -v "$(pwd):/opt/charon/test" obolnetwork/charon:v1.1.2 alpha test all \\\n  --peers-definition-file="/opt/charon/test/.charon/cluster-definition.json" \\\n  --peers-private-key-file="/opt/charon/test/.charon/charon-enr-private-key" \\\n  --beacon-endpoints="http://lighthouse:5052/" \\\n  --beacon-simulation-file-dir="/opt/charon/test" \\\n  --beacon-load-test \\\n  --validator-api-address="lodestar:5064" \\\n  --mev-endpoints="https://0xa15b52576bcbf1072f4a011c0f99f9fb6c66f3e1ff321f11f461d15e31b1cb359caa092c71bbded0bae5b5ea401aab7e@aestus.live,https://0xa7ab7a996c8584251c8f925da3170bdfd6ebc75d50f5ddc4050a6fdc77f2a3b5fce2cc750d0865e05d7228af97d69561@agnostic-relay.net,https://0x8b5d2e73e2a3a55c6c87b8b6eb92e0149a125c852751db1422fa951e42a09b82c142c3ea98d0d9930b056a3bc9896b8f@bloxroute.max-profit.blxrbdn.com,https://0xac6e77dfe25ecd6110b8e780608cce0dab71fdd5ebea22a16c0205200f2f8e2e3ad3b71d3499c54ad14d6c21b41a37ae@boost-relay.flashbots.net,https://0xa1559ace749633b997cb3fdacffb890aeebdb0f5a3b6aaa7eeeaf1a38af0a8fe88b9e4b1f61f236d2e64d95733327a62@relay.ultrasound.money,https://0x8c4ed5e24fe5c6ae21018437bde147693f68cda427cd1122cf20819c30eda7ed74f72dece09bb313f2a1855595ab677d@regional.titanrelay.xyz,https://0x8c4ed5e24fe5c6ae21018437bde147693f68cda427cd1122cf20819c30eda7ed74f72dece09bb313f2a1855595ab677d@global.titanrelay.xyz" \\\n  --mev-beacon-node-endpoint="https://ethereum-beacon-api.publicnode.com" \\\n  --mev-load-test \\\n  --infra-disk-io-test-file-dir="/opt/charon/test"\n'})})]}),(0,s.jsxs)(l.A,{value:"Completed DKG",label:"Completed DKG",default:!0,children:[(0,s.jsx)("h3",{children:"Pre-requisites"}),(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:["Cluster lock file, supplied to the ",(0,s.jsx)(a.code,{children:"--peers-lock-file"})," flag."]}),"\n",(0,s.jsxs)(a.li,{children:["Running beacon node(s) towards which tests will be executed, supplied to ",(0,s.jsx)(a.code,{children:"--beacon-endpoints"})," flag. It is important that the node is expecting to handle huge load and that it is ",(0,s.jsx)(a.strong,{children:"not"})," a publicly accessible one, which can block you."]}),"\n",(0,s.jsx)(a.li,{children:"Running validator client towards which tests will be executed."}),"\n",(0,s.jsxs)(a.li,{children:["Running MEV relay(s) towards which tests will be executed, supplied to ",(0,s.jsx)(a.code,{children:"--mev-endpoints"})," flag."]}),"\n",(0,s.jsxs)(a.li,{children:["Running beacon node which will be used for fetching data required by the MEV relay for block creation, supplied to ",(0,s.jsx)(a.code,{children:"--mev-beacon-node-endpoint"}),". There is no restrictions on the node and a public one can be used."]}),"\n"]}),(0,s.jsx)("h3",{children:"Example run"}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:'docker run --network="charon-distributed-validator-node_dvnode" -u $(id -u):$(id -g) --rm -v "$(pwd):/opt/charon/test" obolnetwork/charon:v1.1.2 alpha test all \\\n  --peers-lock-file="/opt/charon/test/.charon/cluster-lock.json" \\\n  --peers-private-key-file="/opt/charon/test/.charon/charon-enr-private-key" \\\n  --beacon-endpoints="http://lighthouse:5052/" \\\n  --beacon-simulation-file-dir="/opt/charon/test" \\\n  --beacon-load-test \\\n  --validator-api-address="lodestar:5064" \\\n  --mev-endpoints="https://0xa15b52576bcbf1072f4a011c0f99f9fb6c66f3e1ff321f11f461d15e31b1cb359caa092c71bbded0bae5b5ea401aab7e@aestus.live,https://0xa7ab7a996c8584251c8f925da3170bdfd6ebc75d50f5ddc4050a6fdc77f2a3b5fce2cc750d0865e05d7228af97d69561@agnostic-relay.net,https://0x8b5d2e73e2a3a55c6c87b8b6eb92e0149a125c852751db1422fa951e42a09b82c142c3ea98d0d9930b056a3bc9896b8f@bloxroute.max-profit.blxrbdn.com,https://0xac6e77dfe25ecd6110b8e780608cce0dab71fdd5ebea22a16c0205200f2f8e2e3ad3b71d3499c54ad14d6c21b41a37ae@boost-relay.flashbots.net,https://0xa1559ace749633b997cb3fdacffb890aeebdb0f5a3b6aaa7eeeaf1a38af0a8fe88b9e4b1f61f236d2e64d95733327a62@relay.ultrasound.money,https://0x8c4ed5e24fe5c6ae21018437bde147693f68cda427cd1122cf20819c30eda7ed74f72dece09bb313f2a1855595ab677d@regional.titanrelay.xyz,https://0x8c4ed5e24fe5c6ae21018437bde147693f68cda427cd1122cf20819c30eda7ed74f72dece09bb313f2a1855595ab677d@global.titanrelay.xyz" \\\n  --mev-beacon-node-endpoint="https://ethereum-beacon-api.publicnode.com" \\\n  --mev-load-test \\\n  --infra-disk-io-test-file-dir="/opt/charon/test"\n'})})]})]})]})]}),(0,s.jsx)("h2",{children:"Test connection to peers"}),(0,s.jsxs)(a.p,{children:["Run tests towards other Charon peers to evaluate the effectiveness of a potential cluster setup. The command sets up a libp2p node, similarly to what Charon normally does. This test command ",(0,s.jsx)(a.strong,{children:"has to be run simultaneously with the other peers"}),". After the node is up it waits for other peers to get their nodes up and running, retrying the connection every 3 seconds. The libp2p node connects to relays (configurable with ",(0,s.jsx)(a.code,{children:"p2p-relays"})," flag) and to other libp2p nodes via TCP. Other peer nodes are discoverable by using their ENRs. Note that for a peer to be successfully discovered, it needs to be connected to the same relay. After completion of the test suite the libp2p node stays alive (duration configurable with ",(0,s.jsx)(a.code,{children:"keep-alive"})," flag) for other peers to continue testing against it. The node can be forcefully stopped as well."]}),(0,s.jsx)(a.p,{children:"To be able to establish direct connection, you have to ensure:"}),(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsx)(a.li,{children:"Your machine is publicly accessible on the internet or at least a specific port is."}),"\n",(0,s.jsxs)(a.li,{children:["You add flag ",(0,s.jsx)(a.code,{children:"p2p-tcp-address"})," (i.e.: ",(0,s.jsx)(a.code,{children:"127.0.0.1:9001"}),") flag and the port specified in it is free and publicly accessible."]}),"\n",(0,s.jsxs)(a.li,{children:["You add the flag ",(0,s.jsx)(a.code,{children:"p2p-external-ip"})," (i.e.: ",(0,s.jsx)(a.code,{children:"8.8.8.8"}),") and specify your public IP."]}),"\n"]}),(0,s.jsx)(a.p,{children:"If all points are satisfied by you and the other peers, you should be able to establish a direct TCP connection between each other. Note that a relay is still required, as it is used for peer discovery."}),(0,s.jsx)(a.p,{children:"Based on which stage you are with your cluster creation, some steps are easened."}),(0,s.jsxs)(c.A,{groupId:"cluster-creation-stage",children:[(0,s.jsxs)(l.A,{value:"Just starting",label:"Just starting",default:!0,children:[(0,s.jsx)("h3",{children:"Pre-requisites"}),(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.a,{href:"../../learn/charon/charon-cli-reference#creating-an-enr-for-charon",children:"ENR private key"}),"."]}),"\n",(0,s.jsxs)(a.li,{children:["Peers' ENRs, supplied to the ",(0,s.jsx)(a.code,{children:"--enrs"})," flag."]}),"\n"]}),(0,s.jsx)("h3",{children:"Example run"}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:'docker run -u $(id -u):$(id -g) --rm -v "$(pwd):/opt/charon/test" obolnetwork/charon:v1.1.2 alpha test peers \\\n  --enrs="enr:-HW4QMno_MB_ID6GFVxoIQAHHVHZZZjzFctxtX2tm9D95tvaPbHathi8YUP8jh8v2YUAVu2fYWEOB_BT14pt8QgiGg2AgmlkgnY0iXNlY3AyNTZrMaECdpnK83s0dbBwCaEfDIkQ-3nJkkC93STvv6Vmi0bYlzg,enr:-HW4QO2vefLueTBEUGly5hkcpL7NWdMKWx7Nuy9f7z6XZInCbFAc0IZj6bsnmj-Wi4ElS6jNa0Mge5Rkc2WGTVemas2AgmlkgnY0iXNlY3AyNTZrMaECR9SmYQ_1HRgJmNxvh_ER2Sxx78HgKKgKaOkCROYwaDY" \\\n  --private-key-file="/opt/charon/test/.charon/charon-enr-private-key"\n'})})]}),(0,s.jsxs)(l.A,{value:"Completed cluster creation",label:"Completed cluster creation",default:!0,children:[(0,s.jsx)("h3",{children:"Pre-requisites"}),(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:["Cluster definition file, supplied to the ",(0,s.jsx)(a.code,{children:"--definition-file"})," flag."]}),"\n"]}),(0,s.jsx)("h3",{children:"Example run"}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:'docker run -u $(id -u):$(id -g) --rm -v "$(pwd):/opt/charon/test" obolnetwork/charon:v1.1.2 alpha test peers \\\n  --definition-file="/opt/charon/test/.charon/cluster-definition.json" \\\n  --private-key-file="/opt/charon/test/.charon/charon-enr-private-key"\n'})})]}),(0,s.jsxs)(l.A,{value:"Completed DKG",label:"Completed DKG",default:!0,children:[(0,s.jsx)("h3",{children:"Pre-requisites"}),(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:["Cluster lock file, supplied to the ",(0,s.jsx)(a.code,{children:"--lock-file"})," flag."]}),"\n"]}),(0,s.jsx)("h3",{children:"Example run"}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:'docker run -u $(id -u):$(id -g) --rm -v "$(pwd):/opt/charon/test" obolnetwork/charon:v1.1.2 alpha test peers \\\n  --lock-file="/opt/charon/test/.charon/cluster-lock.json" \\\n  --private-key-file="/opt/charon/test/.charon/charon-enr-private-key"\n'})})]})]}),(0,s.jsx)("h2",{children:"Test beacon node"}),(0,s.jsx)(a.p,{children:"Run tests on beacon node(s), to evaluate their effectiveness for a Distributed Validator cluster. The beacon node is usually the client doing the most work in a validating stack, especially with a high number of validators being serviced by the validator client(s) and Charon(s) that depend on it."}),(0,s.jsxs)(c.A,{groupId:"load-test",children:[(0,s.jsxs)(l.A,{value:"Regular test",label:"Regular test",default:!0,children:[(0,s.jsx)(a.p,{children:"Regular tests intended for relatively fast run, without putting any major load on any tested system."}),(0,s.jsx)("h3",{children:"Pre-requisites"}),(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:["Running beacon node(s) towards which tests will be executed, supplied to ",(0,s.jsx)(a.code,{children:"--endpoints"})," flag."]}),"\n"]}),(0,s.jsx)("h3",{children:"Example run"}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:'docker run obolnetwork/charon:v1.1.2 alpha test beacon \\\n  --endpoints="https://ethereum-holesky-beacon-api.publicnode.com,https://ethereum-sepolia-beacon-api.publicnode.com"\n'})})]}),(0,s.jsxs)(l.A,{value:"Load test",label:"Load test",default:!0,children:[(0,s.jsx)(a.p,{children:"Load tests intended for more time consuming run. Beacon nodes are put under heavy load."}),(0,s.jsx)(a.p,{children:"These tests include simulated workloads for an increasing number of validators, and the process takes some time (approximately ~33 minutes). It is normal to observe some warnings during the simulations."}),(0,s.jsxs)(a.p,{children:["A file with detailed results about simulations done is saved at the current working directory (configurable by changing the volume mapped from ",(0,s.jsx)(a.code,{children:"$(pwd)"})," to the desired directory)."]}),(0,s.jsx)("h3",{children:"Pre-requisites"}),(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:["Running beacon node(s) towards which tests will be executed, supplied to ",(0,s.jsx)(a.code,{children:"--endpoints"})," flag. It is important that the node is expecting to handle huge load and that it is ",(0,s.jsx)(a.strong,{children:"not"})," a publicly accessible one, which can block you."]}),"\n"]}),(0,s.jsx)("h3",{children:"Example run"}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:'docker run --network="charon-distributed-validator-node_dvnode" -u $(id -u):$(id -g) --rm -v "$(pwd):/opt/charon/test" obolnetwork/charon:v1.1.2 alpha test beacon \\\n  --endpoints="http://lighthouse:5052/" \\\n  --simulation-file-dir="/opt/charon/test" \\\n  --load-test\n'})})]})]}),(0,s.jsx)("h2",{children:"Test validator client"}),(0,s.jsx)(a.p,{children:"Run tests towards your validator client, to evaluate its effectiveness for a Distributed Validator cluster."}),(0,s.jsxs)(a.p,{children:["Default endpoint for validator and port is used at ",(0,s.jsx)(a.code,{children:"127.0.0.1:3600"}),". This can be changed by supplying different endpoint to the ",(0,s.jsx)(a.code,{children:"--validator-api-address"})," flag."]}),(0,s.jsx)("h3",{children:"Pre-requisites"}),(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsx)(a.li,{children:"Running validator client towards which tests will be executed."}),"\n"]}),(0,s.jsx)("h3",{children:"Example run"}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:'docker run --network="charon-distributed-validator-node_dvnode" obolnetwork/charon:v1.1.2 alpha test validator \\\n  --validator-api-address="lodestar:5064"\n'})}),(0,s.jsx)("h2",{children:"Test MEV relay"}),(0,s.jsxs)(a.p,{children:["Run tests towards MEV relays, to evaluate their effectiveness for a Distributed Validator cluster. If MEV-Boost clients are configured for the distributed validator nodes, it is of utmost importance that the relays they connect to are fast and reliable. If not, the chance of missing a block proposal increases significantly. Supplying ",(0,s.jsx)(a.code,{children:"--beacon-node-endpoint"})," and ",(0,s.jsx)(a.code,{children:"--load-test"})," flags allows the test to ask relays for real MEV headers, increasing the accuracy (and duration) of this test."]}),(0,s.jsxs)(a.p,{children:["At least 1 endpoint is required to be supplied to the ",(0,s.jsx)(a.code,{children:"--endpoints"})," flag."]}),(0,s.jsxs)(c.A,{groupId:"load-test",children:[(0,s.jsxs)(l.A,{value:"Regular test",label:"Regular test",default:!0,children:[(0,s.jsx)("h3",{children:"Pre-requisites"}),(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsx)(a.li,{children:"Running MEV relay(s) towards which tests will be executed."}),"\n"]}),(0,s.jsx)("h3",{children:"Example run"}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:'docker run obolnetwork/charon:v1.1.2 alpha test mev \\\n  --endpoints="https://0xa15b52576bcbf1072f4a011c0f99f9fb6c66f3e1ff321f11f461d15e31b1cb359caa092c71bbded0bae5b5ea401aab7e@aestus.live,https://0xa7ab7a996c8584251c8f925da3170bdfd6ebc75d50f5ddc4050a6fdc77f2a3b5fce2cc750d0865e05d7228af97d69561@agnostic-relay.net,https://0x8b5d2e73e2a3a55c6c87b8b6eb92e0149a125c852751db1422fa951e42a09b82c142c3ea98d0d9930b056a3bc9896b8f@bloxroute.max-profit.blxrbdn.com,https://0xac6e77dfe25ecd6110b8e780608cce0dab71fdd5ebea22a16c0205200f2f8e2e3ad3b71d3499c54ad14d6c21b41a37ae@boost-relay.flashbots.net,https://0xa1559ace749633b997cb3fdacffb890aeebdb0f5a3b6aaa7eeeaf1a38af0a8fe88b9e4b1f61f236d2e64d95733327a62@relay.ultrasound.money,https://0x8c4ed5e24fe5c6ae21018437bde147693f68cda427cd1122cf20819c30eda7ed74f72dece09bb313f2a1855595ab677d@regional.titanrelay.xyz,https://0x8c4ed5e24fe5c6ae21018437bde147693f68cda427cd1122cf20819c30eda7ed74f72dece09bb313f2a1855595ab677d@global.titanrelay.xyz"\n'})})]}),(0,s.jsxs)(l.A,{value:"Load test",label:"Load test",default:!0,children:[(0,s.jsx)("h3",{children:"Pre-requisites"}),(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsx)(a.li,{children:"Running MEV relay(s) towards which tests will be executed."}),"\n",(0,s.jsxs)(a.li,{children:["Running beacon node which will be used for fetching data required by the MEV relay for block creation, supplied to ",(0,s.jsx)(a.code,{children:"--beacon-node-endpoint"}),". There is no restrictions on the node and a public one can be used."]}),"\n"]}),(0,s.jsx)("h3",{children:"Example run"}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:'docker run obolnetwork/charon:v1.1.2 alpha test mev \\\n  --endpoints="https://0xa15b52576bcbf1072f4a011c0f99f9fb6c66f3e1ff321f11f461d15e31b1cb359caa092c71bbded0bae5b5ea401aab7e@aestus.live,https://0xa7ab7a996c8584251c8f925da3170bdfd6ebc75d50f5ddc4050a6fdc77f2a3b5fce2cc750d0865e05d7228af97d69561@agnostic-relay.net,https://0x8b5d2e73e2a3a55c6c87b8b6eb92e0149a125c852751db1422fa951e42a09b82c142c3ea98d0d9930b056a3bc9896b8f@bloxroute.max-profit.blxrbdn.com,https://0xac6e77dfe25ecd6110b8e780608cce0dab71fdd5ebea22a16c0205200f2f8e2e3ad3b71d3499c54ad14d6c21b41a37ae@boost-relay.flashbots.net,https://0xa1559ace749633b997cb3fdacffb890aeebdb0f5a3b6aaa7eeeaf1a38af0a8fe88b9e4b1f61f236d2e64d95733327a62@relay.ultrasound.money,https://0x8c4ed5e24fe5c6ae21018437bde147693f68cda427cd1122cf20819c30eda7ed74f72dece09bb313f2a1855595ab677d@regional.titanrelay.xyz,https://0x8c4ed5e24fe5c6ae21018437bde147693f68cda427cd1122cf20819c30eda7ed74f72dece09bb313f2a1855595ab677d@global.titanrelay.xyz" \\\n  --load-test \\\n  --beacon-node-endpoint="https://ethereum-beacon-api.publicnode.com"\n'})})]})]}),(0,s.jsx)("h2",{children:"Test machine and network performance"}),(0,s.jsx)(a.p,{children:"Run tests of your machine and network, to evaluate their effectiveness for a Distributed Validator cluster. Distributed Validators need stable, low-latency, internet, a reasonable amount of RAM, and a highly performant disk drive for storage. This test aims to analyse these requirements to give an overview of the systems suitability."}),(0,s.jsx)("h3",{children:"Pre-requisites"}),(0,s.jsx)(a.p,{children:"None."}),(0,s.jsx)("h3",{children:"Example run"}),(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:'docker run -u $(id -u):$(id -g) --rm -v "$(pwd):/opt/charon/test" obolnetwork/charon:v1.1.2 alpha test infra \\\n  --disk-io-test-file-dir=/opt/charon/test\n'})})]})]})]})}function f(e={}){const{wrapper:a}={...(0,d.R)(),...e.components};return a?(0,s.jsx)(a,{...e,children:(0,s.jsx)(b,{...e})}):b(e)}},7227:(e,a,t)=>{t.d(a,{A:()=>c});t(96540);var n=t(34164);const s={tabItem:"tabItem_Ymn6"};var d=t(74848);function c(e){let{children:a,hidden:t,className:c}=e;return(0,d.jsx)("div",{role:"tabpanel",className:(0,n.A)(s.tabItem,c),hidden:t,children:a})}},49489:(e,a,t)=>{t.d(a,{A:()=>w});var n=t(96540),s=t(34164),d=t(24245),c=t(56347),l=t(36494),r=t(62814),i=t(45167),o=t(69900);function h(e){return n.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,n.isValidElement)(e)&&function(e){const{props:a}=e;return!!a&&"object"==typeof a&&"value"in a}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function b(e){const{values:a,children:t}=e;return(0,n.useMemo)((()=>{const e=a??function(e){return h(e).map((e=>{let{props:{value:a,label:t,attributes:n,default:s}}=e;return{value:a,label:t,attributes:n,default:s}}))}(t);return function(e){const a=(0,i.XI)(e,((e,a)=>e.value===a.value));if(a.length>0)throw new Error(`Docusaurus error: Duplicate values "${a.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[a,t])}function f(e){let{value:a,tabValues:t}=e;return t.some((e=>e.value===a))}function u(e){let{queryString:a=!1,groupId:t}=e;const s=(0,c.W6)(),d=function(e){let{queryString:a=!1,groupId:t}=e;if("string"==typeof a)return a;if(!1===a)return null;if(!0===a&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:a,groupId:t});return[(0,r.aZ)(d),(0,n.useCallback)((e=>{if(!d)return;const a=new URLSearchParams(s.location.search);a.set(d,e),s.replace({...s.location,search:a.toString()})}),[d,s])]}function p(e){const{defaultValue:a,queryString:t=!1,groupId:s}=e,d=b(e),[c,r]=(0,n.useState)((()=>function(e){let{defaultValue:a,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(a){if(!f({value:a,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${a}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return a}const n=t.find((e=>e.default))??t[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:a,tabValues:d}))),[i,h]=u({queryString:t,groupId:s}),[p,x]=function(e){let{groupId:a}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(a),[s,d]=(0,o.Dv)(t);return[s,(0,n.useCallback)((e=>{t&&d.set(e)}),[t,d])]}({groupId:s}),g=(()=>{const e=i??p;return f({value:e,tabValues:d})?e:null})();(0,l.A)((()=>{g&&r(g)}),[g]);return{selectedValue:c,selectValue:(0,n.useCallback)((e=>{if(!f({value:e,tabValues:d}))throw new Error(`Can't select invalid tab value=${e}`);r(e),h(e),x(e)}),[h,x,d]),tabValues:d}}var x=t(11062);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var j=t(74848);function m(e){let{className:a,block:t,selectedValue:n,selectValue:c,tabValues:l}=e;const r=[],{blockElementScrollPositionUntilNextRender:i}=(0,d.a_)(),o=e=>{const a=e.currentTarget,t=r.indexOf(a),s=l[t].value;s!==n&&(i(a),c(s))},h=e=>{let a=null;switch(e.key){case"Enter":o(e);break;case"ArrowRight":{const t=r.indexOf(e.currentTarget)+1;a=r[t]??r[0];break}case"ArrowLeft":{const t=r.indexOf(e.currentTarget)-1;a=r[t]??r[r.length-1];break}}a?.focus()};return(0,j.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":t},a),children:l.map((e=>{let{value:a,label:t,attributes:d}=e;return(0,j.jsx)("li",{role:"tab",tabIndex:n===a?0:-1,"aria-selected":n===a,ref:e=>r.push(e),onKeyDown:h,onClick:o,...d,className:(0,s.A)("tabs__item",g.tabItem,d?.className,{"tabs__item--active":n===a}),children:t??a},a)}))})}function y(e){let{lazy:a,children:t,selectedValue:d}=e;const c=(Array.isArray(t)?t:[t]).filter(Boolean);if(a){const e=c.find((e=>e.props.value===d));return e?(0,n.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,j.jsx)("div",{className:"margin-top--md",children:c.map(((e,a)=>(0,n.cloneElement)(e,{key:a,hidden:e.props.value!==d})))})}function v(e){const a=p(e);return(0,j.jsxs)("div",{className:(0,s.A)("tabs-container",g.tabList),children:[(0,j.jsx)(m,{...a,...e}),(0,j.jsx)(y,{...a,...e})]})}function w(e){const a=(0,x.A)();return(0,j.jsx)(v,{...e,children:h(e.children)},String(a))}},28453:(e,a,t)=>{t.d(a,{R:()=>c,x:()=>l});var n=t(96540);const s={},d=n.createContext(s);function c(e){const a=n.useContext(d);return n.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function l(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),n.createElement(d.Provider,{value:a},e.children)}}}]);