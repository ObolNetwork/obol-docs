<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-v0.19.0 docs-doc-page docs-doc-id-charon/dkg" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.3">
<title data-rh="true">Distributed Key Generation | Obol Network</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.obol.org/v0.19.0/charon/dkg"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:image" content="/img/obol_og_image.png"><meta data-rh="true" property="og:image:width" content="1200"><meta data-rh="true" property="og:image:height" content="630"><meta data-rh="true" name="docusaurus_version" content="v0.19.0"><meta data-rh="true" name="docusaurus_tag" content="docs-default-v0.19.0"><meta data-rh="true" name="docsearch:version" content="v0.19.0"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-v0.19.0"><meta data-rh="true" property="og:title" content="Distributed Key Generation | Obol Network"><meta data-rh="true" name="description" content="Generating private keys for a Distributed Validator requires a Distributed Key Generation (DKG) Ceremony."><meta data-rh="true" property="og:description" content="Generating private keys for a Distributed Validator requires a Distributed Key Generation (DKG) Ceremony."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.obol.org/v0.19.0/charon/dkg"><link data-rh="true" rel="alternate" href="https://docs.obol.org/v0.19.0/charon/dkg" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.obol.org/v0.19.0/charon/dkg" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DTT2S469C4"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-DTT2S469C4",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.8db7a3f7.css">
<script src="/assets/js/runtime~main.a8b25d4e.js" defer="defer"></script>
<script src="/assets/js/main.33275c53.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?t("light"):t("dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/ObolIconDark.svg" alt="Obol Network Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/ObolIconLight.svg" alt="Obol Network Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Obol Network</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/learn/intro/obol-collective">Docs</a><a class="navbar__item navbar__link" href="/api">API</a><a class="navbar__item navbar__link" href="/sdk">SDK</a><a href="https://blog.obol.tech" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/obolnetwork/obol-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/v0.19.0/charon/dkg">v0.19.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/next/learn/intro/obol-collective">Next</a></li><li><a class="dropdown__link" href="/learn/intro/obol-collective">v1.2.0</a></li><li><a class="dropdown__link" href="/v1.1.2/charon/dkg">v1.1.2</a></li><li><a class="dropdown__link" href="/v1.1.1/charon/dkg">v1.1.1</a></li><li><a class="dropdown__link" href="/v1.1.0/charon/dkg">v1.1.0</a></li><li><a class="dropdown__link" href="/v1.0.0/charon/dkg">v1.0.0</a></li><li><a class="dropdown__link" href="/v0.19.2/charon/dkg">v0.19.2</a></li><li><a class="dropdown__link" href="/v0.19.1/charon/dkg">v0.19.1</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/v0.19.0/charon/dkg">v0.19.0</a></li><li><a class="dropdown__link" href="/v0.18.0/charon/dkg">v0.18.0</a></li><li><a class="dropdown__link" href="/v0.17.1/charon/dkg">v0.17.1</a></li><li><a class="dropdown__link" href="/v0.17.0/charon/dkg">v0.17.0</a></li><li><a class="dropdown__link" href="/v0.16.0/charon/dkg">v0.16.0</a></li><li><a class="dropdown__link" href="/v0.15.0/charon/dkg">v0.15.0</a></li><li><a class="dropdown__link" href="/v0.14.4/charon/dkg">v0.14.4</a></li><li><a class="dropdown__link" href="/v0.14.0/charon/dkg">v0.14.0</a></li><li><a class="dropdown__link" href="/v0.13.0/charon/dkg">v0.13.0</a></li><li><a class="dropdown__link" href="/v0.12.0/intro">v0.12.0</a></li><li><a class="dropdown__link" href="/v0.11.0/intro">v0.11.0</a></li><li><a class="dropdown__link" href="/v0.10.1/intro">v0.10.1</a></li><li><a class="dropdown__link" href="/v0.10.0/intro">v0.10.0</a></li><li><a class="dropdown__link" href="/v0.9.0/intro">v0.9.0</a></li><li><a class="dropdown__link" href="/v0.8.1/intro">v0.8.1</a></li><li><a class="dropdown__link" href="/v0.8.0/intro">v0.8.0</a></li><li><a class="dropdown__link" href="/v0.7.0/intro">v0.7.0</a></li><li><a class="dropdown__link" href="/v0.6.1/intro">v0.6.1</a></li><li><a class="dropdown__link" href="/v0.6.0/intro">v0.6.0</a></li><li><a class="dropdown__link" href="/v0.5.0/intro">v0.5.0</a></li><li><a class="dropdown__link" href="/v0.4.0/intro">v0.4.0</a></li><li><a class="dropdown__link" href="/v0.3.0/intro">v0.3.0</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite" aria-pressed="true"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-v0.19.0"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v0.19.0/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/v0.19.0/int/Overview">Getting started</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v0.19.0/int/Overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v0.19.0/int/key-concepts">Key concepts</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/v0.19.0/int/quickstart">Quickstart Guides</a><button aria-label="Collapse sidebar category &#x27;Quickstart Guides&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/v0.19.0/int/quickstart/alone/test-locally">Create a DV alone</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/v0.19.0/int/quickstart/group">Create a DV as a group</a><button aria-label="Expand sidebar category &#x27;Create a DV as a group&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/v0.19.0/int/quickstart/activate-dv">Activate a DV</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/v0.19.0/int/quickstart/update">Update a DV</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/v0.19.0/int/quickstart/quickstart-exit">Exit a DV</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/v0.19.0/int/quickstart/quickstart-mainnet">Run a DV on mainnet</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/v0.19.0/int/quickstart/advanced/quickstart-sdk">Advanced Guides</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/v0.19.0/int/faq/general">FAQ</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/v0.19.0/charon/intro">Charon</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v0.19.0/charon/intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/v0.19.0/charon/dkg">Distributed Key Generation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v0.19.0/charon/cluster-configuration">Cluster configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v0.19.0/charon/networking">Charon networking</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v0.19.0/charon/charon-cli-reference">CLI reference</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/v0.19.0/dvl/intro">DV Launchpad</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/v0.19.0/sc/introducing-obol-splits">Smart contracts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/v0.19.0/sec/overview">Security</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/v0.19.0/cg/bug-report">Contribution &amp; Feedback</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/v0.19.0/fr/eth">Further reading</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->Obol Network<!-- --> <b>v0.19.0</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/learn/intro/obol-collective">latest version</a></b> (<!-- -->v1.2.0<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Charon</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Distributed Key Generation</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v0.19.0</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Distributed Key Generation</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2>
<p>A <a href="/v0.19.0/int/key-concepts#distributed-validator-key"><strong>distributed validator key</strong></a> is a group of BLS private keys that together operate as a threshold key for participating in proof-of-stake consensus.</p>
<p>To make a distributed validator with no fault-tolerance (i.e. all nodes need to be online to sign every message), due to the BLS signature scheme used by Proof of Stake Ethereum, each key share could be chosen by operators independently. However, to create a distributed validator that can stay online despite a subset of its nodes going offline, the key shares need to be generated together (4 randomly chosen points on a graph don&#x27;t all necessarily sit on the same order three curve). To do this in a secure manner with no one party being trusted to distribute the keys requires what is known as a <a href="/v0.19.0/int/key-concepts#distributed-validator-key-generation-ceremony"><strong>distributed key generation ceremony</strong></a>.</p>
<p>The charon client has the responsibility of securely completing a distributed key generation ceremony with its counterparty nodes. The ceremony configuration is outlined in a <a href="/v0.19.0/charon/cluster-configuration">cluster definition</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="actors-involved">Actors Involved<a href="#actors-involved" class="hash-link" aria-label="Direct link to Actors Involved" title="Direct link to Actors Involved">​</a></h2>
<p>A distributed key generation ceremony involves <code>Operators</code> and their <code>Charon clients</code>.</p>
<ul>
<li>
<p>An <code>Operator</code> is identified by their Ethereum address. They will sign a message with this address to authorize their charon client to take part in the DKG ceremony.</p>
</li>
<li>
<p>A <code>Charon client</code> is also identified by a public/private key pair, in this instance, the public key is represented as an <a href="https://eips.ethereum.org/EIPS/eip-778" target="_blank" rel="noopener noreferrer">Ethereum Node Record</a> (ENR). This is a standard identity format for both EL and CL clients. These ENRs are used by each charon node to identify its cluster peers over the internet, and to communicate with one another in an <a href="https://github.com/libp2p/go-libp2p/tree/master/p2p/security/noise" target="_blank" rel="noopener noreferrer">end to end encrypted manner</a>. These keys need to be created (and backed up) by each operator before they can participate in a cluster creation.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-definition-creation">Cluster Definition Creation<a href="#cluster-definition-creation" class="hash-link" aria-label="Direct link to Cluster Definition Creation" title="Direct link to Cluster Definition Creation">​</a></h2>
<p>This cluster definition specifies the intended cluster configuration before keys have been created in a distributed key generation ceremony. The <code>cluster-definition.json</code> file can be created with the help of the <a href="/v0.19.0/charon/cluster-configuration#using-the-dv-launchpad">Distributed Validator Launchpad</a> or via the <a href="/v0.19.0/charon/cluster-configuration#using-the-cli">CLI</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="carrying-out-the-dkg-ceremony">Carrying out the DKG ceremony<a href="#carrying-out-the-dkg-ceremony" class="hash-link" aria-label="Direct link to Carrying out the DKG ceremony" title="Direct link to Carrying out the DKG ceremony">​</a></h2>
<p>Once all participants have signed the cluster definition, they can load the <code>cluster-definition</code> file into their charon client, and the client will attempt to complete the DKG.</p>
<p>Charon will read the ENRs in the definition, confirm that its ENR is present, and then will reach out to relays that are deployed to find the other ENRs on the network. (Fresh ENRs just have a public key and an IP address of 0.0.0.0 until they are loaded into a live charon client, which will update the IP address and increment the ENRs nonce and resign with the clients private key. If an ENR with a higher nonce is seen by a charon client, they will update the IP address of that ENR in their address book.)</p>
<p>Once all clients in the cluster can establish a connection with one another and they each complete a handshake (confirm everyone has a matching <code>cluster_definition_hash</code>), the ceremony begins.</p>
<p>No user input is required, charon does the work and outputs the following files to each machine and then exits.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="backing-up-the-ceremony-artifacts">Backing up the ceremony artifacts<a href="#backing-up-the-ceremony-artifacts" class="hash-link" aria-label="Direct link to Backing up the ceremony artifacts" title="Direct link to Backing up the ceremony artifacts">​</a></h2>
<p>At the end of a DKG ceremony, each operator will have a number of files outputted by their charon client based on how many distributed validators the group chose to generate together.</p>
<p>These files are:</p>
<ul>
<li><strong>Validator keystore(s):</strong> These files will be loaded into the operator&#x27;s validator client and each file represents one share of a Distributed Validator.</li>
<li><strong>A distributed validator cluster lock file:</strong> This <code>cluster-lock.json</code> file contains the configuration a distributed validator client like charon needs to join a cluster capable of operating a number of distributed validators.</li>
<li><strong>Validator deposit data:</strong> This file is used to activate one or more distributed validators on the Ethereum network.</li>
</ul>
<p>Once the ceremony is complete, all participants should take a backup of the created files. In future versions of charon, if a participant loses access to these key shares, it will be possible to use a key re-sharing protocol to swap the participants old keys out of a distributed validator in favor of new keys, allowing the rest of a cluster to recover from a set of lost key shares. However for now, without a backup, the safest thing to do would be to exit the validator.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="dkg-verification">DKG Verification<a href="#dkg-verification" class="hash-link" aria-label="Direct link to DKG Verification" title="Direct link to DKG Verification">​</a></h2>
<p>For many use cases of distributed validators, the funder/depositor of the validator may not be the same person as the key creators/node operators, as (outside of the base protocol) stake delegation is a common phenomenon. This handover of information introduces a point of trust. How does someone verify that a proposed validator <code>deposit data</code> corresponds to a real, fair, DKG with participants the depositor expects?</p>
<p>There are a number of aspects to this trust surface that can be mitigated with a &quot;Don&#x27;t trust, verify&quot; model. Verification for the time being is easier off chain, until things like a <a href="https://eips.ethereum.org/EIPS/eip-2537" target="_blank" rel="noopener noreferrer">BLS precompile</a> are brought into the EVM, along with cheap ZKP verification on chain. Some of the questions that can be asked of Distributed Validator Key Generation Ceremonies include:</p>
<ul>
<li>Do the public key shares combine together to form the group public key?<!-- -->
<ul>
<li>This can be checked on chain as it does not require a pairing operation</li>
<li>This can give confidence that a BLS pubkey represents a Distributed Validator, but does not say anything about the custody of the keys. (e.g. Was the ceremony sybil attacked, did they collude to reconstitute the group private key etc.)</li>
</ul>
</li>
<li>Do the created BLS public keys attest to their <code>cluster_definition_hash</code>?<!-- -->
<ul>
<li>This is to create a backwards link between newly created BLS public keys and the operator&#x27;s eth1 addresses that took part in their creation.</li>
<li>If a proposed distributed validator BLS group public key can produce a signature of the <code>cluster_definition_hash</code>, it can be inferred that at least a threshold of the operators signed this data.</li>
<li>As the <code>cluster_definition_hash</code> is the same for all distributed validators created in the ceremony, the signatures can be aggregated into a group signature that verifies all created group keys at once. This makes it cheaper to verify a number of validators at once on chain.</li>
</ul>
</li>
<li>Is there either a VSS or PVSS proof of a fair DKG ceremony?<!-- -->
<ul>
<li>VSS (Verifiable Secret Sharing) means only operators can verify fairness, as the proof requires knowledge of one of the secrets.</li>
<li>PVSS (Publicly Verifiable Secret Sharing) means anyone can verify fairness, as the proof is usually a Zero Knowledge Proof.</li>
<li>A PVSS of a fair DKG would make it more difficult for operators to collude and undermine the security of the Distributed Validator.</li>
<li>Zero Knowledge Proof verification on chain is currently expensive, but is becoming achievable through the hard work and research of the many ZK based teams in the industry.</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="appendix">Appendix<a href="#appendix" class="hash-link" aria-label="Direct link to Appendix" title="Direct link to Appendix">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sample-configuration-and-lock-files">Sample Configuration and Lock Files<a href="#sample-configuration-and-lock-files" class="hash-link" aria-label="Direct link to Sample Configuration and Lock Files" title="Direct link to Sample Configuration and Lock Files">​</a></h3>
<p>Refer to the details <a href="/v0.19.0/charon/cluster-configuration">here</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/ObolNetwork/obol-docs/edit/main/versioned_docs/version-v0.19.0/charon/dkg.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/v0.19.0/charon/intro"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Introduction</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/v0.19.0/charon/cluster-configuration"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Cluster configuration</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#actors-involved" class="table-of-contents__link toc-highlight">Actors Involved</a></li><li><a href="#cluster-definition-creation" class="table-of-contents__link toc-highlight">Cluster Definition Creation</a></li><li><a href="#carrying-out-the-dkg-ceremony" class="table-of-contents__link toc-highlight">Carrying out the DKG ceremony</a></li><li><a href="#backing-up-the-ceremony-artifacts" class="table-of-contents__link toc-highlight">Backing up the ceremony artifacts</a></li><li><a href="#dkg-verification" class="table-of-contents__link toc-highlight">DKG Verification</a></li><li><a href="#appendix" class="table-of-contents__link toc-highlight">Appendix</a><ul><li><a href="#sample-configuration-and-lock-files" class="table-of-contents__link toc-highlight">Sample Configuration and Lock Files</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Discover</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/ObolNetwork" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li><li class="footer__item"><a href="https://status.obol.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Status</a></li><li class="footer__item"><a class="footer__link-item" href="/learn/intro/launchpad">DV Launchpad</a></li><li class="footer__item"><a class="footer__link-item" href="/learn/futher-reading/resources">Useful Links</a></li></ul></div><div class="col footer__col"><div class="footer__title">Obol Collective</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://obol.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Obol.org</a></li><li class="footer__item"><a href="https://discord.gg/obol" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://x.com/Obol_Collective" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://blog.obol.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li></ul></div><div class="col footer__col"><div class="footer__title">DV Labs</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://dvlabs.tech" target="_blank" rel="noopener noreferrer" class="footer__link-item">DVLabs.tech</a></li><li class="footer__item"><a href="https://x.com/DV_Labs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://dvlabs.tech/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://obol.org/" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/img/ObolLineWhite.svg" alt="Obol Network Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width="30px" height="30px"><img src="/img/ObolLineWhite.svg" alt="Obol Network Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width="30px" height="30px"></a></div><div class="footer__copyright">Copyright © 2025 Obol Labs, Inc. </div></div></div></footer></div>
</body>
</html>